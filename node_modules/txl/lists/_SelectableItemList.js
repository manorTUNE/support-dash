'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _FlatSelectableItemList = require('./_FlatSelectableItemList');

var _FlatSelectableItemList2 = _interopRequireDefault(_FlatSelectableItemList);

var _GroupedSelectableItemList = require('./_GroupedSelectableItemList');

var _GroupedSelectableItemList2 = _interopRequireDefault(_GroupedSelectableItemList);

var _listHelpers = require('../lists/listHelpers');

var _lists = require('./lists.style');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO-TRANSLATE
var NO_ITEMS_FOUND = 'No Items Found';

var CONTAINER_STYLES = {
  overflowX: 'hidden',
  overflowY: 'auto'
};

var TxlSelectableItemList = (0, _radium2.default)(_class = function (_React$Component) {
  (0, _inherits3.default)(TxlSelectableItemList, _React$Component);

  function TxlSelectableItemList() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlSelectableItemList);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlSelectableItemList.__proto__ || (0, _getPrototypeOf2.default)(TxlSelectableItemList)).call.apply(_ref, [this].concat(args)));

    _this.calculateVisibleStyles = function () {
      return _this.__calculateVisibleStyles__REACT_HOT_LOADER__.apply(_this, arguments);
    };

    _this._groupedItems = (0, _listHelpers.hasGroupedItems)(_this.props.items);
    _this.calculateVisibleStyles(_this.props.visibleItemCount);
    return _this;
  }

  (0, _createClass3.default)(TxlSelectableItemList, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.visibleItemCount !== this.props.visibleItemCount) {
        this.calculateVisibleStyles(nextProps.visibleItemCount);
      }
    }
  }, {
    key: '__calculateVisibleStyles__REACT_HOT_LOADER__',
    value: function __calculateVisibleStyles__REACT_HOT_LOADER__() {
      return this.__calculateVisibleStyles__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '__calculateVisibleStyles__REACT_HOT_LOADER__',
    value: function __calculateVisibleStyles__REACT_HOT_LOADER__() {
      return this.__calculateVisibleStyles__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '__calculateVisibleStyles__REACT_HOT_LOADER__',
    value: function __calculateVisibleStyles__REACT_HOT_LOADER__(visibleItemCount) {
      this._maxHeight = _lists.ITEM_HEIGHT * visibleItemCount;
      this._containerStyles = (0, _extends3.default)({}, CONTAINER_STYLES, {
        maxHeight: this._maxHeight
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          itemHeight = _props.itemHeight,
          items = _props.items,
          onClick = _props.onClick,
          selectedValues = _props.selectedValues;


      var ItemListComponent = this._groupedItems ? _GroupedSelectableItemList2.default : _FlatSelectableItemList2.default;

      return _react2.default.createElement(
        'div',
        {
          'data-component': 'TxlSelectableItemList',
          id: id,
          style: this._containerStyles
        },
        items.length ? _react2.default.createElement(ItemListComponent, {
          id: id,
          itemHeight: itemHeight,
          items: items,
          onClick: onClick,
          selectedValues: selectedValues
        }) : _react2.default.createElement(
          'div',
          { style: _lists.LIST_ITEM_STYLE },
          NO_ITEMS_FOUND
        )
      );
    }
  }]);
  return TxlSelectableItemList;
}(_react2.default.Component)) || _class;

exports.default = TxlSelectableItemList;


TxlSelectableItemList.displayName = 'TxlSelectableItemList';
TxlSelectableItemList.propTypes = {
  id: _react.PropTypes.string,
  itemHeight: _react.PropTypes.oneOfType([_FlatSelectableItemList2.default.propTypes.itemHeight, _GroupedSelectableItemList2.default.propTypes.itemHeight]),
  items: _react.PropTypes.oneOfType([_FlatSelectableItemList2.default.propTypes.items, _GroupedSelectableItemList2.default.propTypes.items]),
  onClick: _react.PropTypes.func.isRequired,
  selectedValues: _react.PropTypes.arrayOf(_react.PropTypes.string),
  visibleItemCount: _react.PropTypes.number
};

TxlSelectableItemList.defaultProps = {
  itemHeight: 'auto',
  selectedValues: [],
  visibleItemCount: 12
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(NO_ITEMS_FOUND, 'NO_ITEMS_FOUND', 'src/lists/_SelectableItemList.jsx');

  __REACT_HOT_LOADER__.register(CONTAINER_STYLES, 'CONTAINER_STYLES', 'src/lists/_SelectableItemList.jsx');

  __REACT_HOT_LOADER__.register(TxlSelectableItemList, 'TxlSelectableItemList', 'src/lists/_SelectableItemList.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saXN0cy9fU2VsZWN0YWJsZUl0ZW1MaXN0LmpzeCJdLCJuYW1lcyI6WyJOT19JVEVNU19GT1VORCIsIkNPTlRBSU5FUl9TVFlMRVMiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJUeGxTZWxlY3RhYmxlSXRlbUxpc3QiLCJhcmdzIiwiY2FsY3VsYXRlVmlzaWJsZVN0eWxlcyIsIl9ncm91cGVkSXRlbXMiLCJwcm9wcyIsIml0ZW1zIiwidmlzaWJsZUl0ZW1Db3VudCIsIm5leHRQcm9wcyIsIl9tYXhIZWlnaHQiLCJfY29udGFpbmVyU3R5bGVzIiwibWF4SGVpZ2h0IiwiaWQiLCJpdGVtSGVpZ2h0Iiwib25DbGljayIsInNlbGVjdGVkVmFsdWVzIiwiSXRlbUxpc3RDb21wb25lbnQiLCJsZW5ndGgiLCJDb21wb25lbnQiLCJkaXNwbGF5TmFtZSIsInByb3BUeXBlcyIsInN0cmluZyIsIm9uZU9mVHlwZSIsImZ1bmMiLCJpc1JlcXVpcmVkIiwiYXJyYXlPZiIsIm51bWJlciIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUtBO0FBQ0EsSUFBTUEsaUJBQWlCLGdCQUF2Qjs7QUFFQSxJQUFNQyxtQkFBbUI7QUFDdkJDLGFBQVcsUUFEWTtBQUV2QkMsYUFBVztBQUZZLENBQXpCOztJQU1xQkMscUI7OztBQUNuQixtQ0FBcUI7QUFBQTs7QUFBQTs7QUFBQSxzQ0FBTkMsSUFBTTtBQUFOQSxVQUFNO0FBQUE7O0FBQUEsK0xBQ1ZBLElBRFU7O0FBQUEsVUFZckJDLHNCQVpxQjtBQUFBO0FBQUE7O0FBRW5CLFVBQUtDLGFBQUwsR0FBcUIsa0NBQWdCLE1BQUtDLEtBQUwsQ0FBV0MsS0FBM0IsQ0FBckI7QUFDQSxVQUFLSCxzQkFBTCxDQUE0QixNQUFLRSxLQUFMLENBQVdFLGdCQUF2QztBQUhtQjtBQUlwQjs7Ozs4Q0FFeUJDLFMsRUFBVztBQUNuQyxVQUFJQSxVQUFVRCxnQkFBVixLQUErQixLQUFLRixLQUFMLENBQVdFLGdCQUE5QyxFQUFnRTtBQUM5RCxhQUFLSixzQkFBTCxDQUE0QkssVUFBVUQsZ0JBQXRDO0FBQ0Q7QUFDRjs7Ozs7Ozs7Ozs7OztpRUFFeUJBLGdCLEVBQXFCO0FBQzdDLFdBQUtFLFVBQUwsR0FBa0IscUJBQWNGLGdCQUFoQztBQUNBLFdBQUtHLGdCQUFMLDhCQUNLWixnQkFETDtBQUVFYSxtQkFBVyxLQUFLRjtBQUZsQjtBQUlEOzs7NkJBRVE7QUFBQSxtQkFPSCxLQUFLSixLQVBGO0FBQUEsVUFFTE8sRUFGSyxVQUVMQSxFQUZLO0FBQUEsVUFHTEMsVUFISyxVQUdMQSxVQUhLO0FBQUEsVUFJTFAsS0FKSyxVQUlMQSxLQUpLO0FBQUEsVUFLTFEsT0FMSyxVQUtMQSxPQUxLO0FBQUEsVUFNTEMsY0FOSyxVQU1MQSxjQU5LOzs7QUFTUCxVQUFNQyxvQkFBb0IsS0FBS1osYUFBTCx5RUFBMUI7O0FBSUEsYUFDRTtBQUFBO0FBQUE7QUFDRSw0QkFBZSx1QkFEakI7QUFFRSxjQUFJUSxFQUZOO0FBR0UsaUJBQU8sS0FBS0Y7QUFIZDtBQUtHSixjQUFNVyxNQUFOLEdBQ0MsOEJBQUMsaUJBQUQ7QUFDRSxjQUFJTCxFQUROO0FBRUUsc0JBQVlDLFVBRmQ7QUFHRSxpQkFBT1AsS0FIVDtBQUlFLG1CQUFTUSxPQUpYO0FBS0UsMEJBQWdCQztBQUxsQixVQURELEdBU0M7QUFBQTtBQUFBLFlBQUssNkJBQUw7QUFBOEJsQjtBQUE5QjtBQWRKLE9BREY7QUFtQkQ7OztFQXJEZ0QsZ0JBQU1xQixTOztrQkFBcENqQixxQjs7O0FBd0RyQkEsc0JBQXNCa0IsV0FBdEIsR0FBb0MsdUJBQXBDO0FBQ0FsQixzQkFBc0JtQixTQUF0QixHQUFrQztBQUNoQ1IsTUFBSSxpQkFBVVMsTUFEa0I7QUFFaENSLGNBQVksaUJBQVVTLFNBQVYsQ0FBb0IsQ0FDOUIsaUNBQXVCRixTQUF2QixDQUFpQ1AsVUFESCxFQUU5QixvQ0FBMEJPLFNBQTFCLENBQW9DUCxVQUZOLENBQXBCLENBRm9CO0FBTWhDUCxTQUFPLGlCQUFVZ0IsU0FBVixDQUFvQixDQUN6QixpQ0FBdUJGLFNBQXZCLENBQWlDZCxLQURSLEVBRXpCLG9DQUEwQmMsU0FBMUIsQ0FBb0NkLEtBRlgsQ0FBcEIsQ0FOeUI7QUFVaENRLFdBQVMsaUJBQVVTLElBQVYsQ0FBZUMsVUFWUTtBQVdoQ1Qsa0JBQWdCLGlCQUFVVSxPQUFWLENBQWtCLGlCQUFVSixNQUE1QixDQVhnQjtBQVloQ2Qsb0JBQWtCLGlCQUFVbUI7QUFaSSxDQUFsQzs7QUFlQXpCLHNCQUFzQjBCLFlBQXRCLEdBQXFDO0FBQ25DZCxjQUFZLE1BRHVCO0FBRW5DRSxrQkFBZ0IsRUFGbUI7QUFHbkNSLG9CQUFrQjtBQUhpQixDQUFyQzs7Ozs7Ozs7Z0NBaEZNVixjOztnQ0FFQUMsZ0I7O2dDQU1lRyxxQiIsImZpbGUiOiJfU2VsZWN0YWJsZUl0ZW1MaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFByb3BUeXBlcyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSYWRpdW0gZnJvbSAncmFkaXVtJztcblxuaW1wb3J0IEZsYXRTZWxlY3RhYmxlSXRlbUxpc3QgZnJvbSAnLi9fRmxhdFNlbGVjdGFibGVJdGVtTGlzdCc7XG5pbXBvcnQgR3JvdXBlZFNlbGVjdGFibGVJdGVtTGlzdCBmcm9tICcuL19Hcm91cGVkU2VsZWN0YWJsZUl0ZW1MaXN0JztcbmltcG9ydCB7IGhhc0dyb3VwZWRJdGVtcyB9IGZyb20gJy4uL2xpc3RzL2xpc3RIZWxwZXJzJztcbmltcG9ydCB7XG4gIElURU1fSEVJR0hULFxuICBMSVNUX0lURU1fU1RZTEUsXG59IGZyb20gJy4vbGlzdHMuc3R5bGUnO1xuXG4vLyBAVE9ETy1UUkFOU0xBVEVcbmNvbnN0IE5PX0lURU1TX0ZPVU5EID0gJ05vIEl0ZW1zIEZvdW5kJztcblxuY29uc3QgQ09OVEFJTkVSX1NUWUxFUyA9IHtcbiAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgb3ZlcmZsb3dZOiAnYXV0bycsXG59O1xuXG5AUmFkaXVtXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUeGxTZWxlY3RhYmxlSXRlbUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgc3VwZXIoLi4uYXJncyk7XG4gICAgdGhpcy5fZ3JvdXBlZEl0ZW1zID0gaGFzR3JvdXBlZEl0ZW1zKHRoaXMucHJvcHMuaXRlbXMpO1xuICAgIHRoaXMuY2FsY3VsYXRlVmlzaWJsZVN0eWxlcyh0aGlzLnByb3BzLnZpc2libGVJdGVtQ291bnQpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBpZiAobmV4dFByb3BzLnZpc2libGVJdGVtQ291bnQgIT09IHRoaXMucHJvcHMudmlzaWJsZUl0ZW1Db3VudCkge1xuICAgICAgdGhpcy5jYWxjdWxhdGVWaXNpYmxlU3R5bGVzKG5leHRQcm9wcy52aXNpYmxlSXRlbUNvdW50KTtcbiAgICB9XG4gIH1cblxuICBjYWxjdWxhdGVWaXNpYmxlU3R5bGVzID0gKHZpc2libGVJdGVtQ291bnQpID0+IHtcbiAgICB0aGlzLl9tYXhIZWlnaHQgPSBJVEVNX0hFSUdIVCAqIHZpc2libGVJdGVtQ291bnQ7XG4gICAgdGhpcy5fY29udGFpbmVyU3R5bGVzID0ge1xuICAgICAgLi4uQ09OVEFJTkVSX1NUWUxFUyxcbiAgICAgIG1heEhlaWdodDogdGhpcy5fbWF4SGVpZ2h0LFxuICAgIH07XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBpdGVtSGVpZ2h0LFxuICAgICAgaXRlbXMsXG4gICAgICBvbkNsaWNrLFxuICAgICAgc2VsZWN0ZWRWYWx1ZXMsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBJdGVtTGlzdENvbXBvbmVudCA9IHRoaXMuX2dyb3VwZWRJdGVtcyA/XG4gICAgICBHcm91cGVkU2VsZWN0YWJsZUl0ZW1MaXN0IDpcbiAgICAgIEZsYXRTZWxlY3RhYmxlSXRlbUxpc3Q7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBkYXRhLWNvbXBvbmVudD1cIlR4bFNlbGVjdGFibGVJdGVtTGlzdFwiXG4gICAgICAgIGlkPXtpZH1cbiAgICAgICAgc3R5bGU9e3RoaXMuX2NvbnRhaW5lclN0eWxlc31cbiAgICAgID5cbiAgICAgICAge2l0ZW1zLmxlbmd0aCA/XG4gICAgICAgICAgPEl0ZW1MaXN0Q29tcG9uZW50XG4gICAgICAgICAgICBpZD17aWR9XG4gICAgICAgICAgICBpdGVtSGVpZ2h0PXtpdGVtSGVpZ2h0fVxuICAgICAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzPXtzZWxlY3RlZFZhbHVlc31cbiAgICAgICAgICAvPlxuICAgICAgICA6XG4gICAgICAgICAgPGRpdiBzdHlsZT17TElTVF9JVEVNX1NUWUxFfT57Tk9fSVRFTVNfRk9VTkR9PC9kaXY+XG4gICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblR4bFNlbGVjdGFibGVJdGVtTGlzdC5kaXNwbGF5TmFtZSA9ICdUeGxTZWxlY3RhYmxlSXRlbUxpc3QnO1xuVHhsU2VsZWN0YWJsZUl0ZW1MaXN0LnByb3BUeXBlcyA9IHtcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGl0ZW1IZWlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIEZsYXRTZWxlY3RhYmxlSXRlbUxpc3QucHJvcFR5cGVzLml0ZW1IZWlnaHQsXG4gICAgR3JvdXBlZFNlbGVjdGFibGVJdGVtTGlzdC5wcm9wVHlwZXMuaXRlbUhlaWdodCxcbiAgXSksXG4gIGl0ZW1zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBGbGF0U2VsZWN0YWJsZUl0ZW1MaXN0LnByb3BUeXBlcy5pdGVtcyxcbiAgICBHcm91cGVkU2VsZWN0YWJsZUl0ZW1MaXN0LnByb3BUeXBlcy5pdGVtcyxcbiAgXSksXG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHNlbGVjdGVkVmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgdmlzaWJsZUl0ZW1Db3VudDogUHJvcFR5cGVzLm51bWJlcixcbn07XG5cblR4bFNlbGVjdGFibGVJdGVtTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gIGl0ZW1IZWlnaHQ6ICdhdXRvJyxcbiAgc2VsZWN0ZWRWYWx1ZXM6IFtdLFxuICB2aXNpYmxlSXRlbUNvdW50OiAxMixcbn07XG4iXX0=