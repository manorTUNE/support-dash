'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _desc, _value, _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Base = require('../base/Base');

var _Close = require('../icons/Close');

var _Close2 = _interopRequireDefault(_Close);

var _HighlightNote = require('./HighlightNote');

var _HighlightNote2 = _interopRequireDefault(_HighlightNote);

var _colorHelpers = require('../styles/_helpers/colorHelpers');

var _GhostButton = require('./_GhostButton');

var _GhostButton2 = _interopRequireDefault(_GhostButton);

var _Underline = require('../layout/_Underline');

var _Underline2 = _interopRequireDefault(_Underline);

var _NotificationColors = require('./NotificationColors.style');

var _SystemNotification = require('./_SystemNotification.style');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var TxlSystemNotificationControlled = (_class = function (_React$Component) {
  (0, _inherits3.default)(TxlSystemNotificationControlled, _React$Component);

  function TxlSystemNotificationControlled() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlSystemNotificationControlled);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlSystemNotificationControlled.__proto__ || (0, _getPrototypeOf2.default)(TxlSystemNotificationControlled)).call.apply(_ref, [this].concat(args)));

    _this.state = { dismissHovered: false };
    return _this;
  }

  (0, _createClass3.default)(TxlSystemNotificationControlled, [{
    key: '_onDismissMouseEnter',
    value: function _onDismissMouseEnter() {
      this.setState({ dismissHovered: true });
    }
  }, {
    key: '_onDismissMouseLeave',
    value: function _onDismissMouseLeave() {
      this.setState({ dismissHovered: false });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          button = _props.button,
          dismissed = _props.dismissed,
          onDismiss = _props.onDismiss,
          message = _props.message,
          variant = _props.variant;


      if (dismissed) {
        return null;
      }

      var dismissOpacity = this.state.dismissHovered ? _NotificationColors.GHOST_ICON_HOVERED_OPACITY : _NotificationColors.GHOST_ICON_OPACITY;
      var dismissColor = (0, _colorHelpers.getColorWithOpacity)(_NotificationColors.COLORS[variant].color, dismissOpacity);

      return _react2.default.createElement(
        'div',
        { 'data-component': 'TxlSystemNotificationControlled' },
        _react2.default.createElement(
          _HighlightNote2.default,
          { variant: variant },
          _react2.default.createElement(
            'div',
            { style: _SystemNotification.CONTENT_CONTAINER_STYLE },
            _react2.default.createElement(
              'div',
              { style: _SystemNotification.MESSAGE_CONTAINER_STYLE },
              message
            ),
            button && _react2.default.createElement(
              _GhostButton2.default,
              (0, _extends3.default)({
                id: button.id,
                onClick: function onClick() {
                  return button.onClick({ dismiss: onDismiss });
                }
              }, _NotificationColors.COLORS[variant]),
              button.content
            )
          ),
          _react2.default.createElement(
            'div',
            {
              style: _SystemNotification.DISMISS_ICON_BASE_STYLE,
              onMouseEnter: this._onDismissMouseEnter,
              onMouseLeave: this._onDismissMouseLeave,
              onClick: onDismiss
            },
            _react2.default.createElement(
              'a',
              null,
              _react2.default.createElement(_Close2.default, { color: dismissColor })
            )
          )
        ),
        _react2.default.createElement(_Underline2.default, { color: 'white' })
      );
    }
  }]);
  return TxlSystemNotificationControlled;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class.prototype, '_onDismissMouseEnter', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_onDismissMouseEnter'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_onDismissMouseLeave', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_onDismissMouseLeave'), _class.prototype)), _class);
exports.default = TxlSystemNotificationControlled;


TxlSystemNotificationControlled.displayName = 'TxlSystemNotificationControlled';

TxlSystemNotificationControlled.propTypes = {
  button: _react.PropTypes.shape({
    content: _react.PropTypes.node.isRequired,
    id: _react.PropTypes.string,
    onClick: _react.PropTypes.func.isRequired
  }),
  dismissed: _react.PropTypes.bool,
  message: _react.PropTypes.string,
  onDismiss: _react.PropTypes.func,
  variant: _react.PropTypes.oneOf(['danger', 'warning', 'info'])
};

TxlSystemNotificationControlled.defaultProps = {
  dismissed: false,
  onDismiss: _Base.NOOP,
  variant: 'warning'
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(TxlSystemNotificationControlled, 'TxlSystemNotificationControlled', 'src/notifications/_SystemNotificationControlled.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub3RpZmljYXRpb25zL19TeXN0ZW1Ob3RpZmljYXRpb25Db250cm9sbGVkLmpzeCJdLCJuYW1lcyI6WyJUeGxTeXN0ZW1Ob3RpZmljYXRpb25Db250cm9sbGVkIiwiYXJncyIsInN0YXRlIiwiZGlzbWlzc0hvdmVyZWQiLCJzZXRTdGF0ZSIsInByb3BzIiwiYnV0dG9uIiwiZGlzbWlzc2VkIiwib25EaXNtaXNzIiwibWVzc2FnZSIsInZhcmlhbnQiLCJkaXNtaXNzT3BhY2l0eSIsImRpc21pc3NDb2xvciIsImNvbG9yIiwiaWQiLCJvbkNsaWNrIiwiZGlzbWlzcyIsImNvbnRlbnQiLCJfb25EaXNtaXNzTW91c2VFbnRlciIsIl9vbkRpc21pc3NNb3VzZUxlYXZlIiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJzaGFwZSIsIm5vZGUiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiZnVuYyIsImJvb2wiLCJvbmVPZiIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBRUE7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFLQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBTXFCQSwrQjs7O0FBQ25CLDZDQUFxQjtBQUFBOztBQUFBOztBQUFBLHNDQUFOQyxJQUFNO0FBQU5BLFVBQU07QUFBQTs7QUFBQSxtTkFDVkEsSUFEVTs7QUFHbkIsVUFBS0MsS0FBTCxHQUFhLEVBQUVDLGdCQUFnQixLQUFsQixFQUFiO0FBSG1CO0FBSXBCOzs7OzJDQUdzQjtBQUNyQixXQUFLQyxRQUFMLENBQWMsRUFBRUQsZ0JBQWdCLElBQWxCLEVBQWQ7QUFDRDs7OzJDQUdzQjtBQUNyQixXQUFLQyxRQUFMLENBQWMsRUFBRUQsZ0JBQWdCLEtBQWxCLEVBQWQ7QUFDRDs7OzZCQUVRO0FBQUEsbUJBT0gsS0FBS0UsS0FQRjtBQUFBLFVBRUxDLE1BRkssVUFFTEEsTUFGSztBQUFBLFVBR0xDLFNBSEssVUFHTEEsU0FISztBQUFBLFVBSUxDLFNBSkssVUFJTEEsU0FKSztBQUFBLFVBS0xDLE9BTEssVUFLTEEsT0FMSztBQUFBLFVBTUxDLE9BTkssVUFNTEEsT0FOSzs7O0FBU1AsVUFBSUgsU0FBSixFQUFlO0FBQUUsZUFBTyxJQUFQO0FBQWM7O0FBRS9CLFVBQU1JLGlCQUFpQixLQUFLVCxLQUFMLENBQVdDLGNBQVgsMEZBQXZCO0FBR0EsVUFBTVMsZUFBZSx1Q0FBb0IsMkJBQU9GLE9BQVAsRUFBZ0JHLEtBQXBDLEVBQTJDRixjQUEzQyxDQUFyQjs7QUFFQSxhQUNFO0FBQUE7QUFBQSxVQUFLLGtCQUFlLGlDQUFwQjtBQUNFO0FBQUE7QUFBQSxZQUFlLFNBQVNELE9BQXhCO0FBQ0U7QUFBQTtBQUFBLGNBQUssa0RBQUw7QUFDRTtBQUFBO0FBQUEsZ0JBQUssa0RBQUw7QUFDR0Q7QUFESCxhQURGO0FBSUdILHNCQUNDO0FBQUE7QUFBQTtBQUNFLG9CQUFJQSxPQUFPUSxFQURiO0FBRUUseUJBQVM7QUFBQSx5QkFBTVIsT0FBT1MsT0FBUCxDQUFlLEVBQUVDLFNBQVNSLFNBQVgsRUFBZixDQUFOO0FBQUE7QUFGWCxpQkFHTSwyQkFBT0UsT0FBUCxDQUhOO0FBS0dKLHFCQUFPVztBQUxWO0FBTEosV0FERjtBQWVFO0FBQUE7QUFBQTtBQUNFLGdFQURGO0FBRUUsNEJBQWMsS0FBS0Msb0JBRnJCO0FBR0UsNEJBQWMsS0FBS0Msb0JBSHJCO0FBSUUsdUJBQVNYO0FBSlg7QUFNRTtBQUFBO0FBQUE7QUFBRywrREFBTyxPQUFPSSxZQUFkO0FBQUg7QUFORjtBQWZGLFNBREY7QUF5QkUsNkRBQVcsT0FBTSxPQUFqQjtBQXpCRixPQURGO0FBNkJEOzs7RUE5RDBELGdCQUFNUSxTO2tCQUE5Q3BCLCtCOzs7QUFpRXJCQSxnQ0FBZ0NxQixXQUFoQyxHQUE4QyxpQ0FBOUM7O0FBRUFyQixnQ0FBZ0NzQixTQUFoQyxHQUE0QztBQUMxQ2hCLFVBQVEsaUJBQVVpQixLQUFWLENBQWdCO0FBQ3RCTixhQUFTLGlCQUFVTyxJQUFWLENBQWVDLFVBREY7QUFFdEJYLFFBQUksaUJBQVVZLE1BRlE7QUFHdEJYLGFBQVMsaUJBQVVZLElBQVYsQ0FBZUY7QUFIRixHQUFoQixDQURrQztBQU0xQ2xCLGFBQVcsaUJBQVVxQixJQU5xQjtBQU8xQ25CLFdBQVMsaUJBQVVpQixNQVB1QjtBQVExQ2xCLGFBQVcsaUJBQVVtQixJQVJxQjtBQVMxQ2pCLFdBQVMsaUJBQVVtQixLQUFWLENBQWdCLENBQUMsUUFBRCxFQUFXLFNBQVgsRUFBc0IsTUFBdEIsQ0FBaEI7QUFUaUMsQ0FBNUM7O0FBWUE3QixnQ0FBZ0M4QixZQUFoQyxHQUErQztBQUM3Q3ZCLGFBQVcsS0FEa0M7QUFFN0NDLHVCQUY2QztBQUc3Q0UsV0FBUztBQUhvQyxDQUEvQzs7Ozs7Ozs7Z0NBL0VxQlYsK0IiLCJmaWxlIjoiX1N5c3RlbU5vdGlmaWNhdGlvbkNvbnRyb2xsZWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBhdXRvYmluZCwgTk9PUCB9IGZyb20gJy4uL2Jhc2UvQmFzZSc7XG5pbXBvcnQgQ2xvc2UgZnJvbSAnLi4vaWNvbnMvQ2xvc2UnO1xuaW1wb3J0IEhpZ2hsaWdodE5vdGUgZnJvbSAnLi9IaWdobGlnaHROb3RlJztcbmltcG9ydCB7IGdldENvbG9yV2l0aE9wYWNpdHkgfSBmcm9tICcuLi9zdHlsZXMvX2hlbHBlcnMvY29sb3JIZWxwZXJzJztcbmltcG9ydCBHaG9zdEJ1dHRvbiBmcm9tICcuL19HaG9zdEJ1dHRvbic7XG5pbXBvcnQgVW5kZXJsaW5lIGZyb20gJy4uL2xheW91dC9fVW5kZXJsaW5lJztcbmltcG9ydCB7XG4gIENPTE9SUyxcbiAgR0hPU1RfSUNPTl9IT1ZFUkVEX09QQUNJVFksXG4gIEdIT1NUX0lDT05fT1BBQ0lUWSxcbn0gZnJvbSAnLi9Ob3RpZmljYXRpb25Db2xvcnMuc3R5bGUnO1xuaW1wb3J0IHtcbiAgQ09OVEVOVF9DT05UQUlORVJfU1RZTEUsXG4gIERJU01JU1NfSUNPTl9CQVNFX1NUWUxFLFxuICBNRVNTQUdFX0NPTlRBSU5FUl9TVFlMRSxcbn0gZnJvbSAnLi9fU3lzdGVtTm90aWZpY2F0aW9uLnN0eWxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHhsU3lzdGVtTm90aWZpY2F0aW9uQ29udHJvbGxlZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7IGRpc21pc3NIb3ZlcmVkOiBmYWxzZSB9O1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9vbkRpc21pc3NNb3VzZUVudGVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBkaXNtaXNzSG92ZXJlZDogdHJ1ZSB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfb25EaXNtaXNzTW91c2VMZWF2ZSgpIHtcbiAgICB0aGlzLnNldFN0YXRlKHsgZGlzbWlzc0hvdmVyZWQ6IGZhbHNlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGJ1dHRvbixcbiAgICAgIGRpc21pc3NlZCxcbiAgICAgIG9uRGlzbWlzcyxcbiAgICAgIG1lc3NhZ2UsXG4gICAgICB2YXJpYW50LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGRpc21pc3NlZCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3QgZGlzbWlzc09wYWNpdHkgPSB0aGlzLnN0YXRlLmRpc21pc3NIb3ZlcmVkXG4gICAgICA/IEdIT1NUX0lDT05fSE9WRVJFRF9PUEFDSVRZXG4gICAgICA6IEdIT1NUX0lDT05fT1BBQ0lUWTtcbiAgICBjb25zdCBkaXNtaXNzQ29sb3IgPSBnZXRDb2xvcldpdGhPcGFjaXR5KENPTE9SU1t2YXJpYW50XS5jb2xvciwgZGlzbWlzc09wYWNpdHkpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgZGF0YS1jb21wb25lbnQ9XCJUeGxTeXN0ZW1Ob3RpZmljYXRpb25Db250cm9sbGVkXCI+XG4gICAgICAgIDxIaWdobGlnaHROb3RlIHZhcmlhbnQ9e3ZhcmlhbnR9PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e0NPTlRFTlRfQ09OVEFJTkVSX1NUWUxFfT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e01FU1NBR0VfQ09OVEFJTkVSX1NUWUxFfT5cbiAgICAgICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtidXR0b24gJiZcbiAgICAgICAgICAgICAgPEdob3N0QnV0dG9uXG4gICAgICAgICAgICAgICAgaWQ9e2J1dHRvbi5pZH1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBidXR0b24ub25DbGljayh7IGRpc21pc3M6IG9uRGlzbWlzcyB9KX1cbiAgICAgICAgICAgICAgICB7Li4uQ09MT1JTW3ZhcmlhbnRdfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2J1dHRvbi5jb250ZW50fVxuICAgICAgICAgICAgICA8L0dob3N0QnV0dG9uPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXtESVNNSVNTX0lDT05fQkFTRV9TVFlMRX1cbiAgICAgICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5fb25EaXNtaXNzTW91c2VFbnRlcn1cbiAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5fb25EaXNtaXNzTW91c2VMZWF2ZX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uRGlzbWlzc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8YT48Q2xvc2UgY29sb3I9e2Rpc21pc3NDb2xvcn0gLz48L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvSGlnaGxpZ2h0Tm90ZT5cbiAgICAgICAgPFVuZGVybGluZSBjb2xvcj1cIndoaXRlXCIgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVHhsU3lzdGVtTm90aWZpY2F0aW9uQ29udHJvbGxlZC5kaXNwbGF5TmFtZSA9ICdUeGxTeXN0ZW1Ob3RpZmljYXRpb25Db250cm9sbGVkJztcblxuVHhsU3lzdGVtTm90aWZpY2F0aW9uQ29udHJvbGxlZC5wcm9wVHlwZXMgPSB7XG4gIGJ1dHRvbjogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjb250ZW50OiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICAgIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH0pLFxuICBkaXNtaXNzZWQ6IFByb3BUeXBlcy5ib29sLFxuICBtZXNzYWdlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvbkRpc21pc3M6IFByb3BUeXBlcy5mdW5jLFxuICB2YXJpYW50OiBQcm9wVHlwZXMub25lT2YoWydkYW5nZXInLCAnd2FybmluZycsICdpbmZvJ10pLFxufTtcblxuVHhsU3lzdGVtTm90aWZpY2F0aW9uQ29udHJvbGxlZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc21pc3NlZDogZmFsc2UsXG4gIG9uRGlzbWlzczogTk9PUCxcbiAgdmFyaWFudDogJ3dhcm5pbmcnLFxufTtcbiJdfQ==