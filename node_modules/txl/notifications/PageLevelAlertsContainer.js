'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _Base = require('../base/Base');

var _PageLevelAlert = require('./_PageLevelAlert');

var _PageLevelAlert2 = _interopRequireDefault(_PageLevelAlert);

var _helpers = require('../styles/helpers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var ALERT_WRAPPER_STYLE = {
  marginBottom: (0, _helpers.gridUnits)(2),
  pointerEvents: 'none'
};

var ALERTS_CONTAINER_STYLES = {
  display: 'inline'
};

var TxlPageLevelAlertsContainer = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlPageLevelAlertsContainer, _React$Component);

  function TxlPageLevelAlertsContainer() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlPageLevelAlertsContainer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlPageLevelAlertsContainer.__proto__ || (0, _getPrototypeOf2.default)(TxlPageLevelAlertsContainer)).call.apply(_ref, [this].concat(args)));

    _this._alerts = [];
    _this._counter = 0;
    return _this;
  }

  (0, _createClass3.default)(TxlPageLevelAlertsContainer, [{
    key: 'push',
    value: function push(message) {
      if (!(typeof message === 'string' && message)) {
        // eslint-disable-next-line no-console
        // console.warn('TxlPageLevelAlertsContainer: Alert is missing message and will be ignored');
        // is this an error? does it need to verified? use invariant
        return undefined;
      }

      var id = this._counter++;
      this._alerts.push({
        id: id,
        message: message
      });
      this.forceUpdate();

      // returning id of the pushed element.
      return id;
    }
  }, {
    key: 'clear',
    value: function clear(id) {
      this._alerts = this._alerts.filter(function (alert) {
        return alert.id !== id;
      });
      this.forceUpdate();
    }
  }, {
    key: 'render',
    value: function render() {
      return _react2.default.createElement(
        'div',
        {
          'data-component': 'TxlPageLevelAlertContainer',
          style: ALERTS_CONTAINER_STYLES
        },
        this._alerts.map(function (alert) {
          return _react2.default.createElement(
            'div',
            {
              key: alert.id,
              style: ALERT_WRAPPER_STYLE
            },
            _react2.default.createElement(_PageLevelAlert2.default, { message: alert.message })
          );
        })
      );
    }
  }]);
  return TxlPageLevelAlertsContainer;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, 'push', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'push'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'clear', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'clear'), _class2.prototype)), _class2)) || _class;

exports.default = TxlPageLevelAlertsContainer;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(ALERT_WRAPPER_STYLE, 'ALERT_WRAPPER_STYLE', 'src/notifications/PageLevelAlertsContainer.jsx');

  __REACT_HOT_LOADER__.register(ALERTS_CONTAINER_STYLES, 'ALERTS_CONTAINER_STYLES', 'src/notifications/PageLevelAlertsContainer.jsx');

  __REACT_HOT_LOADER__.register(TxlPageLevelAlertsContainer, 'TxlPageLevelAlertsContainer', 'src/notifications/PageLevelAlertsContainer.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub3RpZmljYXRpb25zL1BhZ2VMZXZlbEFsZXJ0c0NvbnRhaW5lci5qc3giXSwibmFtZXMiOlsiQUxFUlRfV1JBUFBFUl9TVFlMRSIsIm1hcmdpbkJvdHRvbSIsInBvaW50ZXJFdmVudHMiLCJBTEVSVFNfQ09OVEFJTkVSX1NUWUxFUyIsImRpc3BsYXkiLCJUeGxQYWdlTGV2ZWxBbGVydHNDb250YWluZXIiLCJhcmdzIiwiX2FsZXJ0cyIsIl9jb3VudGVyIiwibWVzc2FnZSIsInVuZGVmaW5lZCIsImlkIiwicHVzaCIsImZvcmNlVXBkYXRlIiwiZmlsdGVyIiwiYWxlcnQiLCJtYXAiLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFFQTs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxzQkFBc0I7QUFDMUJDLGdCQUFjLHdCQUFHLENBQUgsQ0FEWTtBQUUxQkMsaUJBQWU7QUFGVyxDQUE1Qjs7QUFLQSxJQUFNQywwQkFBMEI7QUFDOUJDLFdBQVM7QUFEcUIsQ0FBaEM7O0lBS3FCQywyQjs7O0FBQ25CLHlDQUFxQjtBQUFBOztBQUFBOztBQUFBLHNDQUFOQyxJQUFNO0FBQU5BLFVBQU07QUFBQTs7QUFBQSwyTUFDVkEsSUFEVTs7QUFHbkIsVUFBS0MsT0FBTCxHQUFlLEVBQWY7QUFDQSxVQUFLQyxRQUFMLEdBQWdCLENBQWhCO0FBSm1CO0FBS3BCOzs7O3lCQUdJQyxPLEVBQVM7QUFDWixVQUFJLEVBQUUsT0FBT0EsT0FBUCxLQUFtQixRQUFuQixJQUErQkEsT0FBakMsQ0FBSixFQUErQztBQUM3QztBQUNBO0FBQ0E7QUFDQSxlQUFPQyxTQUFQO0FBQ0Q7O0FBRUQsVUFBTUMsS0FBSyxLQUFLSCxRQUFMLEVBQVg7QUFDQSxXQUFLRCxPQUFMLENBQWFLLElBQWIsQ0FBa0I7QUFDaEJELGNBRGdCO0FBRWhCRjtBQUZnQixPQUFsQjtBQUlBLFdBQUtJLFdBQUw7O0FBRUE7QUFDQSxhQUFPRixFQUFQO0FBQ0Q7OzswQkFHS0EsRSxFQUFJO0FBQ1IsV0FBS0osT0FBTCxHQUFlLEtBQUtBLE9BQUwsQ0FBYU8sTUFBYixDQUFvQjtBQUFBLGVBQVNDLE1BQU1KLEVBQU4sS0FBYUEsRUFBdEI7QUFBQSxPQUFwQixDQUFmO0FBQ0EsV0FBS0UsV0FBTDtBQUNEOzs7NkJBRVE7QUFDUCxhQUNFO0FBQUE7QUFBQTtBQUNFLDRCQUFlLDRCQURqQjtBQUVFLGlCQUFPVjtBQUZUO0FBSUcsYUFBS0ksT0FBTCxDQUFhUyxHQUFiLENBQWlCO0FBQUEsaUJBQ2hCO0FBQUE7QUFBQTtBQUNFLG1CQUFLRCxNQUFNSixFQURiO0FBRUUscUJBQU9YO0FBRlQ7QUFJRSxzRUFBZ0IsU0FBU2UsTUFBTU4sT0FBL0I7QUFKRixXQURnQjtBQUFBLFNBQWpCO0FBSkgsT0FERjtBQWVEOzs7RUFsRHNELGdCQUFNUSxTOztrQkFBMUNaLDJCOzs7Ozs7OztnQ0FWZkwsbUI7O2dDQUtBRyx1Qjs7Z0NBS2VFLDJCIiwiZmlsZSI6IlBhZ2VMZXZlbEFsZXJ0c0NvbnRhaW5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmFkaXVtIGZyb20gJ3JhZGl1bSc7XG5cbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnLi4vYmFzZS9CYXNlJztcbmltcG9ydCBQYWdlTGV2ZWxBbGVydCBmcm9tICcuL19QYWdlTGV2ZWxBbGVydCc7XG5pbXBvcnQgeyBncmlkVW5pdHMgYXMgZ3UgfSBmcm9tICcuLi9zdHlsZXMvaGVscGVycyc7XG5cbmNvbnN0IEFMRVJUX1dSQVBQRVJfU1RZTEUgPSB7XG4gIG1hcmdpbkJvdHRvbTogZ3UoMiksXG4gIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbn07XG5cbmNvbnN0IEFMRVJUU19DT05UQUlORVJfU1RZTEVTID0ge1xuICBkaXNwbGF5OiAnaW5saW5lJyxcbn07XG5cbkBSYWRpdW1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR4bFBhZ2VMZXZlbEFsZXJ0c0NvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIHRoaXMuX2FsZXJ0cyA9IFtdO1xuICAgIHRoaXMuX2NvdW50ZXIgPSAwO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIHB1c2gobWVzc2FnZSkge1xuICAgIGlmICghKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyAmJiBtZXNzYWdlKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIC8vIGNvbnNvbGUud2FybignVHhsUGFnZUxldmVsQWxlcnRzQ29udGFpbmVyOiBBbGVydCBpcyBtaXNzaW5nIG1lc3NhZ2UgYW5kIHdpbGwgYmUgaWdub3JlZCcpO1xuICAgICAgLy8gaXMgdGhpcyBhbiBlcnJvcj8gZG9lcyBpdCBuZWVkIHRvIHZlcmlmaWVkPyB1c2UgaW52YXJpYW50XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gdGhpcy5fY291bnRlcisrO1xuICAgIHRoaXMuX2FsZXJ0cy5wdXNoKHtcbiAgICAgIGlkLFxuICAgICAgbWVzc2FnZSxcbiAgICB9KTtcbiAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG5cbiAgICAvLyByZXR1cm5pbmcgaWQgb2YgdGhlIHB1c2hlZCBlbGVtZW50LlxuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjbGVhcihpZCkge1xuICAgIHRoaXMuX2FsZXJ0cyA9IHRoaXMuX2FsZXJ0cy5maWx0ZXIoYWxlcnQgPT4gYWxlcnQuaWQgIT09IGlkKTtcbiAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJUeGxQYWdlTGV2ZWxBbGVydENvbnRhaW5lclwiXG4gICAgICAgIHN0eWxlPXtBTEVSVFNfQ09OVEFJTkVSX1NUWUxFU31cbiAgICAgID5cbiAgICAgICAge3RoaXMuX2FsZXJ0cy5tYXAoYWxlcnQgPT4gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGtleT17YWxlcnQuaWR9XG4gICAgICAgICAgICBzdHlsZT17QUxFUlRfV1JBUFBFUl9TVFlMRX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8UGFnZUxldmVsQWxlcnQgbWVzc2FnZT17YWxlcnQubWVzc2FnZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXX0=