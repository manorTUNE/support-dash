'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _desc, _value, _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Base = require('../base/Base');

var _ListDropdownControl = require('../dropdowns/_ListDropdownControl');

var _ListDropdownControl2 = _interopRequireDefault(_ListDropdownControl);

var _TetheredContainer = require('../dropdowns/_containers/TetheredContainer');

var _TetheredContainer2 = _interopRequireDefault(_TetheredContainer);

var _InputFieldBase = require('../input-fields/_InputFieldBase');

var _InputFieldBase2 = _interopRequireDefault(_InputFieldBase);

var _constants = require('../styles/constants');

var _helpers = require('../styles/helpers');

var _createSubComponentRenderer = require('../utils/createSubComponentRenderer');

var _createSubComponentRenderer2 = _interopRequireDefault(_createSubComponentRenderer);

var _KeyCodes = require('../constants/KeyCodes');

var _Actions = require('../constants/Actions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var defaultContainer = _react2.default.createFactory(_TetheredContainer2.default);

function subComponentRenderer(instance, key) {
  return (0, _createSubComponentRenderer2.default)({
    instance: instance,
    key: key,
    propsGetter: instance._getActionProps
  });
}

var TxlSelectControl = (_class = function (_React$Component) {
  (0, _inherits3.default)(TxlSelectControl, _React$Component);

  function TxlSelectControl(props) {
    (0, _classCallCheck3.default)(this, TxlSelectControl);

    // Can be used for keyboard controlled select behaviour.
    var _this = (0, _possibleConstructorReturn3.default)(this, (TxlSelectControl.__proto__ || (0, _getPrototypeOf2.default)(TxlSelectControl)).call(this, props));

    _this.state = {
      activeItemIndex: null
    };
    return _this;
  }

  (0, _createClass3.default)(TxlSelectControl, [{
    key: 'clearSearch',
    value: function clearSearch() {
      this._listDropdownControlRef._clearSearch();
    }
  }, {
    key: 'getFilteredItems',
    value: function getFilteredItems() {
      return this._listDropdownControlRef.getFilteredItems();
    }
  }, {
    key: '_handleKeyDown',
    value: function _handleKeyDown(e) {
      var _props = this.props,
          allowHeaderKeyboardSelection = _props.allowHeaderKeyboardSelection,
          keySelectedItemIndex = _props.keySelectedItemIndex,
          onChange = _props.onChange,
          onItemCreate = _props.onItemCreate,
          onKeyDown = _props.onKeyDown,
          onKeySelectedItemIndexChange = _props.onKeySelectedItemIndexChange,
          open = _props.open;
      var keyCode = e.keyCode;

      var filteredItemsWrapper = this.getFilteredItems();
      var filteredItems = filteredItemsWrapper.getItems();
      var minIndexValue = allowHeaderKeyboardSelection ? -1 : 0;

      onKeyDown({ keyCode: keyCode });
      if (open) {
        switch (keyCode) {
          case _KeyCodes.TAB:
          case _KeyCodes.ESCAPE:
            this._handleCloseDropdown();
            break;
          case _KeyCodes.ARROW_DOWN:
            this._setSelectionIndex(filteredItems);break;
          case _KeyCodes.ARROW_UP:
            this._setSelectionIndex(filteredItems, true);break;
          case _KeyCodes.ENTER:
            {
              if (keySelectedItemIndex >= minIndexValue) {
                var item = filteredItemsWrapper.getItem(keySelectedItemIndex);
                if (item && item.id === _Actions.CREATE_NEW) {
                  onItemCreate(item);
                } else {
                  this.clearSearch();
                  onChange(item);
                }
              } else {
                var firstListItem = filteredItems[0];
                var validCreateNewItemSelected = filteredItems.length === 1 && firstListItem.id === _Actions.CREATE_NEW && firstListItem.value;
                if (validCreateNewItemSelected) {
                  onItemCreate(firstListItem);
                } else {
                  this._handleCloseDropdown();
                }
              }
              break;
            }
          default:
            {
              onKeySelectedItemIndexChange({ keySelectedItemIndex: undefined });
              break;
            }
        }
      } else if (keyCode === _KeyCodes.ENTER) {
        this.props.openDropdown();
      }
    }
  }, {
    key: '_handleCloseDropdown',
    value: function _handleCloseDropdown() {
      var _props2 = this.props,
          closeDropdown = _props2.closeDropdown,
          onKeySelectedItemIndexChange = _props2.onKeySelectedItemIndexChange;


      onKeySelectedItemIndexChange({ keySelectedItemIndex: undefined });
      this.clearSearch();
      closeDropdown();
    }
  }, {
    key: '_setSelectionIndex',
    value: function _setSelectionIndex(items, isUpDirection) {
      var _props3 = this.props,
          allowHeaderKeyboardSelection = _props3.allowHeaderKeyboardSelection,
          currentKeySelectionIndex = _props3.keySelectedItemIndex;


      var keySelectedItemIndex = void 0;
      var minIndexValue = allowHeaderKeyboardSelection ? -1 : 0;

      if (isUpDirection) {
        var startIndex = allowHeaderKeyboardSelection ? 0 : 1;

        keySelectedItemIndex = currentKeySelectionIndex >= startIndex ? currentKeySelectionIndex - 1 : minIndexValue;
      } else if (currentKeySelectionIndex !== undefined) {
        keySelectedItemIndex = currentKeySelectionIndex < items.length - 1 ? currentKeySelectionIndex + 1 : currentKeySelectionIndex;
      } else {
        keySelectedItemIndex = minIndexValue;
      }

      this.props.onKeySelectedItemIndexChange({ keySelectedItemIndex: keySelectedItemIndex });
    }
  }, {
    key: '_selectItem',
    value: function _selectItem(_ref) {
      var item = _ref.item;
      var _props4 = this.props,
          onChange = _props4.onChange,
          onItemCreate = _props4.onItemCreate;


      if (item && item.id === _Actions.CREATE_NEW) {
        onItemCreate(item);
      } else {
        this.clearSearch();
        onChange(item);
      }
    }
  }, {
    key: '_getActionProps',
    value: function _getActionProps() {
      return {
        onItemActivate: this._activateItem,
        selectItem: this._selectItem
      };
    }
  }, {
    key: '_splitProps',
    value: function _splitProps() {
      // Exclude target and itemRenderer
      var _props5 = this.props,
          open = _props5.open,
          target = _props5.target,
          itemRenderer = _props5.itemRenderer,
          others = (0, _objectWithoutProperties3.default)(_props5, ['open', 'target', 'itemRenderer']);
      var activeItemIndex = this.state.activeItemIndex;


      return {
        itemRenderer: itemRenderer,
        open: open,
        sharedProps: (0, _extends3.default)({
          activeItemIndex: activeItemIndex
        }, others, this._getActionProps()),
        target: target
      };
    }
  }, {
    key: '_activateItem',
    value: function _activateItem(obj) {
      this.setState({
        activeItemIndex: obj.index
      });
    }
  }, {
    key: '_renderTarget',
    value: function _renderTarget(props) {
      var target = subComponentRenderer(this, 'target');

      var _splitProps2 = this._splitProps(),
          sharedProps = _splitProps2.sharedProps;

      return target((0, _extends3.default)({}, props, sharedProps, {
        onKeyDown: this._handleKeyDown
      }));
    }
  }, {
    key: '_renderItem',
    value: function _renderItem(props) {
      var itemRenderer = subComponentRenderer(this, 'itemRenderer');

      var _splitProps3 = this._splitProps(),
          sharedProps = _splitProps3.sharedProps;

      var keySelectedItemIndex = this.props.keySelectedItemIndex;

      var filteredItems = this.getFilteredItems();
      var item = props.item,
          index = props.index;


      var isCreateNewItem = item.id === _Actions.CREATE_NEW;
      var isOnlyFilteredItem = filteredItems.getSize() === 1;

      var itemViewProps = (0, _extends3.default)({}, props, sharedProps, {
        active: index === this.state.activeItemIndex || index === keySelectedItemIndex,
        keySelectedItemIndex: keySelectedItemIndex,
        selected: this.props.isItemSelected(item) || isCreateNewItem && isOnlyFilteredItem,
        selectedItem: index === keySelectedItemIndex
      });

      return itemRenderer(itemViewProps);
    }
  }, {
    key: '_renderGroup',
    value: function _renderGroup() {
      return subComponentRenderer(this, 'groupRenderer');
    }
  }, {
    key: '_handleDropdownControlRef',
    value: function _handleDropdownControlRef(ref) {
      this._listDropdownControlRef = ref;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props6 = this.props,
          closeDropdown = _props6.closeDropdown,
          container = _props6.container,
          enableLocalFiltering = _props6.enableLocalFiltering,
          grouper = _props6.grouper,
          itemHeight = _props6.itemHeight,
          items = _props6.items,
          keyMapper = _props6.keyMapper,
          keySelectedItemClear = _props6.keySelectedItemClear,
          keySelectedItemIndex = _props6.keySelectedItemIndex,
          listProps = _props6.listProps,
          loading = _props6.loading,
          noContentView = _props6.noContentView,
          onSearchChange = _props6.onSearchChange,
          open = _props6.open,
          openDropdown = _props6.openDropdown,
          predicateGetter = _props6.predicateGetter,
          secondaryText = _props6.secondaryText,
          shouldInputWrap = _props6.shouldInputWrap,
          showCreateNew = _props6.showCreateNew,
          showSearchToViewMoreMessage = _props6.showSearchToViewMoreMessage,
          width = _props6.width;

      // Since the dropdown attaches to the bottom of the component, if there's secondary text,
      // we need to account for its height when calculating the offset, so that the dropdown
      // is directly under the field itself.

      var dropdownTargetYOffset = -(0, _helpers.gridUnitsRaw)(1) + (secondaryText ? _constants.INPUT_FIELDS.secondaryTextHeight : 0);

      return _react2.default.createElement(_ListDropdownControl2.default, {
        activateItem: this._activateItem,
        closeDropdown: closeDropdown,
        container: container,
        enableLocalFiltering: enableLocalFiltering,
        grouper: grouper,
        groupRenderer: this._renderGroup,
        itemRenderer: this._renderItem,
        itemHeight: itemHeight,
        items: items,
        keyMapper: keyMapper,
        keySelectedItemClear: keySelectedItemClear,
        keySelectedItemIndex: keySelectedItemIndex,
        listProps: listProps,
        loading: loading,
        noContentView: noContentView,
        onSearchChange: onSearchChange,
        open: open,
        openDropdown: openDropdown,
        predicateGetter: predicateGetter,
        ref: this._handleDropdownControlRef,
        shouldInputWrap: shouldInputWrap,
        showCreateNew: showCreateNew,
        showSearchToViewMoreMessage: showSearchToViewMoreMessage,
        target: this._renderTarget,
        width: width,
        yOffset: dropdownTargetYOffset
      });
    }
  }]);
  return TxlSelectControl;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class.prototype, 'clearSearch', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'clearSearch'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'getFilteredItems', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getFilteredItems'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_handleKeyDown', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleKeyDown'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_handleCloseDropdown', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleCloseDropdown'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_setSelectionIndex', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_setSelectionIndex'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_selectItem', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_selectItem'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_getActionProps', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_getActionProps'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_splitProps', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_splitProps'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_activateItem', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_activateItem'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_renderTarget', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_renderTarget'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_renderItem', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_renderItem'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_renderGroup', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_renderGroup'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_handleDropdownControlRef', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleDropdownControlRef'), _class.prototype)), _class);


TxlSelectControl.propTypes = {
  allowHeaderKeyboardSelection: _react.PropTypes.bool,
  closeDropdown: _react.PropTypes.func,
  container: _ListDropdownControl2.default.propTypes.container,
  enableLocalFiltering: _ListDropdownControl2.default.propTypes.enableLocalFiltering,
  groupRenderer: _react.PropTypes.func,
  grouper: _ListDropdownControl2.default.propTypes.grouper,
  isItemSelected: _react.PropTypes.func.isRequired,
  itemHeight: _ListDropdownControl2.default.propTypes.itemHeight,
  itemRenderer: _ListDropdownControl2.default.propTypes.itemRenderer,
  items: _ListDropdownControl2.default.propTypes.items,
  keyMapper: _ListDropdownControl2.default.propTypes.keyMapper,
  keySelectedItemClear: _react.PropTypes.func,
  keySelectedItemIndex: _react.PropTypes.number,
  label: _ListDropdownControl2.default.propTypes.label,
  listProps: _ListDropdownControl2.default.propTypes.listProps,
  loading: _ListDropdownControl2.default.propTypes.loading,
  noContentView: _ListDropdownControl2.default.propTypes.noContentView,
  onChange: _react.PropTypes.func,
  onItemCreate: _react.PropTypes.func,
  onKeyDown: _react.PropTypes.func,
  onKeySelectedItemIndexChange: _react.PropTypes.func,
  onSearchChange: _ListDropdownControl2.default.propTypes.onSearchChange,
  open: _ListDropdownControl2.default.propTypes.open,
  openDropdown: _ListDropdownControl2.default.propTypes.openDropdown,
  placeholder: _react.PropTypes.node,
  predicateGetter: _ListDropdownControl2.default.propTypes.predicateGetter,
  search: _ListDropdownControl2.default.propTypes.search,
  secondaryText: _ListDropdownControl2.default.propTypes.secondaryText,
  shouldInputWrap: _react.PropTypes.bool,
  showCreateNew: _react.PropTypes.bool,
  showSearchToViewMoreMessage: _ListDropdownControl2.default.propTypes.showSearchToViewMoreMessage,
  target: _ListDropdownControl2.default.propTypes.target,
  validationState: _InputFieldBase2.default.propTypes.validationState,
  value: _react.PropTypes.any,
  valueMapper: _react.PropTypes.func,
  width: _ListDropdownControl2.default.propTypes.width
};

TxlSelectControl.displayName = 'TxlSelectControl';

TxlSelectControl.defaultProps = {
  allowHeaderKeyboardSelection: false,
  container: defaultContainer,
  enableLocalFiltering: true,
  items: [],
  loading: false,
  multi: false,
  onKeyDown: Function.prototype,
  onSearchChange: Function.prototype,
  selector: function selector() {
    return false;
  },
  shouldInputWrap: true
};

var _default = TxlSelectControl;
exports.default = _default;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(defaultContainer, 'defaultContainer', 'src/_selects/SelectControl.jsx');

  __REACT_HOT_LOADER__.register(subComponentRenderer, 'subComponentRenderer', 'src/_selects/SelectControl.jsx');

  __REACT_HOT_LOADER__.register(TxlSelectControl, 'TxlSelectControl', 'src/_selects/SelectControl.jsx');

  __REACT_HOT_LOADER__.register(_default, 'default', 'src/_selects/SelectControl.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9fc2VsZWN0cy9TZWxlY3RDb250cm9sLmpzeCJdLCJuYW1lcyI6WyJkZWZhdWx0Q29udGFpbmVyIiwiY3JlYXRlRmFjdG9yeSIsInN1YkNvbXBvbmVudFJlbmRlcmVyIiwiaW5zdGFuY2UiLCJrZXkiLCJwcm9wc0dldHRlciIsIl9nZXRBY3Rpb25Qcm9wcyIsIlR4bFNlbGVjdENvbnRyb2wiLCJwcm9wcyIsInN0YXRlIiwiYWN0aXZlSXRlbUluZGV4IiwiX2xpc3REcm9wZG93bkNvbnRyb2xSZWYiLCJfY2xlYXJTZWFyY2giLCJnZXRGaWx0ZXJlZEl0ZW1zIiwiZSIsImFsbG93SGVhZGVyS2V5Ym9hcmRTZWxlY3Rpb24iLCJrZXlTZWxlY3RlZEl0ZW1JbmRleCIsIm9uQ2hhbmdlIiwib25JdGVtQ3JlYXRlIiwib25LZXlEb3duIiwib25LZXlTZWxlY3RlZEl0ZW1JbmRleENoYW5nZSIsIm9wZW4iLCJrZXlDb2RlIiwiZmlsdGVyZWRJdGVtc1dyYXBwZXIiLCJmaWx0ZXJlZEl0ZW1zIiwiZ2V0SXRlbXMiLCJtaW5JbmRleFZhbHVlIiwiX2hhbmRsZUNsb3NlRHJvcGRvd24iLCJfc2V0U2VsZWN0aW9uSW5kZXgiLCJpdGVtIiwiZ2V0SXRlbSIsImlkIiwiY2xlYXJTZWFyY2giLCJmaXJzdExpc3RJdGVtIiwidmFsaWRDcmVhdGVOZXdJdGVtU2VsZWN0ZWQiLCJsZW5ndGgiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIm9wZW5Ecm9wZG93biIsImNsb3NlRHJvcGRvd24iLCJpdGVtcyIsImlzVXBEaXJlY3Rpb24iLCJjdXJyZW50S2V5U2VsZWN0aW9uSW5kZXgiLCJzdGFydEluZGV4Iiwib25JdGVtQWN0aXZhdGUiLCJfYWN0aXZhdGVJdGVtIiwic2VsZWN0SXRlbSIsIl9zZWxlY3RJdGVtIiwidGFyZ2V0IiwiaXRlbVJlbmRlcmVyIiwib3RoZXJzIiwic2hhcmVkUHJvcHMiLCJvYmoiLCJzZXRTdGF0ZSIsImluZGV4IiwiX3NwbGl0UHJvcHMiLCJfaGFuZGxlS2V5RG93biIsImlzQ3JlYXRlTmV3SXRlbSIsImlzT25seUZpbHRlcmVkSXRlbSIsImdldFNpemUiLCJpdGVtVmlld1Byb3BzIiwiYWN0aXZlIiwic2VsZWN0ZWQiLCJpc0l0ZW1TZWxlY3RlZCIsInNlbGVjdGVkSXRlbSIsInJlZiIsImNvbnRhaW5lciIsImVuYWJsZUxvY2FsRmlsdGVyaW5nIiwiZ3JvdXBlciIsIml0ZW1IZWlnaHQiLCJrZXlNYXBwZXIiLCJrZXlTZWxlY3RlZEl0ZW1DbGVhciIsImxpc3RQcm9wcyIsImxvYWRpbmciLCJub0NvbnRlbnRWaWV3Iiwib25TZWFyY2hDaGFuZ2UiLCJwcmVkaWNhdGVHZXR0ZXIiLCJzZWNvbmRhcnlUZXh0Iiwic2hvdWxkSW5wdXRXcmFwIiwic2hvd0NyZWF0ZU5ldyIsInNob3dTZWFyY2hUb1ZpZXdNb3JlTWVzc2FnZSIsIndpZHRoIiwiZHJvcGRvd25UYXJnZXRZT2Zmc2V0Iiwic2Vjb25kYXJ5VGV4dEhlaWdodCIsIl9yZW5kZXJHcm91cCIsIl9yZW5kZXJJdGVtIiwiX2hhbmRsZURyb3Bkb3duQ29udHJvbFJlZiIsIl9yZW5kZXJUYXJnZXQiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJib29sIiwiZnVuYyIsImdyb3VwUmVuZGVyZXIiLCJpc1JlcXVpcmVkIiwibnVtYmVyIiwibGFiZWwiLCJwbGFjZWhvbGRlciIsIm5vZGUiLCJzZWFyY2giLCJ2YWxpZGF0aW9uU3RhdGUiLCJhbnkiLCJ2YWx1ZU1hcHBlciIsImRpc3BsYXlOYW1lIiwiZGVmYXVsdFByb3BzIiwibXVsdGkiLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsInNlbGVjdG9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUNBOztBQU9BOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxt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VVksSUE3QkE7QUE4QjNCWCxpQkFBZSxpQkFBVVcsSUE5QkU7QUErQjNCViwrQkFBNkIsOEJBQW9CUyxTQUFwQixDQUE4QlQsMkJBL0JoQztBQWdDM0JoQyxVQUFRLDhCQUFvQnlDLFNBQXBCLENBQThCekMsTUFoQ1g7QUFpQzNCbUQsbUJBQWlCLHlCQUFlVixTQUFmLENBQXlCVSxlQWpDZjtBQWtDM0IvRCxTQUFPLGlCQUFVZ0UsR0FsQ1U7QUFtQzNCQyxlQUFhLGlCQUFVVixJQW5DSTtBQW9DM0JWLFNBQU8sOEJBQW9CUSxTQUFwQixDQUE4QlI7QUFwQ1YsQ0FBN0I7O0FBdUNBMUUsaUJBQWlCK0YsV0FBakIsR0FBK0Isa0JBQS9COztBQUVBL0YsaUJBQWlCZ0csWUFBakIsR0FBZ0M7QUFDOUJ4RixnQ0FBOEIsS0FEQTtBQUU5Qm1ELGFBQVdsRSxnQkFGbUI7QUFHOUJtRSx3QkFBc0IsSUFIUTtBQUk5QjNCLFNBQU8sRUFKdUI7QUFLOUJpQyxXQUFTLEtBTHFCO0FBTTlCK0IsU0FBTyxLQU51QjtBQU85QnJGLGFBQVdzRixTQUFTQyxTQVBVO0FBUTlCL0Isa0JBQWdCOEIsU0FBU0MsU0FSSztBQVM5QkMsWUFBVTtBQUFBLFdBQU0sS0FBTjtBQUFBLEdBVG9CO0FBVTlCN0IsbUJBQWlCO0FBVmEsQ0FBaEM7O2VBYWV2RSxnQjs7Ozs7Ozs7O2dDQXZWVFAsZ0I7O2dDQUVHRSxvQjs7Z0NBUUhLLGdCIiwiZmlsZSI6IlNlbGVjdENvbnRyb2wuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJy4uL2Jhc2UvQmFzZSc7XG5pbXBvcnQgTGlzdERyb3Bkb3duQ29udHJvbCBmcm9tICcuLi9kcm9wZG93bnMvX0xpc3REcm9wZG93bkNvbnRyb2wnO1xuaW1wb3J0IFRldGhlcmVkQ29udGFpbmVyIGZyb20gJy4uL2Ryb3Bkb3ducy9fY29udGFpbmVycy9UZXRoZXJlZENvbnRhaW5lcic7XG5pbXBvcnQgSW5wdXRGaWVsZEJhc2UgZnJvbSAnLi4vaW5wdXQtZmllbGRzL19JbnB1dEZpZWxkQmFzZSc7XG5pbXBvcnQgeyBJTlBVVF9GSUVMRFMgfSBmcm9tICcuLi9zdHlsZXMvY29uc3RhbnRzJztcbmltcG9ydCB7IGdyaWRVbml0c1JhdyBhcyBndVJhdyB9IGZyb20gJy4uL3N0eWxlcy9oZWxwZXJzJztcbmltcG9ydCBjcmVhdGVTdWJDb21wb25lbnRSZW5kZXJlciBmcm9tICcuLi91dGlscy9jcmVhdGVTdWJDb21wb25lbnRSZW5kZXJlcic7XG5pbXBvcnQge1xuICBBUlJPV19ET1dOLFxuICBBUlJPV19VUCxcbiAgRU5URVIsXG4gIEVTQ0FQRSxcbiAgVEFCLFxufSBmcm9tICcuLi9jb25zdGFudHMvS2V5Q29kZXMnO1xuaW1wb3J0IHsgQ1JFQVRFX05FVyB9IGZyb20gJy4uL2NvbnN0YW50cy9BY3Rpb25zJztcblxuY29uc3QgZGVmYXVsdENvbnRhaW5lciA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoVGV0aGVyZWRDb250YWluZXIpO1xuXG5mdW5jdGlvbiBzdWJDb21wb25lbnRSZW5kZXJlcihpbnN0YW5jZSwga2V5KSB7XG4gIHJldHVybiBjcmVhdGVTdWJDb21wb25lbnRSZW5kZXJlcih7XG4gICAgaW5zdGFuY2UsXG4gICAga2V5LFxuICAgIHByb3BzR2V0dGVyOiBpbnN0YW5jZS5fZ2V0QWN0aW9uUHJvcHMsXG4gIH0pO1xufVxuXG5jbGFzcyBUeGxTZWxlY3RDb250cm9sIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgLy8gQ2FuIGJlIHVzZWQgZm9yIGtleWJvYXJkIGNvbnRyb2xsZWQgc2VsZWN0IGJlaGF2aW91ci5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlSXRlbUluZGV4OiBudWxsLFxuICAgIH07XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgY2xlYXJTZWFyY2goKSB7XG4gICAgdGhpcy5fbGlzdERyb3Bkb3duQ29udHJvbFJlZi5fY2xlYXJTZWFyY2goKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBnZXRGaWx0ZXJlZEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLl9saXN0RHJvcGRvd25Db250cm9sUmVmLmdldEZpbHRlcmVkSXRlbXMoKTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlS2V5RG93bihlKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWxsb3dIZWFkZXJLZXlib2FyZFNlbGVjdGlvbixcbiAgICAgIGtleVNlbGVjdGVkSXRlbUluZGV4LFxuICAgICAgb25DaGFuZ2UsXG4gICAgICBvbkl0ZW1DcmVhdGUsXG4gICAgICBvbktleURvd24sXG4gICAgICBvbktleVNlbGVjdGVkSXRlbUluZGV4Q2hhbmdlLFxuICAgICAgb3BlbixcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsga2V5Q29kZSB9ID0gZTtcbiAgICBjb25zdCBmaWx0ZXJlZEl0ZW1zV3JhcHBlciA9IHRoaXMuZ2V0RmlsdGVyZWRJdGVtcygpO1xuICAgIGNvbnN0IGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zV3JhcHBlci5nZXRJdGVtcygpO1xuICAgIGNvbnN0IG1pbkluZGV4VmFsdWUgPSBhbGxvd0hlYWRlcktleWJvYXJkU2VsZWN0aW9uID8gLTEgOiAwO1xuXG4gICAgb25LZXlEb3duKHsga2V5Q29kZSB9KTtcbiAgICBpZiAob3Blbikge1xuICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgIGNhc2UgVEFCOlxuICAgICAgICBjYXNlIEVTQ0FQRTpcbiAgICAgICAgICB0aGlzLl9oYW5kbGVDbG9zZURyb3Bkb3duKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQVJST1dfRE9XTjogdGhpcy5fc2V0U2VsZWN0aW9uSW5kZXgoZmlsdGVyZWRJdGVtcyk7IGJyZWFrO1xuICAgICAgICBjYXNlIEFSUk9XX1VQOiB0aGlzLl9zZXRTZWxlY3Rpb25JbmRleChmaWx0ZXJlZEl0ZW1zLCB0cnVlKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgRU5URVI6IHtcbiAgICAgICAgICBpZiAoa2V5U2VsZWN0ZWRJdGVtSW5kZXggPj0gbWluSW5kZXhWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGZpbHRlcmVkSXRlbXNXcmFwcGVyLmdldEl0ZW0oa2V5U2VsZWN0ZWRJdGVtSW5kZXgpO1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS5pZCA9PT0gQ1JFQVRFX05FVykge1xuICAgICAgICAgICAgICBvbkl0ZW1DcmVhdGUoaXRlbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmNsZWFyU2VhcmNoKCk7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdExpc3RJdGVtID0gZmlsdGVyZWRJdGVtc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkQ3JlYXRlTmV3SXRlbVNlbGVjdGVkID1cbiAgICAgICAgICAgICAgZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDEgJiYgZmlyc3RMaXN0SXRlbS5pZCA9PT0gQ1JFQVRFX05FVyAmJiBmaXJzdExpc3RJdGVtLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHZhbGlkQ3JlYXRlTmV3SXRlbVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgIG9uSXRlbUNyZWF0ZShmaXJzdExpc3RJdGVtKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlRHJvcGRvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIG9uS2V5U2VsZWN0ZWRJdGVtSW5kZXhDaGFuZ2UoeyBrZXlTZWxlY3RlZEl0ZW1JbmRleDogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSBFTlRFUikge1xuICAgICAgdGhpcy5wcm9wcy5vcGVuRHJvcGRvd24oKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUNsb3NlRHJvcGRvd24oKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2xvc2VEcm9wZG93bixcbiAgICAgIG9uS2V5U2VsZWN0ZWRJdGVtSW5kZXhDaGFuZ2UsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBvbktleVNlbGVjdGVkSXRlbUluZGV4Q2hhbmdlKHsga2V5U2VsZWN0ZWRJdGVtSW5kZXg6IHVuZGVmaW5lZCB9KTtcbiAgICB0aGlzLmNsZWFyU2VhcmNoKCk7XG4gICAgY2xvc2VEcm9wZG93bigpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9zZXRTZWxlY3Rpb25JbmRleChpdGVtcywgaXNVcERpcmVjdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIGFsbG93SGVhZGVyS2V5Ym9hcmRTZWxlY3Rpb24sXG4gICAgICBrZXlTZWxlY3RlZEl0ZW1JbmRleDogY3VycmVudEtleVNlbGVjdGlvbkluZGV4LFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IGtleVNlbGVjdGVkSXRlbUluZGV4O1xuICAgIGNvbnN0IG1pbkluZGV4VmFsdWUgPSBhbGxvd0hlYWRlcktleWJvYXJkU2VsZWN0aW9uID8gLTEgOiAwO1xuXG4gICAgaWYgKGlzVXBEaXJlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBhbGxvd0hlYWRlcktleWJvYXJkU2VsZWN0aW9uID8gMCA6IDE7XG5cbiAgICAgIGtleVNlbGVjdGVkSXRlbUluZGV4ID0gY3VycmVudEtleVNlbGVjdGlvbkluZGV4ID49IHN0YXJ0SW5kZXhcbiAgICAgICAgPyBjdXJyZW50S2V5U2VsZWN0aW9uSW5kZXggLSAxXG4gICAgICAgIDogbWluSW5kZXhWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRLZXlTZWxlY3Rpb25JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBrZXlTZWxlY3RlZEl0ZW1JbmRleCA9IGN1cnJlbnRLZXlTZWxlY3Rpb25JbmRleCA8IChpdGVtcy5sZW5ndGggLSAxKSA/XG4gICAgICAgIGN1cnJlbnRLZXlTZWxlY3Rpb25JbmRleCArIDEgOlxuICAgICAgICBjdXJyZW50S2V5U2VsZWN0aW9uSW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleVNlbGVjdGVkSXRlbUluZGV4ID0gbWluSW5kZXhWYWx1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uS2V5U2VsZWN0ZWRJdGVtSW5kZXhDaGFuZ2UoeyBrZXlTZWxlY3RlZEl0ZW1JbmRleCB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfc2VsZWN0SXRlbSh7IGl0ZW0gfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9uQ2hhbmdlLFxuICAgICAgb25JdGVtQ3JlYXRlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5pZCA9PT0gQ1JFQVRFX05FVykge1xuICAgICAgb25JdGVtQ3JlYXRlKGl0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsZWFyU2VhcmNoKCk7XG4gICAgICBvbkNoYW5nZShpdGVtKTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2dldEFjdGlvblByb3BzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbkl0ZW1BY3RpdmF0ZTogdGhpcy5fYWN0aXZhdGVJdGVtLFxuICAgICAgc2VsZWN0SXRlbTogdGhpcy5fc2VsZWN0SXRlbSxcbiAgICB9O1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9zcGxpdFByb3BzKCkge1xuICAgIC8vIEV4Y2x1ZGUgdGFyZ2V0IGFuZCBpdGVtUmVuZGVyZXJcbiAgICBjb25zdCB7XG4gICAgICBvcGVuLFxuICAgICAgdGFyZ2V0LFxuICAgICAgaXRlbVJlbmRlcmVyLFxuICAgICAgLi4ub3RoZXJzXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBhY3RpdmVJdGVtSW5kZXggfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXRlbVJlbmRlcmVyLFxuICAgICAgb3BlbixcbiAgICAgIHNoYXJlZFByb3BzOiB7XG4gICAgICAgIGFjdGl2ZUl0ZW1JbmRleCxcbiAgICAgICAgLi4ub3RoZXJzLFxuICAgICAgICAuLi50aGlzLl9nZXRBY3Rpb25Qcm9wcygpLFxuICAgICAgfSxcbiAgICAgIHRhcmdldCxcbiAgICB9O1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9hY3RpdmF0ZUl0ZW0ob2JqKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhY3RpdmVJdGVtSW5kZXg6IG9iai5pbmRleCxcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfcmVuZGVyVGFyZ2V0KHByb3BzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gc3ViQ29tcG9uZW50UmVuZGVyZXIodGhpcywgJ3RhcmdldCcpO1xuICAgIGNvbnN0IHsgc2hhcmVkUHJvcHMgfSA9IHRoaXMuX3NwbGl0UHJvcHMoKTtcbiAgICByZXR1cm4gdGFyZ2V0KHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLi4uc2hhcmVkUHJvcHMsXG4gICAgICBvbktleURvd246IHRoaXMuX2hhbmRsZUtleURvd24sXG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX3JlbmRlckl0ZW0ocHJvcHMpIHtcbiAgICBjb25zdCBpdGVtUmVuZGVyZXIgPSBzdWJDb21wb25lbnRSZW5kZXJlcih0aGlzLCAnaXRlbVJlbmRlcmVyJyk7XG4gICAgY29uc3QgeyBzaGFyZWRQcm9wcyB9ID0gdGhpcy5fc3BsaXRQcm9wcygpO1xuICAgIGNvbnN0IHsga2V5U2VsZWN0ZWRJdGVtSW5kZXggfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgZmlsdGVyZWRJdGVtcyA9IHRoaXMuZ2V0RmlsdGVyZWRJdGVtcygpO1xuICAgIGNvbnN0IHtcbiAgICAgIGl0ZW0sXG4gICAgICBpbmRleCxcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBjb25zdCBpc0NyZWF0ZU5ld0l0ZW0gPSBpdGVtLmlkID09PSBDUkVBVEVfTkVXO1xuICAgIGNvbnN0IGlzT25seUZpbHRlcmVkSXRlbSA9IGZpbHRlcmVkSXRlbXMuZ2V0U2l6ZSgpID09PSAxO1xuXG4gICAgY29uc3QgaXRlbVZpZXdQcm9wcyA9IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLi4uc2hhcmVkUHJvcHMsXG4gICAgICBhY3RpdmU6IGluZGV4ID09PSB0aGlzLnN0YXRlLmFjdGl2ZUl0ZW1JbmRleCB8fCBpbmRleCA9PT0ga2V5U2VsZWN0ZWRJdGVtSW5kZXgsXG4gICAgICBrZXlTZWxlY3RlZEl0ZW1JbmRleCxcbiAgICAgIHNlbGVjdGVkOiB0aGlzLnByb3BzLmlzSXRlbVNlbGVjdGVkKGl0ZW0pIHx8IChpc0NyZWF0ZU5ld0l0ZW0gJiYgaXNPbmx5RmlsdGVyZWRJdGVtKSxcbiAgICAgIHNlbGVjdGVkSXRlbTogKGluZGV4ID09PSBrZXlTZWxlY3RlZEl0ZW1JbmRleCksXG4gICAgfTtcblxuICAgIHJldHVybiBpdGVtUmVuZGVyZXIoaXRlbVZpZXdQcm9wcyk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX3JlbmRlckdyb3VwKCkge1xuICAgIHJldHVybiBzdWJDb21wb25lbnRSZW5kZXJlcih0aGlzLCAnZ3JvdXBSZW5kZXJlcicpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVEcm9wZG93bkNvbnRyb2xSZWYocmVmKSB7XG4gICAgdGhpcy5fbGlzdERyb3Bkb3duQ29udHJvbFJlZiA9IHJlZjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbG9zZURyb3Bkb3duLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgZW5hYmxlTG9jYWxGaWx0ZXJpbmcsXG4gICAgICBncm91cGVyLFxuICAgICAgaXRlbUhlaWdodCxcbiAgICAgIGl0ZW1zLFxuICAgICAga2V5TWFwcGVyLFxuICAgICAga2V5U2VsZWN0ZWRJdGVtQ2xlYXIsXG4gICAgICBrZXlTZWxlY3RlZEl0ZW1JbmRleCxcbiAgICAgIGxpc3RQcm9wcyxcbiAgICAgIGxvYWRpbmcsXG4gICAgICBub0NvbnRlbnRWaWV3LFxuICAgICAgb25TZWFyY2hDaGFuZ2UsXG4gICAgICBvcGVuLFxuICAgICAgb3BlbkRyb3Bkb3duLFxuICAgICAgcHJlZGljYXRlR2V0dGVyLFxuICAgICAgc2Vjb25kYXJ5VGV4dCxcbiAgICAgIHNob3VsZElucHV0V3JhcCxcbiAgICAgIHNob3dDcmVhdGVOZXcsXG4gICAgICBzaG93U2VhcmNoVG9WaWV3TW9yZU1lc3NhZ2UsXG4gICAgICB3aWR0aCxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIC8vIFNpbmNlIHRoZSBkcm9wZG93biBhdHRhY2hlcyB0byB0aGUgYm90dG9tIG9mIHRoZSBjb21wb25lbnQsIGlmIHRoZXJlJ3Mgc2Vjb25kYXJ5IHRleHQsXG4gICAgLy8gd2UgbmVlZCB0byBhY2NvdW50IGZvciBpdHMgaGVpZ2h0IHdoZW4gY2FsY3VsYXRpbmcgdGhlIG9mZnNldCwgc28gdGhhdCB0aGUgZHJvcGRvd25cbiAgICAvLyBpcyBkaXJlY3RseSB1bmRlciB0aGUgZmllbGQgaXRzZWxmLlxuICAgIGNvbnN0IGRyb3Bkb3duVGFyZ2V0WU9mZnNldCA9IC0oZ3VSYXcoMSkpICtcbiAgICAgIChzZWNvbmRhcnlUZXh0ID8gSU5QVVRfRklFTERTLnNlY29uZGFyeVRleHRIZWlnaHQgOiAwKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8TGlzdERyb3Bkb3duQ29udHJvbFxuICAgICAgICBhY3RpdmF0ZUl0ZW09e3RoaXMuX2FjdGl2YXRlSXRlbX1cbiAgICAgICAgY2xvc2VEcm9wZG93bj17Y2xvc2VEcm9wZG93bn1cbiAgICAgICAgY29udGFpbmVyPXtjb250YWluZXJ9XG4gICAgICAgIGVuYWJsZUxvY2FsRmlsdGVyaW5nPXtlbmFibGVMb2NhbEZpbHRlcmluZ31cbiAgICAgICAgZ3JvdXBlcj17Z3JvdXBlcn1cbiAgICAgICAgZ3JvdXBSZW5kZXJlcj17dGhpcy5fcmVuZGVyR3JvdXB9XG4gICAgICAgIGl0ZW1SZW5kZXJlcj17dGhpcy5fcmVuZGVySXRlbX1cbiAgICAgICAgaXRlbUhlaWdodD17aXRlbUhlaWdodH1cbiAgICAgICAgaXRlbXM9e2l0ZW1zfVxuICAgICAgICBrZXlNYXBwZXI9e2tleU1hcHBlcn1cbiAgICAgICAga2V5U2VsZWN0ZWRJdGVtQ2xlYXI9e2tleVNlbGVjdGVkSXRlbUNsZWFyfVxuICAgICAgICBrZXlTZWxlY3RlZEl0ZW1JbmRleD17a2V5U2VsZWN0ZWRJdGVtSW5kZXh9XG4gICAgICAgIGxpc3RQcm9wcz17bGlzdFByb3BzfVxuICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICBub0NvbnRlbnRWaWV3PXtub0NvbnRlbnRWaWV3fVxuICAgICAgICBvblNlYXJjaENoYW5nZT17b25TZWFyY2hDaGFuZ2V9XG4gICAgICAgIG9wZW49e29wZW59XG4gICAgICAgIG9wZW5Ecm9wZG93bj17b3BlbkRyb3Bkb3dufVxuICAgICAgICBwcmVkaWNhdGVHZXR0ZXI9e3ByZWRpY2F0ZUdldHRlcn1cbiAgICAgICAgcmVmPXt0aGlzLl9oYW5kbGVEcm9wZG93bkNvbnRyb2xSZWZ9XG4gICAgICAgIHNob3VsZElucHV0V3JhcD17c2hvdWxkSW5wdXRXcmFwfVxuICAgICAgICBzaG93Q3JlYXRlTmV3PXtzaG93Q3JlYXRlTmV3fVxuICAgICAgICBzaG93U2VhcmNoVG9WaWV3TW9yZU1lc3NhZ2U9e3Nob3dTZWFyY2hUb1ZpZXdNb3JlTWVzc2FnZX1cbiAgICAgICAgdGFyZ2V0PXt0aGlzLl9yZW5kZXJUYXJnZXR9XG4gICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgeU9mZnNldD17ZHJvcGRvd25UYXJnZXRZT2Zmc2V0fVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cblR4bFNlbGVjdENvbnRyb2wucHJvcFR5cGVzID0ge1xuICBhbGxvd0hlYWRlcktleWJvYXJkU2VsZWN0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2xvc2VEcm9wZG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIGNvbnRhaW5lcjogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMuY29udGFpbmVyLFxuICBlbmFibGVMb2NhbEZpbHRlcmluZzogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMuZW5hYmxlTG9jYWxGaWx0ZXJpbmcsXG4gIGdyb3VwUmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuICBncm91cGVyOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5ncm91cGVyLFxuICBpc0l0ZW1TZWxlY3RlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgaXRlbUhlaWdodDogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMuaXRlbUhlaWdodCxcbiAgaXRlbVJlbmRlcmVyOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5pdGVtUmVuZGVyZXIsXG4gIGl0ZW1zOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5pdGVtcyxcbiAga2V5TWFwcGVyOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5rZXlNYXBwZXIsXG4gIGtleVNlbGVjdGVkSXRlbUNsZWFyOiBQcm9wVHlwZXMuZnVuYyxcbiAga2V5U2VsZWN0ZWRJdGVtSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGxhYmVsOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5sYWJlbCxcbiAgbGlzdFByb3BzOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5saXN0UHJvcHMsXG4gIGxvYWRpbmc6IExpc3REcm9wZG93bkNvbnRyb2wucHJvcFR5cGVzLmxvYWRpbmcsXG4gIG5vQ29udGVudFZpZXc6IExpc3REcm9wZG93bkNvbnRyb2wucHJvcFR5cGVzLm5vQ29udGVudFZpZXcsXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25JdGVtQ3JlYXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25LZXlEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25LZXlTZWxlY3RlZEl0ZW1JbmRleENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU2VhcmNoQ2hhbmdlOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5vblNlYXJjaENoYW5nZSxcbiAgb3BlbjogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMub3BlbixcbiAgb3BlbkRyb3Bkb3duOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5vcGVuRHJvcGRvd24sXG4gIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMubm9kZSxcbiAgcHJlZGljYXRlR2V0dGVyOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5wcmVkaWNhdGVHZXR0ZXIsXG4gIHNlYXJjaDogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMuc2VhcmNoLFxuICBzZWNvbmRhcnlUZXh0OiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5zZWNvbmRhcnlUZXh0LFxuICBzaG91bGRJbnB1dFdyYXA6IFByb3BUeXBlcy5ib29sLFxuICBzaG93Q3JlYXRlTmV3OiBQcm9wVHlwZXMuYm9vbCxcbiAgc2hvd1NlYXJjaFRvVmlld01vcmVNZXNzYWdlOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy5zaG93U2VhcmNoVG9WaWV3TW9yZU1lc3NhZ2UsXG4gIHRhcmdldDogTGlzdERyb3Bkb3duQ29udHJvbC5wcm9wVHlwZXMudGFyZ2V0LFxuICB2YWxpZGF0aW9uU3RhdGU6IElucHV0RmllbGRCYXNlLnByb3BUeXBlcy52YWxpZGF0aW9uU3RhdGUsXG4gIHZhbHVlOiBQcm9wVHlwZXMuYW55LFxuICB2YWx1ZU1hcHBlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHdpZHRoOiBMaXN0RHJvcGRvd25Db250cm9sLnByb3BUeXBlcy53aWR0aCxcbn07XG5cblR4bFNlbGVjdENvbnRyb2wuZGlzcGxheU5hbWUgPSAnVHhsU2VsZWN0Q29udHJvbCc7XG5cblR4bFNlbGVjdENvbnRyb2wuZGVmYXVsdFByb3BzID0ge1xuICBhbGxvd0hlYWRlcktleWJvYXJkU2VsZWN0aW9uOiBmYWxzZSxcbiAgY29udGFpbmVyOiBkZWZhdWx0Q29udGFpbmVyLFxuICBlbmFibGVMb2NhbEZpbHRlcmluZzogdHJ1ZSxcbiAgaXRlbXM6IFtdLFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgbXVsdGk6IGZhbHNlLFxuICBvbktleURvd246IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgb25TZWFyY2hDaGFuZ2U6IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgc2VsZWN0b3I6ICgpID0+IGZhbHNlLFxuICBzaG91bGRJbnB1dFdyYXA6IHRydWUsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUeGxTZWxlY3RDb250cm9sO1xuIl19