'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Navigation = require('./Navigation.style');

var _helpers = require('../styles/helpers');

var _theme = require('../styles/theme');

var _Item = require('./records/Item');

var _Item2 = _interopRequireDefault(_Item);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var NavigationItem = function (_Component) {
  (0, _inherits3.default)(NavigationItem, _Component);

  function NavigationItem() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, NavigationItem);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = NavigationItem.__proto__ || (0, _getPrototypeOf2.default)(NavigationItem)).call.apply(_ref, [this].concat(args))), _this), _this._onMouseEnter = function () {
      var _this2;

      return (_this2 = _this).___onMouseEnter__REACT_HOT_LOADER__.apply(_this2, arguments);
    }, _this._onMouseLeave = function () {
      var _this3;

      return (_this3 = _this).___onMouseLeave__REACT_HOT_LOADER__.apply(_this3, arguments);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(NavigationItem, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props.data !== nextProps.data;
    }
  }, {
    key: '___onMouseEnter__REACT_HOT_LOADER__',
    value: function ___onMouseEnter__REACT_HOT_LOADER__() {
      return this.___onMouseEnter__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___onMouseEnter__REACT_HOT_LOADER__',
    value: function ___onMouseEnter__REACT_HOT_LOADER__() {
      var _props = this.props,
          onUpdate = _props.onUpdate,
          data = _props.data;

      onUpdate(function (item) {
        return item.id === data.id && !item.hovered;
      }, function (item) {
        return item.set('hovered', true);
      });
    }
  }, {
    key: '___onMouseLeave__REACT_HOT_LOADER__',
    value: function ___onMouseLeave__REACT_HOT_LOADER__() {
      return this.___onMouseLeave__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___onMouseLeave__REACT_HOT_LOADER__',
    value: function ___onMouseLeave__REACT_HOT_LOADER__() {
      var _props2 = this.props,
          onUpdate = _props2.onUpdate,
          data = _props2.data;

      onUpdate(function (item) {
        return item.id === data.id && item.hovered;
      }, function (item) {
        return item.set('hovered', false);
      });
    }
  }, {
    key: '_renderTemplate',
    value: function _renderTemplate(itemActive) {
      var _props$data = this.props.data,
          active = _props$data.active,
          display = _props$data.display,
          hovered = _props$data.hovered,
          meta = _props$data.meta,
          name = _props$data.name,
          Template = _props$data.template,
          templateProps = _props$data.templateProps;


      var style = (0, _helpers.combineStyles)(_Navigation.STYLES.itemTemplate.base, active && itemActive);

      var props = (0, _extends3.default)({}, templateProps, {
        active: active,
        display: display,
        hovered: hovered,
        meta: meta,
        name: name,
        style: style
      });

      return _react2.default.createElement(
        Template,
        props,
        display
      );
    }
  }, {
    key: 'render',
    value: function render() {
      var COLOR_APP_THEME = (0, _theme.determineColorAppTheme)(this.context.txlAppTheme);
      var itemActive = {
        backgroundColor: COLOR_APP_THEME['500'],
        color: COLOR_APP_THEME['500c']
      };
      var styles = (0, _helpers.combineStyles)(_Navigation.STYLES.itemSub.base, this.props.data.active && itemActive, this.props.data.hovered && _Navigation.STYLES.itemSub.hover);

      return _react2.default.createElement(
        'div',
        {
          onMouseEnter: this._onMouseEnter,
          onMouseLeave: this._onMouseLeave,
          style: styles
        },
        this._renderTemplate(itemActive)
      );
    }
  }]);
  return NavigationItem;
}(_react.Component);

NavigationItem.propTypes = {
  data: require('react').PropTypes.any.isRequired,
  onUpdate: require('react').PropTypes.func.isRequired
};


NavigationItem.contextTypes = {
  txlAppTheme: _theme.contextThemePropType
};

var _default = NavigationItem;
exports.default = _default;
;

var _temp2 = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(NavigationItem, 'NavigationItem', 'src/navigation/NavigationItem.jsx');

  __REACT_HOT_LOADER__.register(_default, 'default', 'src/navigation/NavigationItem.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9uYXZpZ2F0aW9uL05hdmlnYXRpb25JdGVtLmpzeCJdLCJuYW1lcyI6WyJOYXZpZ2F0aW9uSXRlbSIsIl9vbk1vdXNlRW50ZXIiLCJfb25Nb3VzZUxlYXZlIiwibmV4dFByb3BzIiwicHJvcHMiLCJkYXRhIiwib25VcGRhdGUiLCJpdGVtIiwiaWQiLCJob3ZlcmVkIiwic2V0IiwiaXRlbUFjdGl2ZSIsImFjdGl2ZSIsImRpc3BsYXkiLCJtZXRhIiwibmFtZSIsIlRlbXBsYXRlIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZVByb3BzIiwic3R5bGUiLCJpdGVtVGVtcGxhdGUiLCJiYXNlIiwiQ09MT1JfQVBQX1RIRU1FIiwiY29udGV4dCIsInR4bEFwcFRoZW1lIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzdHlsZXMiLCJpdGVtU3ViIiwiaG92ZXIiLCJfcmVuZGVyVGVtcGxhdGUiLCJjb250ZXh0VHlwZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBOzs7O0FBRUE7O0FBR0E7O0FBQ0E7O0FBQ0E7Ozs7OztJQU9NQSxjOzs7Ozs7Ozs7Ozs7Ozs0TkFRSkMsYTs7OzthQUtBQyxhOzs7Ozs7Ozs7MENBVHNCQyxTLEVBQWtCO0FBQ3RDLGFBQU8sS0FBS0MsS0FBTCxDQUFXQyxJQUFYLEtBQW9CRixVQUFVRSxJQUFyQztBQUNEOzs7Ozs7OzswREFFcUI7QUFBQSxtQkFDTyxLQUFLRCxLQURaO0FBQUEsVUFDWkUsUUFEWSxVQUNaQSxRQURZO0FBQUEsVUFDRkQsSUFERSxVQUNGQSxJQURFOztBQUVwQkMsZUFBUztBQUFBLGVBQVFDLEtBQUtDLEVBQUwsS0FBWUgsS0FBS0csRUFBakIsSUFBdUIsQ0FBQ0QsS0FBS0UsT0FBckM7QUFBQSxPQUFULEVBQXVEO0FBQUEsZUFBUUYsS0FBS0csR0FBTCxDQUFTLFNBQVQsRUFBb0IsSUFBcEIsQ0FBUjtBQUFBLE9BQXZEO0FBQ0Q7Ozs7Ozs7OzBEQUVxQjtBQUFBLG9CQUNPLEtBQUtOLEtBRFo7QUFBQSxVQUNaRSxRQURZLFdBQ1pBLFFBRFk7QUFBQSxVQUNGRCxJQURFLFdBQ0ZBLElBREU7O0FBRXBCQyxlQUFTO0FBQUEsZUFBUUMsS0FBS0MsRUFBTCxLQUFZSCxLQUFLRyxFQUFqQixJQUF1QkQsS0FBS0UsT0FBcEM7QUFBQSxPQUFULEVBQXNEO0FBQUEsZUFBUUYsS0FBS0csR0FBTCxDQUFTLFNBQVQsRUFBb0IsS0FBcEIsQ0FBUjtBQUFBLE9BQXREO0FBQ0Q7OztvQ0FFZUMsVSxFQUFZO0FBQUEsd0JBU3RCLEtBQUtQLEtBQUwsQ0FBV0MsSUFUVztBQUFBLFVBRXhCTyxNQUZ3QixlQUV4QkEsTUFGd0I7QUFBQSxVQUd4QkMsT0FId0IsZUFHeEJBLE9BSHdCO0FBQUEsVUFJeEJKLE9BSndCLGVBSXhCQSxPQUp3QjtBQUFBLFVBS3hCSyxJQUx3QixlQUt4QkEsSUFMd0I7QUFBQSxVQU14QkMsSUFOd0IsZUFNeEJBLElBTndCO0FBQUEsVUFPZEMsUUFQYyxlQU94QkMsUUFQd0I7QUFBQSxVQVF4QkMsYUFSd0IsZUFReEJBLGFBUndCOzs7QUFXMUIsVUFBTUMsUUFBUSw0QkFDWixtQkFBT0MsWUFBUCxDQUFvQkMsSUFEUixFQUVaVCxVQUFVRCxVQUZFLENBQWQ7O0FBS0EsVUFBTVAsbUNBQ0RjLGFBREM7QUFFSk4sc0JBRkk7QUFHSkMsd0JBSEk7QUFJSkosd0JBSkk7QUFLSkssa0JBTEk7QUFNSkMsa0JBTkk7QUFPSkk7QUFQSSxRQUFOOztBQVVBLGFBQU87QUFBQyxnQkFBRDtBQUFjZixhQUFkO0FBQXNCUztBQUF0QixPQUFQO0FBQ0Q7Ozs2QkFFUTtBQUNQLFVBQU1TLGtCQUFrQixtQ0FBdUIsS0FBS0MsT0FBTCxDQUFhQyxXQUFwQyxDQUF4QjtBQUNBLFVBQU1iLGFBQWE7QUFDakJjLHlCQUFpQkgsZ0JBQWdCLEtBQWhCLENBREE7QUFFakJJLGVBQU9KLGdCQUFnQixNQUFoQjtBQUZVLE9BQW5CO0FBSUEsVUFBTUssU0FBUyw0QkFDYixtQkFBT0MsT0FBUCxDQUFlUCxJQURGLEVBRWIsS0FBS2pCLEtBQUwsQ0FBV0MsSUFBWCxDQUFnQk8sTUFBaEIsSUFBMEJELFVBRmIsRUFHYixLQUFLUCxLQUFMLENBQVdDLElBQVgsQ0FBZ0JJLE9BQWhCLElBQTJCLG1CQUFPbUIsT0FBUCxDQUFlQyxLQUg3QixDQUFmOztBQU1BLGFBQ0U7QUFBQTtBQUFBO0FBQ0Usd0JBQWMsS0FBSzVCLGFBRHJCO0FBRUUsd0JBQWMsS0FBS0MsYUFGckI7QUFHRSxpQkFBT3lCO0FBSFQ7QUFLRyxhQUFLRyxlQUFMLENBQXFCbkIsVUFBckI7QUFMSCxPQURGO0FBU0Q7Ozs7Ozs7Ozs7O0FBR0hYLGVBQWUrQixZQUFmLEdBQThCO0FBQzVCUDtBQUQ0QixDQUE5Qjs7ZUFJZXhCLGM7Ozs7Ozs7OztnQ0EzRVRBLGMiLCJmaWxlIjoiTmF2aWdhdGlvbkl0ZW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZmxvd1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgU1RZTEVTLFxufSBmcm9tICcuL05hdmlnYXRpb24uc3R5bGUnO1xuaW1wb3J0IHsgY29tYmluZVN0eWxlcyB9IGZyb20gJy4uL3N0eWxlcy9oZWxwZXJzJztcbmltcG9ydCB7IGNvbnRleHRUaGVtZVByb3BUeXBlLCBkZXRlcm1pbmVDb2xvckFwcFRoZW1lIH0gZnJvbSAnLi4vc3R5bGVzL3RoZW1lJztcbmltcG9ydCBJdGVtIGZyb20gJy4vcmVjb3Jkcy9JdGVtJztcblxudHlwZSBQcm9wcyA9IHtcbiAgZGF0YTogSXRlbSxcbiAgb25VcGRhdGU6IChpdGVtOiBJdGVtLCBwcmVkaWNhdGU6IChpdGVtOiBJdGVtKSA9PiBib29sZWFuLCB1cGRhdGU6IChpdGVtOiBJdGVtKSA9PiBJdGVtKSA9PiB2b2lkLFxufTtcblxuY2xhc3MgTmF2aWdhdGlvbkl0ZW0gZXh0ZW5kcyBDb21wb25lbnQge1xuICBwcm9wczogUHJvcHM7XG4gIHN0YXRlOiBPYmplY3Q7XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczogUHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kYXRhICE9PSBuZXh0UHJvcHMuZGF0YTtcbiAgfVxuXG4gIF9vbk1vdXNlRW50ZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvblVwZGF0ZSwgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBvblVwZGF0ZShpdGVtID0+IGl0ZW0uaWQgPT09IGRhdGEuaWQgJiYgIWl0ZW0uaG92ZXJlZCwgaXRlbSA9PiBpdGVtLnNldCgnaG92ZXJlZCcsIHRydWUpKTtcbiAgfTtcblxuICBfb25Nb3VzZUxlYXZlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgb25VcGRhdGUsIGRhdGEgfSA9IHRoaXMucHJvcHM7XG4gICAgb25VcGRhdGUoaXRlbSA9PiBpdGVtLmlkID09PSBkYXRhLmlkICYmIGl0ZW0uaG92ZXJlZCwgaXRlbSA9PiBpdGVtLnNldCgnaG92ZXJlZCcsIGZhbHNlKSk7XG4gIH07XG5cbiAgX3JlbmRlclRlbXBsYXRlKGl0ZW1BY3RpdmUpIHtcbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmUsXG4gICAgICBkaXNwbGF5LFxuICAgICAgaG92ZXJlZCxcbiAgICAgIG1ldGEsXG4gICAgICBuYW1lLFxuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlLFxuICAgICAgdGVtcGxhdGVQcm9wcyxcbiAgICB9ID0gdGhpcy5wcm9wcy5kYXRhO1xuXG4gICAgY29uc3Qgc3R5bGUgPSBjb21iaW5lU3R5bGVzKFxuICAgICAgU1RZTEVTLml0ZW1UZW1wbGF0ZS5iYXNlLFxuICAgICAgYWN0aXZlICYmIGl0ZW1BY3RpdmVcbiAgICApO1xuXG4gICAgY29uc3QgcHJvcHMgPSB7XG4gICAgICAuLi50ZW1wbGF0ZVByb3BzLFxuICAgICAgYWN0aXZlLFxuICAgICAgZGlzcGxheSxcbiAgICAgIGhvdmVyZWQsXG4gICAgICBtZXRhLFxuICAgICAgbmFtZSxcbiAgICAgIHN0eWxlLFxuICAgIH07XG5cbiAgICByZXR1cm4gPFRlbXBsYXRlIHsuLi5wcm9wc30+e2Rpc3BsYXl9PC9UZW1wbGF0ZT47XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgQ09MT1JfQVBQX1RIRU1FID0gZGV0ZXJtaW5lQ29sb3JBcHBUaGVtZSh0aGlzLmNvbnRleHQudHhsQXBwVGhlbWUpO1xuICAgIGNvbnN0IGl0ZW1BY3RpdmUgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IENPTE9SX0FQUF9USEVNRVsnNTAwJ10sXG4gICAgICBjb2xvcjogQ09MT1JfQVBQX1RIRU1FWyc1MDBjJ10sXG4gICAgfTtcbiAgICBjb25zdCBzdHlsZXMgPSBjb21iaW5lU3R5bGVzKFxuICAgICAgU1RZTEVTLml0ZW1TdWIuYmFzZSxcbiAgICAgIHRoaXMucHJvcHMuZGF0YS5hY3RpdmUgJiYgaXRlbUFjdGl2ZSxcbiAgICAgIHRoaXMucHJvcHMuZGF0YS5ob3ZlcmVkICYmIFNUWUxFUy5pdGVtU3ViLmhvdmVyXG4gICAgKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIG9uTW91c2VFbnRlcj17dGhpcy5fb25Nb3VzZUVudGVyfVxuICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMuX29uTW91c2VMZWF2ZX1cbiAgICAgICAgc3R5bGU9e3N0eWxlc31cbiAgICAgID5cbiAgICAgICAge3RoaXMuX3JlbmRlclRlbXBsYXRlKGl0ZW1BY3RpdmUpfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5OYXZpZ2F0aW9uSXRlbS5jb250ZXh0VHlwZXMgPSB7XG4gIHR4bEFwcFRoZW1lOiBjb250ZXh0VGhlbWVQcm9wVHlwZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRpb25JdGVtO1xuIl19