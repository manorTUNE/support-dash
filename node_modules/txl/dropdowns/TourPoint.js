'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _desc, _value, _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Base = require('../base/Base');

var _TourPointControlled = require('./TourPointControlled');

var _TourPointControlled2 = _interopRequireDefault(_TourPointControlled);

var _TourPointTargetBase = require('./_TourPointTargetBase');

var _TourPointTargetBase2 = _interopRequireDefault(_TourPointTargetBase);

var _TourCardContainer = require('../containers/_TourCardContainer');

var _TourCardContainer2 = _interopRequireDefault(_TourCardContainer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

/* *****************************

+-TourPoint------------------------+
|                                  |
| +-TourPointControlled----------+ |
| |                              | |
| | +--TourPointTargetBase-----+ | |
| | |                          | | |
| | | +-TetheredPopoverTarget+ | | |     +-new Tether()------+
| | | |                      | | | |     |                   |
| | | |  +-HintDot--------+  | | | |     |                   |
| | | |  |                |  | | | |     |  +-TourCard-----+ |
| | | |  |                |  | | | |     |  |              | |
| | | |  |                +--------------+  |              | |
| | | |  |                |  | | | |     |  |              | |
| | | |  +----------------+  | | | |     |  |              | |
| | | |                      | | | |     |  |              | |
| | | |                      | | | |     |  |              | |
| | | |                      | | | |     |  |              | |
| | | |                      | | | |     |  |              | |
| | | |                      | | | |     |  +--------------+ |
| | | |                      | | | |     |                   |
| | | |                      | | | |     +-------------------+
| | | |                      | | | |
| | | +----------------------+ | | |
| | |                          | | |
| | +--------------------------+ | |
| +------------------------------+ |
|                                  |
+----------------------------------+


*******************************/

var TxlTourPoint = (_class = function (_React$Component) {
  (0, _inherits3.default)(TxlTourPoint, _React$Component);

  function TxlTourPoint() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlTourPoint);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlTourPoint.__proto__ || (0, _getPrototypeOf2.default)(TxlTourPoint)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      pulsingState: true,
      visibleState: false
    };
    return _this;
  }

  (0, _createClass3.default)(TxlTourPoint, [{
    key: '_handleClick',
    value: function _handleClick(e) {
      // This is a strategy to ensure that when the HintDot is clicked, its treated
      // as an "awayClick" when the TourCardContainer is showing. Otherwise the content will go
      // from off to on in an instant.
      if (this._lastAwayClickTimeStamp !== e.timeStamp) {
        this.setState({
          pulsingState: this.state.visibleState,
          visibleState: !this.state.visibleState
        });
      }
    }
  }, {
    key: '_hideContent',
    value: function _hideContent() {
      this.setState({ visibleState: false });
    }
  }, {
    key: '_handleDismiss',
    value: function _handleDismiss() {
      this._hideContent();
      this.setState({
        pulsingState: false
      });
      this.props.onDismiss.apply(this, [{}]);
    }
  }, {
    key: '_handleAwayClick',
    value: function _handleAwayClick(e) {
      this._lastAwayClickTimeStamp = e.timeStamp;
      this._hideContent();
      this.setState({
        pulsingState: true
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _handleAwayClick = this._handleAwayClick,
          _handleClick = this._handleClick,
          _handleDismiss = this._handleDismiss,
          _props = this.props,
          content = _props.content,
          footer = _props.footer,
          header = _props.header,
          icon = _props.icon,
          style = _props.style,
          width = _props.width,
          _state = this.state,
          visibleState = _state.visibleState,
          pulsingState = _state.pulsingState;

      return _react2.default.createElement(_TourPointControlled2.default, {
        content: content,
        footer: footer,
        header: header,
        icon: icon,
        onAwayClick: _handleAwayClick,
        onDismiss: _handleDismiss,
        onHintClick: _handleClick,
        pulsing: pulsingState,
        style: style,
        visible: visibleState,
        width: width
      });
    }
  }]);
  return TxlTourPoint;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class.prototype, '_handleClick', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleClick'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_hideContent', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_hideContent'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_handleDismiss', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleDismiss'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, '_handleAwayClick', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, '_handleAwayClick'), _class.prototype)), _class);


TxlTourPoint.defaultProps = {
  icon: _TourCardContainer2.default.defaultProps.icon,
  onAwayClick: _TourPointTargetBase2.default.defaultProps.onAwayClick,
  onDismiss: _TourCardContainer2.default.defaultProps.onDismiss,
  onHintClick: _TourPointTargetBase2.default.defaultProps.onHintClick,
  visible: _TourPointTargetBase2.default.defaultProps.visible,
  width: _TourCardContainer2.default.defaultProps.width
};

TxlTourPoint.propTypes = {
  content: _TourPointTargetBase2.default.propTypes.content,
  footer: _TourCardContainer2.default.propTypes.footer,
  header: _TourCardContainer2.default.propTypes.header,
  icon: _TourCardContainer2.default.propTypes.icon,
  onDismiss: _TourCardContainer2.default.propTypes.onDismiss,
  pulsing: _TourPointTargetBase2.default.propTypes.pulsing,
  style: _TourPointTargetBase2.default.propTypes.style,
  visible: _TourPointTargetBase2.default.propTypes.visible,
  width: _TourCardContainer2.default.propTypes.width
};

var _default = TxlTourPoint;
exports.default = _default;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(TxlTourPoint, 'TxlTourPoint', 'src/dropdowns/TourPoint.jsx');

  __REACT_HOT_LOADER__.register(_default, 'default', 'src/dropdowns/TourPoint.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kcm9wZG93bnMvVG91clBvaW50LmpzeCJdLCJuYW1lcyI6WyJUeGxUb3VyUG9pbnQiLCJhcmdzIiwic3RhdGUiLCJwdWxzaW5nU3RhdGUiLCJ2aXNpYmxlU3RhdGUiLCJlIiwiX2xhc3RBd2F5Q2xpY2tUaW1lU3RhbXAiLCJ0aW1lU3RhbXAiLCJzZXRTdGF0ZSIsIl9oaWRlQ29udGVudCIsInByb3BzIiwib25EaXNtaXNzIiwiYXBwbHkiLCJfaGFuZGxlQXdheUNsaWNrIiwiX2hhbmRsZUNsaWNrIiwiX2hhbmRsZURpc21pc3MiLCJjb250ZW50IiwiZm9vdGVyIiwiaGVhZGVyIiwiaWNvbiIsInN0eWxlIiwid2lkdGgiLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJvbkF3YXlDbGljayIsIm9uSGludENsaWNrIiwidmlzaWJsZSIsInByb3BUeXBlcyIsInB1bHNpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFFQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrQ01BLFk7OztBQUNKLDBCQUFxQjtBQUFBOztBQUFBOztBQUFBLHNDQUFOQyxJQUFNO0FBQU5BLFVBQU07QUFBQTs7QUFBQSw2S0FDVkEsSUFEVTs7QUFFbkIsVUFBS0MsS0FBTCxHQUFhO0FBQ1hDLG9CQUFjLElBREg7QUFFWEMsb0JBQWM7QUFGSCxLQUFiO0FBRm1CO0FBTXBCOzs7O2lDQUdZQyxDLEVBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFJLEtBQUtDLHVCQUFMLEtBQWlDRCxFQUFFRSxTQUF2QyxFQUFrRDtBQUNoRCxhQUFLQyxRQUFMLENBQWM7QUFDWkwsd0JBQWMsS0FBS0QsS0FBTCxDQUFXRSxZQURiO0FBRVpBLHdCQUFjLENBQUMsS0FBS0YsS0FBTCxDQUFXRTtBQUZkLFNBQWQ7QUFJRDtBQUNGOzs7bUNBR2M7QUFDYixXQUFLSSxRQUFMLENBQWMsRUFBRUosY0FBYyxLQUFoQixFQUFkO0FBQ0Q7OztxQ0FHZ0I7QUFDZixXQUFLSyxZQUFMO0FBQ0EsV0FBS0QsUUFBTCxDQUFjO0FBQ1pMLHNCQUFjO0FBREYsT0FBZDtBQUdBLFdBQUtPLEtBQUwsQ0FBV0MsU0FBWCxDQUFxQkMsS0FBckIsQ0FBMkIsSUFBM0IsRUFBaUMsQ0FBQyxFQUFELENBQWpDO0FBQ0Q7OztxQ0FHZ0JQLEMsRUFBRztBQUNsQixXQUFLQyx1QkFBTCxHQUErQkQsRUFBRUUsU0FBakM7QUFDQSxXQUFLRSxZQUFMO0FBQ0EsV0FBS0QsUUFBTCxDQUFjO0FBQ1pMLHNCQUFjO0FBREYsT0FBZDtBQUdEOzs7NkJBRVE7QUFBQSxVQUVMVSxnQkFGSyxHQWlCSCxJQWpCRyxDQUVMQSxnQkFGSztBQUFBLFVBR0xDLFlBSEssR0FpQkgsSUFqQkcsQ0FHTEEsWUFISztBQUFBLFVBSUxDLGNBSkssR0FpQkgsSUFqQkcsQ0FJTEEsY0FKSztBQUFBLG1CQWlCSCxJQWpCRyxDQUtMTCxLQUxLO0FBQUEsVUFNSE0sT0FORyxVQU1IQSxPQU5HO0FBQUEsVUFPSEMsTUFQRyxVQU9IQSxNQVBHO0FBQUEsVUFRSEMsTUFSRyxVQVFIQSxNQVJHO0FBQUEsVUFTSEMsSUFURyxVQVNIQSxJQVRHO0FBQUEsVUFVSEMsS0FWRyxVQVVIQSxLQVZHO0FBQUEsVUFXSEMsS0FYRyxVQVdIQSxLQVhHO0FBQUEsbUJBaUJILElBakJHLENBYUxuQixLQWJLO0FBQUEsVUFjSEUsWUFkRyxVQWNIQSxZQWRHO0FBQUEsVUFlSEQsWUFmRyxVQWVIQSxZQWZHOztBQWtCUCxhQUNFO0FBQ0UsaUJBQVNhLE9BRFg7QUFFRSxnQkFBUUMsTUFGVjtBQUdFLGdCQUFRQyxNQUhWO0FBSUUsY0FBTUMsSUFKUjtBQUtFLHFCQUFhTixnQkFMZjtBQU1FLG1CQUFXRSxjQU5iO0FBT0UscUJBQWFELFlBUGY7QUFRRSxpQkFBU1gsWUFSWDtBQVNFLGVBQU9pQixLQVRUO0FBVUUsaUJBQVNoQixZQVZYO0FBV0UsZUFBT2lCO0FBWFQsUUFERjtBQWVEOzs7RUE5RXdCLGdCQUFNQyxTOzs7QUFpRmpDdEIsYUFBYXVCLFlBQWIsR0FBNEI7QUFDMUJKLFFBQU0sNEJBQWtCSSxZQUFsQixDQUErQkosSUFEWDtBQUUxQkssZUFBYSw4QkFBb0JELFlBQXBCLENBQWlDQyxXQUZwQjtBQUcxQmIsYUFBVyw0QkFBa0JZLFlBQWxCLENBQStCWixTQUhoQjtBQUkxQmMsZUFBYSw4QkFBb0JGLFlBQXBCLENBQWlDRSxXQUpwQjtBQUsxQkMsV0FBUyw4QkFBb0JILFlBQXBCLENBQWlDRyxPQUxoQjtBQU0xQkwsU0FBTyw0QkFBa0JFLFlBQWxCLENBQStCRjtBQU5aLENBQTVCOztBQVNBckIsYUFBYTJCLFNBQWIsR0FBeUI7QUFDdkJYLFdBQVMsOEJBQW9CVyxTQUFwQixDQUE4QlgsT0FEaEI7QUFFdkJDLFVBQVEsNEJBQWtCVSxTQUFsQixDQUE0QlYsTUFGYjtBQUd2QkMsVUFBUSw0QkFBa0JTLFNBQWxCLENBQTRCVCxNQUhiO0FBSXZCQyxRQUFNLDRCQUFrQlEsU0FBbEIsQ0FBNEJSLElBSlg7QUFLdkJSLGFBQVcsNEJBQWtCZ0IsU0FBbEIsQ0FBNEJoQixTQUxoQjtBQU12QmlCLFdBQVMsOEJBQW9CRCxTQUFwQixDQUE4QkMsT0FOaEI7QUFPdkJSLFNBQU8sOEJBQW9CTyxTQUFwQixDQUE4QlAsS0FQZDtBQVF2Qk0sV0FBUyw4QkFBb0JDLFNBQXBCLENBQThCRCxPQVJoQjtBQVN2QkwsU0FBTyw0QkFBa0JNLFNBQWxCLENBQTRCTjtBQVRaLENBQXpCOztlQVllckIsWTs7Ozs7Ozs7O2dDQXRHVEEsWSIsImZpbGUiOiJUb3VyUG9pbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBhdXRvYmluZCB9IGZyb20gJy4uL2Jhc2UvQmFzZSc7XG5pbXBvcnQgVG91clBvaW50Q29udHJvbGxlZCBmcm9tICcuL1RvdXJQb2ludENvbnRyb2xsZWQnO1xuaW1wb3J0IFRvdXJQb2ludFRhcmdldEJhc2UgZnJvbSAnLi9fVG91clBvaW50VGFyZ2V0QmFzZSc7XG5pbXBvcnQgVG91ckNhcmRDb250YWluZXIgZnJvbSAnLi4vY29udGFpbmVycy9fVG91ckNhcmRDb250YWluZXInO1xuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4rLVRvdXJQb2ludC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCArLVRvdXJQb2ludENvbnRyb2xsZWQtLS0tLS0tLS0tKyB8XG58IHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IHxcbnwgfCArLS1Ub3VyUG9pbnRUYXJnZXRCYXNlLS0tLS0rIHwgfFxufCB8IHwgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCB8XG58IHwgfCArLVRldGhlcmVkUG9wb3ZlclRhcmdldCsgfCB8IHwgICAgICstbmV3IFRldGhlcigpLS0tLS0tK1xufCB8IHwgfCAgICAgICAgICAgICAgICAgICAgICB8IHwgfCB8ICAgICB8ICAgICAgICAgICAgICAgICAgIHxcbnwgfCB8IHwgICstSGludERvdC0tLS0tLS0tKyAgfCB8IHwgfCAgICAgfCAgICAgICAgICAgICAgICAgICB8XG58IHwgfCB8ICB8ICAgICAgICAgICAgICAgIHwgIHwgfCB8IHwgICAgIHwgICstVG91ckNhcmQtLS0tLSsgfFxufCB8IHwgfCAgfCAgICAgICAgICAgICAgICB8ICB8IHwgfCB8ICAgICB8ICB8ICAgICAgICAgICAgICB8IHxcbnwgfCB8IHwgIHwgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tKyAgfCAgICAgICAgICAgICAgfCB8XG58IHwgfCB8ICB8ICAgICAgICAgICAgICAgIHwgIHwgfCB8IHwgICAgIHwgIHwgICAgICAgICAgICAgIHwgfFxufCB8IHwgfCAgKy0tLS0tLS0tLS0tLS0tLS0rICB8IHwgfCB8ICAgICB8ICB8ICAgICAgICAgICAgICB8IHxcbnwgfCB8IHwgICAgICAgICAgICAgICAgICAgICAgfCB8IHwgfCAgICAgfCAgfCAgICAgICAgICAgICAgfCB8XG58IHwgfCB8ICAgICAgICAgICAgICAgICAgICAgIHwgfCB8IHwgICAgIHwgIHwgICAgICAgICAgICAgIHwgfFxufCB8IHwgfCAgICAgICAgICAgICAgICAgICAgICB8IHwgfCB8ICAgICB8ICB8ICAgICAgICAgICAgICB8IHxcbnwgfCB8IHwgICAgICAgICAgICAgICAgICAgICAgfCB8IHwgfCAgICAgfCAgfCAgICAgICAgICAgICAgfCB8XG58IHwgfCB8ICAgICAgICAgICAgICAgICAgICAgIHwgfCB8IHwgICAgIHwgICstLS0tLS0tLS0tLS0tLSsgfFxufCB8IHwgfCAgICAgICAgICAgICAgICAgICAgICB8IHwgfCB8ICAgICB8ICAgICAgICAgICAgICAgICAgIHxcbnwgfCB8IHwgICAgICAgICAgICAgICAgICAgICAgfCB8IHwgfCAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0rXG58IHwgfCB8ICAgICAgICAgICAgICAgICAgICAgIHwgfCB8IHxcbnwgfCB8ICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8IHwgfFxufCB8IHwgICAgICAgICAgICAgICAgICAgICAgICAgIHwgfCB8XG58IHwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyB8IHxcbnwgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgfFxufCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcblxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5jbGFzcyBUeGxUb3VyUG9pbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgc3VwZXIoLi4uYXJncyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHB1bHNpbmdTdGF0ZTogdHJ1ZSxcbiAgICAgIHZpc2libGVTdGF0ZTogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlQ2xpY2soZSkge1xuICAgIC8vIFRoaXMgaXMgYSBzdHJhdGVneSB0byBlbnN1cmUgdGhhdCB3aGVuIHRoZSBIaW50RG90IGlzIGNsaWNrZWQsIGl0cyB0cmVhdGVkXG4gICAgLy8gYXMgYW4gXCJhd2F5Q2xpY2tcIiB3aGVuIHRoZSBUb3VyQ2FyZENvbnRhaW5lciBpcyBzaG93aW5nLiBPdGhlcndpc2UgdGhlIGNvbnRlbnQgd2lsbCBnb1xuICAgIC8vIGZyb20gb2ZmIHRvIG9uIGluIGFuIGluc3RhbnQuXG4gICAgaWYgKHRoaXMuX2xhc3RBd2F5Q2xpY2tUaW1lU3RhbXAgIT09IGUudGltZVN0YW1wKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcHVsc2luZ1N0YXRlOiB0aGlzLnN0YXRlLnZpc2libGVTdGF0ZSxcbiAgICAgICAgdmlzaWJsZVN0YXRlOiAhdGhpcy5zdGF0ZS52aXNpYmxlU3RhdGUsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hpZGVDb250ZW50KCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlU3RhdGU6IGZhbHNlIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVEaXNtaXNzKCkge1xuICAgIHRoaXMuX2hpZGVDb250ZW50KCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBwdWxzaW5nU3RhdGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIHRoaXMucHJvcHMub25EaXNtaXNzLmFwcGx5KHRoaXMsIFt7fV0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVBd2F5Q2xpY2soZSkge1xuICAgIHRoaXMuX2xhc3RBd2F5Q2xpY2tUaW1lU3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICB0aGlzLl9oaWRlQ29udGVudCgpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcHVsc2luZ1N0YXRlOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIF9oYW5kbGVBd2F5Q2xpY2ssXG4gICAgICBfaGFuZGxlQ2xpY2ssXG4gICAgICBfaGFuZGxlRGlzbWlzcyxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGZvb3RlcixcbiAgICAgICAgaGVhZGVyLFxuICAgICAgICBpY29uLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2lkdGgsXG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgdmlzaWJsZVN0YXRlLFxuICAgICAgICBwdWxzaW5nU3RhdGUsXG4gICAgICB9LFxuICAgIH0gPSB0aGlzO1xuICAgIHJldHVybiAoXG4gICAgICA8VG91clBvaW50Q29udHJvbGxlZFxuICAgICAgICBjb250ZW50PXtjb250ZW50fVxuICAgICAgICBmb290ZXI9e2Zvb3Rlcn1cbiAgICAgICAgaGVhZGVyPXtoZWFkZXJ9XG4gICAgICAgIGljb249e2ljb259XG4gICAgICAgIG9uQXdheUNsaWNrPXtfaGFuZGxlQXdheUNsaWNrfVxuICAgICAgICBvbkRpc21pc3M9e19oYW5kbGVEaXNtaXNzfVxuICAgICAgICBvbkhpbnRDbGljaz17X2hhbmRsZUNsaWNrfVxuICAgICAgICBwdWxzaW5nPXtwdWxzaW5nU3RhdGV9XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgICAgdmlzaWJsZT17dmlzaWJsZVN0YXRlfVxuICAgICAgICB3aWR0aD17d2lkdGh9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cblxuVHhsVG91clBvaW50LmRlZmF1bHRQcm9wcyA9IHtcbiAgaWNvbjogVG91ckNhcmRDb250YWluZXIuZGVmYXVsdFByb3BzLmljb24sXG4gIG9uQXdheUNsaWNrOiBUb3VyUG9pbnRUYXJnZXRCYXNlLmRlZmF1bHRQcm9wcy5vbkF3YXlDbGljayxcbiAgb25EaXNtaXNzOiBUb3VyQ2FyZENvbnRhaW5lci5kZWZhdWx0UHJvcHMub25EaXNtaXNzLFxuICBvbkhpbnRDbGljazogVG91clBvaW50VGFyZ2V0QmFzZS5kZWZhdWx0UHJvcHMub25IaW50Q2xpY2ssXG4gIHZpc2libGU6IFRvdXJQb2ludFRhcmdldEJhc2UuZGVmYXVsdFByb3BzLnZpc2libGUsXG4gIHdpZHRoOiBUb3VyQ2FyZENvbnRhaW5lci5kZWZhdWx0UHJvcHMud2lkdGgsXG59O1xuXG5UeGxUb3VyUG9pbnQucHJvcFR5cGVzID0ge1xuICBjb250ZW50OiBUb3VyUG9pbnRUYXJnZXRCYXNlLnByb3BUeXBlcy5jb250ZW50LFxuICBmb290ZXI6IFRvdXJDYXJkQ29udGFpbmVyLnByb3BUeXBlcy5mb290ZXIsXG4gIGhlYWRlcjogVG91ckNhcmRDb250YWluZXIucHJvcFR5cGVzLmhlYWRlcixcbiAgaWNvbjogVG91ckNhcmRDb250YWluZXIucHJvcFR5cGVzLmljb24sXG4gIG9uRGlzbWlzczogVG91ckNhcmRDb250YWluZXIucHJvcFR5cGVzLm9uRGlzbWlzcyxcbiAgcHVsc2luZzogVG91clBvaW50VGFyZ2V0QmFzZS5wcm9wVHlwZXMucHVsc2luZyxcbiAgc3R5bGU6IFRvdXJQb2ludFRhcmdldEJhc2UucHJvcFR5cGVzLnN0eWxlLFxuICB2aXNpYmxlOiBUb3VyUG9pbnRUYXJnZXRCYXNlLnByb3BUeXBlcy52aXNpYmxlLFxuICB3aWR0aDogVG91ckNhcmRDb250YWluZXIucHJvcFR5cGVzLndpZHRoLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHhsVG91clBvaW50O1xuIl19