'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _ReactUtils = require('../ReactUtils');

var _Base = require('../base/Base');

var _InputFieldBase = require('./_InputFieldBase');

var _InputFieldBase2 = _interopRequireDefault(_InputFieldBase);

var _InputFieldsPropTypes = require('./_InputFieldsPropTypes');

var _helpers = require('../styles/helpers');

var _type = require('../styles/mixins/type');

var _transitions = require('../styles/mixins/transitions');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var BOTTOM_BORDER_WIDTH = '1px';

var DISABLED_INPUT_STYLES = {
  color: 'initial',
  cursor: 'not-allowed'
};

var WRAPPER_STYLES = (0, _extends3.default)({}, _type.DEFAULT_FONT_FAMILY);

var TEXTAREA_CONTAINER_STYLES = {
  flexGrow: 1,
  lineHeight: 0,
  minHeight: (0, _helpers.gridUnits)(7),
  position: 'relative'
};

var INPUT_STYLES = (0, _extends3.default)({}, _type.DEFAULT_FONT_FAMILY, _type.TYPE_BASE, {
  backgroundColor: 'transparent',
  border: 'none',
  boxSizing: 'border-box',
  flexBasis: '100%',
  flexGrow: 1,
  height: (0, _helpers.gridUnits)(7),
  lineHeight: (0, _helpers.gridUnits)(7),
  margin: '0 0 -' + BOTTOM_BORDER_WIDTH + ' 0',
  minWidth: 0, // for MS Edge
  outline: 'none',
  overflow: 'hidden',
  padding: 0,
  textIndent: 0
});

// @TODO: Fix padding to use a calculation instead of magic number
var MULTILINE_INPUT_STYLES = (0, _extends3.default)({}, INPUT_STYLES, _transitions.HEIGHT_TRANSITION, {
  lineHeight: (0, _helpers.gridUnits)(4),
  padding: '7.5px 0', // Simulate 35px line height at 20px line height
  resize: 'none',
  width: '100%'
});

var HIDDEN_MULTILINE_STYLES = (0, _extends3.default)({}, MULTILINE_INPUT_STYLES, {
  left: 0,
  opacity: 0,
  position: 'absolute',
  zIndex: -100
});

var TxlTextField = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlTextField, _React$Component);

  function TxlTextField() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlTextField);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlTextField.__proto__ || (0, _getPrototypeOf2.default)(TxlTextField)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      focused: false,
      multiLineHeight: (0, _helpers.gridUnits)(7) };
    return _this;
  }

  (0, _createClass3.default)(TxlTextField, [{
    key: 'select',
    value: function select() {
      (0, _ReactUtils.findDOMNode)(this.refs.input).select();
    }
  }, {
    key: 'focus',
    value: function focus() {
      (0, _ReactUtils.findDOMNode)(this.refs.input).focus();
    }
  }, {
    key: 'blur',
    value: function blur() {
      (0, _ReactUtils.findDOMNode)(this.refs.input).blur();
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.multiLine) {
        this._resizeMultiLineInput();
      }
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps) {
      if (prevProps.multiLine && this.props.value !== prevProps.value) {
        this._resizeMultiLineInput();
      }
    }
  }, {
    key: '_handleChange',
    value: function _handleChange(e) {
      this.props.onChange({
        value: e.target.value
      });
    }
  }, {
    key: '_handleFocus',
    value: function _handleFocus(e) {
      this.setState({ focused: true });
      this.props.onFocus({
        value: e.target.value
      });
    }
  }, {
    key: '_handleKeyPress',
    value: function _handleKeyPress(e) {
      var altKey = e.altKey,
          ctrlKey = e.ctrlKey,
          charCode = e.charCode,
          key = e.key,
          metaKey = e.metaKey,
          repeat = e.repeat,
          shiftKey = e.shiftKey;

      this.props.onKeyPress({
        altKey: altKey,
        charCode: charCode,
        ctrlKey: ctrlKey,
        key: key,
        metaKey: metaKey,
        repeat: repeat,
        shiftKey: shiftKey
      });
    }
  }, {
    key: '_handleBlur',
    value: function _handleBlur(e) {
      this.props.onBlur({
        value: e.target.value
      });
      this.setState({ focused: false });
    }
  }, {
    key: '_resizeMultiLineInput',
    value: function _resizeMultiLineInput() {
      // @TODO: Find a way to listen for and respond to resize
      // events on our hidden element instead of reading the
      // scrollHeight every time (which triggers a reflow):-(
      var inputHeight = (0, _ReactUtils.findDOMNode)(this.refs.multiLineSizer).scrollHeight;

      this.setState({
        multiLineHeight: inputHeight + 'px'
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var focused = this.state.focused && !this.props.readOnly;

      var _props = this.props,
          _afterContent = _props._afterContent,
          _beforeContent = _props._beforeContent,
          label = _props.label,
          validationState = _props.validationState,
          multiLine = _props.multiLine,
          type = _props.type,
          value = _props.value,
          secondaryText = _props.secondaryText,
          disabled = _props.disabled,
          readOnly = _props.readOnly,
          required = _props.required,
          textAlign = _props.textAlign,
          otherProps = (0, _objectWithoutProperties3.default)(_props, ['_afterContent', '_beforeContent', 'label', 'validationState', 'multiLine', 'type', 'value', 'secondaryText', 'disabled', 'readOnly', 'required', 'textAlign']);


      var multiLineInputStyles = (0, _extends3.default)({}, MULTILINE_INPUT_STYLES, {
        height: this.state.multiLineHeight
      });

      var inputStyles = (0, _helpers.combineStyles)(multiLine ? multiLineInputStyles : INPUT_STYLES, disabled && DISABLED_INPUT_STYLES, textAlign && { textAlign: textAlign });

      var inputElement = void 0;

      var sharedProps = (0, _extends3.default)({}, otherProps, {
        disabled: disabled,
        onBlur: this._handleBlur,
        onChange: this._handleChange,
        onFocus: this._handleFocus,
        onKeyPress: this._handleKeyPress,
        readOnly: readOnly,
        ref: 'input',
        required: required,
        style: inputStyles,
        value: value
      });

      if (multiLine) {
        inputElement = _react2.default.createElement(
          'div',
          { style: TEXTAREA_CONTAINER_STYLES },
          _react2.default.createElement('textarea', sharedProps),
          _react2.default.createElement('textarea', {
            disabled: disabled,
            readOnly: readOnly,
            ref: 'multiLineSizer',
            style: HIDDEN_MULTILINE_STYLES,
            tabIndex: '-1',
            value: value
          })
        );
      } else {
        inputElement = _react2.default.createElement('input', (0, _extends3.default)({}, sharedProps, {
          required: required,
          type: type
        }));
      }

      return _react2.default.createElement(
        _InputFieldBase2.default,
        {
          'data-component': 'TxlTextField',
          _afterContent: _afterContent,
          _beforeContent: _beforeContent,
          disabled: disabled,
          focused: focused,
          label: label,
          readOnly: readOnly,
          required: required,
          secondaryText: secondaryText,
          style: WRAPPER_STYLES,
          validationState: validationState
        },
        inputElement
      );
    }
  }]);
  return TxlTextField;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, 'select', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'select'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'focus', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'focus'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'blur', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'blur'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'componentDidMount', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'componentDidMount'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'componentDidUpdate', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'componentDidUpdate'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleChange', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleChange'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleFocus', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleFocus'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleKeyPress', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleKeyPress'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleBlur', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleBlur'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_resizeMultiLineInput', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_resizeMultiLineInput'), _class2.prototype)), _class2)) || _class;

exports.default = TxlTextField;


TxlTextField.defaultProps = {
  disabled: false,
  onBlur: _Base.NOOP,
  onChange: _Base.NOOP,
  onFocus: _Base.NOOP,
  onKeyPress: _Base.NOOP,
  placeholder: 'Enter a value',
  readOnly: false,
  required: false,
  tabIndex: 0,
  type: 'text',
  validationState: 'base',
  value: ''
};

TxlTextField.propTypes = {
  _afterContent: _react.PropTypes.node,
  _beforeContent: _react.PropTypes.node,
  disabled: _react.PropTypes.bool,
  id: _react.PropTypes.string,
  label: _InputFieldBase2.default.propTypes.label,
  multiLine: _react.PropTypes.bool,
  onBlur: _react.PropTypes.func,
  onChange: _react.PropTypes.func.isRequired,
  onFocus: _react.PropTypes.func,
  onKeyPress: _react.PropTypes.func,
  placeholder: _react.PropTypes.string,
  readOnly: _react.PropTypes.bool,
  required: _react.PropTypes.bool,
  secondaryText: _react.PropTypes.node,
  tabIndex: _react.PropTypes.number,
  textAlign: _react.PropTypes.oneOf(['left', 'right', 'center', 'justify', 'start', 'end']),
  type: _react.PropTypes.oneOf(['email', 'number', 'password', 'search', 'tel', 'text']),
  validationState: _InputFieldsPropTypes.validationStateType,
  value: _react.PropTypes.string
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(BOTTOM_BORDER_WIDTH, 'BOTTOM_BORDER_WIDTH', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(DISABLED_INPUT_STYLES, 'DISABLED_INPUT_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(WRAPPER_STYLES, 'WRAPPER_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(TEXTAREA_CONTAINER_STYLES, 'TEXTAREA_CONTAINER_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(INPUT_STYLES, 'INPUT_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(MULTILINE_INPUT_STYLES, 'MULTILINE_INPUT_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(HIDDEN_MULTILINE_STYLES, 'HIDDEN_MULTILINE_STYLES', 'src/input-fields/TextField.jsx');

  __REACT_HOT_LOADER__.register(TxlTextField, 'TxlTextField', 'src/input-fields/TextField.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvVGV4dEZpZWxkLmpzeCJdLCJuYW1lcyI6WyJCT1RUT01fQk9SREVSX1dJRFRIIiwiRElTQUJMRURfSU5QVVRfU1RZTEVTIiwiY29sb3IiLCJjdXJzb3IiLCJXUkFQUEVSX1NUWUxFUyIsIlRFWFRBUkVBX0NPTlRBSU5FUl9TVFlMRVMiLCJmbGV4R3JvdyIsImxpbmVIZWlnaHQiLCJtaW5IZWlnaHQiLCJwb3NpdGlvbiIsIklOUFVUX1NUWUxFUyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlciIsImJveFNpemluZyIsImZsZXhCYXNpcyIsImhlaWdodCIsIm1hcmdpbiIsIm1pbldpZHRoIiwib3V0bGluZSIsIm92ZXJmbG93IiwicGFkZGluZyIsInRleHRJbmRlbnQiLCJNVUxUSUxJTkVfSU5QVVRfU1RZTEVTIiwicmVzaXplIiwid2lkdGgiLCJISURERU5fTVVMVElMSU5FX1NUWUxFUyIsImxlZnQiLCJvcGFjaXR5IiwiekluZGV4IiwiVHhsVGV4dEZpZWxkIiwiYXJncyIsInN0YXRlIiwiZm9jdXNlZCIsIm11bHRpTGluZUhlaWdodCIsInJlZnMiLCJpbnB1dCIsInNlbGVjdCIsImZvY3VzIiwiYmx1ciIsInByb3BzIiwibXVsdGlMaW5lIiwiX3Jlc2l6ZU11bHRpTGluZUlucHV0IiwicHJldlByb3BzIiwidmFsdWUiLCJlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJzZXRTdGF0ZSIsIm9uRm9jdXMiLCJhbHRLZXkiLCJjdHJsS2V5IiwiY2hhckNvZGUiLCJrZXkiLCJtZXRhS2V5IiwicmVwZWF0Iiwic2hpZnRLZXkiLCJvbktleVByZXNzIiwib25CbHVyIiwiaW5wdXRIZWlnaHQiLCJtdWx0aUxpbmVTaXplciIsInNjcm9sbEhlaWdodCIsInJlYWRPbmx5IiwiX2FmdGVyQ29udGVudCIsIl9iZWZvcmVDb250ZW50IiwibGFiZWwiLCJ2YWxpZGF0aW9uU3RhdGUiLCJ0eXBlIiwic2Vjb25kYXJ5VGV4dCIsImRpc2FibGVkIiwicmVxdWlyZWQiLCJ0ZXh0QWxpZ24iLCJvdGhlclByb3BzIiwibXVsdGlMaW5lSW5wdXRTdHlsZXMiLCJpbnB1dFN0eWxlcyIsImlucHV0RWxlbWVudCIsInNoYXJlZFByb3BzIiwiX2hhbmRsZUJsdXIiLCJfaGFuZGxlQ2hhbmdlIiwiX2hhbmRsZUZvY3VzIiwiX2hhbmRsZUtleVByZXNzIiwicmVmIiwic3R5bGUiLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJwbGFjZWhvbGRlciIsInRhYkluZGV4IiwicHJvcFR5cGVzIiwibm9kZSIsImJvb2wiLCJpZCIsInN0cmluZyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwibnVtYmVyIiwib25lT2YiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOztBQUNBOztBQUNBOzs7O0FBQ0E7O0FBQ0E7O0FBSUE7O0FBSUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBLElBQU1BLHNCQUFzQixLQUE1Qjs7QUFFQSxJQUFNQyx3QkFBd0I7QUFDNUJDLFNBQU8sU0FEcUI7QUFFNUJDLFVBQVE7QUFGb0IsQ0FBOUI7O0FBS0EsSUFBTUMsc0VBQU47O0FBSUEsSUFBTUMsNEJBQTRCO0FBQ2hDQyxZQUFVLENBRHNCO0FBRWhDQyxjQUFZLENBRm9CO0FBR2hDQyxhQUFXLHdCQUFHLENBQUgsQ0FIcUI7QUFJaENDLFlBQVU7QUFKc0IsQ0FBbEM7O0FBT0EsSUFBTUM7QUFRSkMsbUJBQWlCLGFBUmI7QUFTSkMsVUFBUSxNQVRKO0FBVUpDLGFBQVcsWUFWUDtBQVdKQyxhQUFXLE1BWFA7QUFZSlIsWUFBVSxDQVpOO0FBYUpTLFVBQVEsd0JBQUcsQ0FBSCxDQWJKO0FBY0pSLGNBQVksd0JBQUcsQ0FBSCxDQWRSO0FBZUpTLG9CQUFnQmhCLG1CQUFoQixPQWZJO0FBZ0JKaUIsWUFBVSxDQWhCTixFQWdCUztBQUNiQyxXQUFTLE1BakJMO0FBa0JKQyxZQUFVLFFB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aUJBQVVnRCxJQU5FO0FBT3ZCL0IsVUFBUSxpQkFBVWtDLElBUEs7QUFRdkI5QyxZQUFVLGlCQUFVOEMsSUFBVixDQUFlQyxVQVJGO0FBU3ZCNUMsV0FBUyxpQkFBVTJDLElBVEk7QUFVdkJuQyxjQUFZLGlCQUFVbUMsSUFWQztBQVd2QlAsZUFBYSxpQkFBVU0sTUFYQTtBQVl2QjdCLFlBQVUsaUJBQVUyQixJQVpHO0FBYXZCbkIsWUFBVSxpQkFBVW1CLElBYkc7QUFjdkJyQixpQkFBZSxpQkFBVW9CLElBZEY7QUFldkJGLFlBQVUsaUJBQVVRLE1BZkc7QUFnQnZCdkIsYUFBVyxpQkFBVXdCLEtBQVYsQ0FBZ0IsQ0FBQyxNQUFELEVBQVMsT0FBVCxFQUFrQixRQUFsQixFQUE0QixTQUE1QixFQUF1QyxPQUF2QyxFQUFnRCxLQUFoRCxDQUFoQixDQWhCWTtBQWlCdkI1QixRQUFNLGlCQUFVNEIsS0FBVixDQUFnQixDQUNwQixPQURvQixFQUVwQixRQUZvQixFQUdwQixVQUhvQixFQUlwQixRQUpvQixFQUtwQixLQUxvQixFQU1wQixNQU5vQixDQUFoQixDQWpCaUI7QUF5QnZCN0IsNERBekJ1QjtBQTBCdkJ0QixTQUFPLGlCQUFVK0M7QUExQk0sQ0FBekI7Ozs7Ozs7O2dDQXZRTTFGLG1COztnQ0FFQUMscUI7O2dDQUtBRyxjOztnQ0FJQUMseUI7O2dDQU9BSyxZOztnQ0F3QkFZLHNCOztnQ0FTQUcsdUI7O2dDQVNlSSxZIiwiZmlsZSI6IlRleHRGaWVsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmFkaXVtIGZyb20gJ3JhZGl1bSc7XG5cbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAnLi4vUmVhY3RVdGlscyc7XG5pbXBvcnQgeyBhdXRvYmluZCwgTk9PUCB9IGZyb20gJy4uL2Jhc2UvQmFzZSc7XG5pbXBvcnQgSW5wdXRGaWVsZEJhc2UgZnJvbSAnLi9fSW5wdXRGaWVsZEJhc2UnO1xuaW1wb3J0IHsgdmFsaWRhdGlvblN0YXRlVHlwZSB9IGZyb20gJy4vX0lucHV0RmllbGRzUHJvcFR5cGVzJztcbmltcG9ydCB7XG4gIGdyaWRVbml0cyBhcyBndSxcbiAgY29tYmluZVN0eWxlcyxcbn0gZnJvbSAnLi4vc3R5bGVzL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgREVGQVVMVF9GT05UX0ZBTUlMWSxcbiAgVFlQRV9CQVNFLFxufSBmcm9tICcuLi9zdHlsZXMvbWl4aW5zL3R5cGUnO1xuaW1wb3J0IHtcbiAgSEVJR0hUX1RSQU5TSVRJT04sXG59IGZyb20gJy4uL3N0eWxlcy9taXhpbnMvdHJhbnNpdGlvbnMnO1xuXG5jb25zdCBCT1RUT01fQk9SREVSX1dJRFRIID0gJzFweCc7XG5cbmNvbnN0IERJU0FCTEVEX0lOUFVUX1NUWUxFUyA9IHtcbiAgY29sb3I6ICdpbml0aWFsJyxcbiAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxufTtcblxuY29uc3QgV1JBUFBFUl9TVFlMRVMgPSB7XG4gIC4uLkRFRkFVTFRfRk9OVF9GQU1JTFksXG59O1xuXG5jb25zdCBURVhUQVJFQV9DT05UQUlORVJfU1RZTEVTID0ge1xuICBmbGV4R3JvdzogMSxcbiAgbGluZUhlaWdodDogMCxcbiAgbWluSGVpZ2h0OiBndSg3KSxcbiAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG59O1xuXG5jb25zdCBJTlBVVF9TVFlMRVMgPSB7XG4gIC8qXG4gICAqIFRoaXMgaXMgcmVkdW5kYW50LCBzaW5jZSBkZWZhdWx0IGZvbnQgZmFtaWx5IGlzIHNwZWNpZmllZCBvbiB0aGUgcGFyZW50IGNvbnRhaW5lcixcbiAgICogYnV0IGZvciBzb21lIHJlYXNvbiBpdCBkb2Vzbid0IHByb3BhZ2F0ZSB0byB0ZXh0YXJlYSBlbGVtZW50OyB0aGUgZGVmYXVsdCBmb250IGlzIHVzZWQsXG4gICAqIGFuZCBpbiBGaXJlZm94IGl0J3MgbW9ub3NwYWNlIC0gZWVlayFcbiAgICovXG4gIC4uLkRFRkFVTFRfRk9OVF9GQU1JTFksXG4gIC4uLlRZUEVfQkFTRSxcbiAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICBib3JkZXI6ICdub25lJyxcbiAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gIGZsZXhCYXNpczogJzEwMCUnLFxuICBmbGV4R3JvdzogMSxcbiAgaGVpZ2h0OiBndSg3KSxcbiAgbGluZUhlaWdodDogZ3UoNyksXG4gIG1hcmdpbjogYDAgMCAtJHtCT1RUT01fQk9SREVSX1dJRFRIfSAwYCxcbiAgbWluV2lkdGg6IDAsIC8vIGZvciBNUyBFZGdlXG4gIG91dGxpbmU6ICdub25lJyxcbiAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICBwYWRkaW5nOiAwLFxuICB0ZXh0SW5kZW50OiAwLFxufTtcblxuLy8gQFRPRE86IEZpeCBwYWRkaW5nIHRvIHVzZSBhIGNhbGN1bGF0aW9uIGluc3RlYWQgb2YgbWFnaWMgbnVtYmVyXG5jb25zdCBNVUxUSUxJTkVfSU5QVVRfU1RZTEVTID0ge1xuICAuLi5JTlBVVF9TVFlMRVMsXG4gIC4uLkhFSUdIVF9UUkFOU0lUSU9OLFxuICBsaW5lSGVpZ2h0OiBndSg0KSxcbiAgcGFkZGluZzogJzcuNXB4IDAnLCAvLyBTaW11bGF0ZSAzNXB4IGxpbmUgaGVpZ2h0IGF0IDIwcHggbGluZSBoZWlnaHRcbiAgcmVzaXplOiAnbm9uZScsXG4gIHdpZHRoOiAnMTAwJScsXG59O1xuXG5jb25zdCBISURERU5fTVVMVElMSU5FX1NUWUxFUyA9IHtcbiAgLi4uTVVMVElMSU5FX0lOUFVUX1NUWUxFUyxcbiAgbGVmdDogMCxcbiAgb3BhY2l0eTogMCxcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHpJbmRleDogLTEwMCxcbn07XG5cbkBSYWRpdW1cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR4bFRleHRGaWVsZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIG11bHRpTGluZUhlaWdodDogZ3UoNyksIC8vIEBUT0RPOiBJbnB1dCBoZWlnaHRzIGF2YWlsYWJsZSBnbG9iYWxseVxuICAgIH07XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2VsZWN0KCkge1xuICAgIGZpbmRET01Ob2RlKHRoaXMucmVmcy5pbnB1dCkuc2VsZWN0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgZm9jdXMoKSB7XG4gICAgZmluZERPTU5vZGUodGhpcy5yZWZzLmlucHV0KS5mb2N1cygpO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIGJsdXIoKSB7XG4gICAgZmluZERPTU5vZGUodGhpcy5yZWZzLmlucHV0KS5ibHVyKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMubXVsdGlMaW5lKSB7XG4gICAgICB0aGlzLl9yZXNpemVNdWx0aUxpbmVJbnB1dCgpO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5tdWx0aUxpbmUgJiYgdGhpcy5wcm9wcy52YWx1ZSAhPT0gcHJldlByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLl9yZXNpemVNdWx0aUxpbmVJbnB1dCgpO1xuICAgIH1cbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlQ2hhbmdlKGUpIHtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIHZhbHVlOiBlLnRhcmdldC52YWx1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlRm9jdXMoZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkOiB0cnVlIH0pO1xuICAgIHRoaXMucHJvcHMub25Gb2N1cyh7XG4gICAgICB2YWx1ZTogZS50YXJnZXQudmFsdWUsXG4gICAgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUtleVByZXNzKGUpIHtcbiAgICBjb25zdCB7XG4gICAgICBhbHRLZXksXG4gICAgICBjdHJsS2V5LFxuICAgICAgY2hhckNvZGUsXG4gICAgICBrZXksXG4gICAgICBtZXRhS2V5LFxuICAgICAgcmVwZWF0LFxuICAgICAgc2hpZnRLZXksXG4gICAgfSA9IGU7XG4gICAgdGhpcy5wcm9wcy5vbktleVByZXNzKHtcbiAgICAgIGFsdEtleSxcbiAgICAgIGNoYXJDb2RlLFxuICAgICAgY3RybEtleSxcbiAgICAgIGtleSxcbiAgICAgIG1ldGFLZXksXG4gICAgICByZXBlYXQsXG4gICAgICBzaGlmdEtleSxcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlQmx1cihlKSB7XG4gICAgdGhpcy5wcm9wcy5vbkJsdXIoe1xuICAgICAgdmFsdWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkOiBmYWxzZSB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfcmVzaXplTXVsdGlMaW5lSW5wdXQoKSB7XG4gICAgLy8gQFRPRE86IEZpbmQgYSB3YXkgdG8gbGlzdGVuIGZvciBhbmQgcmVzcG9uZCB0byByZXNpemVcbiAgICAvLyBldmVudHMgb24gb3VyIGhpZGRlbiBlbGVtZW50IGluc3RlYWQgb2YgcmVhZGluZyB0aGVcbiAgICAvLyBzY3JvbGxIZWlnaHQgZXZlcnkgdGltZSAod2hpY2ggdHJpZ2dlcnMgYSByZWZsb3cpOi0oXG4gICAgY29uc3QgaW5wdXRIZWlnaHQgPSBmaW5kRE9NTm9kZSh0aGlzLnJlZnMubXVsdGlMaW5lU2l6ZXIpLnNjcm9sbEhlaWdodDtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbXVsdGlMaW5lSGVpZ2h0OiBgJHtpbnB1dEhlaWdodH1weGAsXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgZm9jdXNlZCA9IHRoaXMuc3RhdGUuZm9jdXNlZCAmJiAhdGhpcy5wcm9wcy5yZWFkT25seTtcblxuICAgIGNvbnN0IHtcbiAgICAgIF9hZnRlckNvbnRlbnQsXG4gICAgICBfYmVmb3JlQ29udGVudCxcbiAgICAgIGxhYmVsLFxuICAgICAgdmFsaWRhdGlvblN0YXRlLFxuICAgICAgbXVsdGlMaW5lLFxuICAgICAgdHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgc2Vjb25kYXJ5VGV4dCxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgcmVhZE9ubHksXG4gICAgICByZXF1aXJlZCxcbiAgICAgIHRleHRBbGlnbixcbiAgICAgIC4uLm90aGVyUHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IG11bHRpTGluZUlucHV0U3R5bGVzID0ge1xuICAgICAgLi4uTVVMVElMSU5FX0lOUFVUX1NUWUxFUyxcbiAgICAgIGhlaWdodDogdGhpcy5zdGF0ZS5tdWx0aUxpbmVIZWlnaHQsXG4gICAgfTtcblxuICAgIGNvbnN0IGlucHV0U3R5bGVzID0gY29tYmluZVN0eWxlcyhcbiAgICAgIG11bHRpTGluZSA/IG11bHRpTGluZUlucHV0U3R5bGVzIDogSU5QVVRfU1RZTEVTLFxuICAgICAgZGlzYWJsZWQgJiYgRElTQUJMRURfSU5QVVRfU1RZTEVTLFxuICAgICAgdGV4dEFsaWduICYmIHsgdGV4dEFsaWduIH1cbiAgICApO1xuXG4gICAgbGV0IGlucHV0RWxlbWVudDtcblxuICAgIGNvbnN0IHNoYXJlZFByb3BzID0ge1xuICAgICAgLi4ub3RoZXJQcm9wcyxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgb25CbHVyOiB0aGlzLl9oYW5kbGVCbHVyLFxuICAgICAgb25DaGFuZ2U6IHRoaXMuX2hhbmRsZUNoYW5nZSxcbiAgICAgIG9uRm9jdXM6IHRoaXMuX2hhbmRsZUZvY3VzLFxuICAgICAgb25LZXlQcmVzczogdGhpcy5faGFuZGxlS2V5UHJlc3MsXG4gICAgICByZWFkT25seSxcbiAgICAgIHJlZjogJ2lucHV0JyxcbiAgICAgIHJlcXVpcmVkLFxuICAgICAgc3R5bGU6IGlucHV0U3R5bGVzLFxuICAgICAgdmFsdWUsXG4gICAgfTtcblxuICAgIGlmIChtdWx0aUxpbmUpIHtcbiAgICAgIGlucHV0RWxlbWVudCA9IChcbiAgICAgICAgPGRpdiBzdHlsZT17VEVYVEFSRUFfQ09OVEFJTkVSX1NUWUxFU30+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB7Li4uc2hhcmVkUHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICAgIHJlYWRPbmx5PXtyZWFkT25seX1cbiAgICAgICAgICAgIHJlZj1cIm11bHRpTGluZVNpemVyXCJcbiAgICAgICAgICAgIHN0eWxlPXtISURERU5fTVVMVElMSU5FX1NUWUxFU31cbiAgICAgICAgICAgIHRhYkluZGV4PVwiLTFcIlxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5wdXRFbGVtZW50ID0gKFxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICB7Li4uc2hhcmVkUHJvcHN9XG4gICAgICAgICAgcmVxdWlyZWQ9e3JlcXVpcmVkfVxuICAgICAgICAgIHR5cGU9e3R5cGV9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8SW5wdXRGaWVsZEJhc2VcbiAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJUeGxUZXh0RmllbGRcIlxuICAgICAgICBfYWZ0ZXJDb250ZW50PXtfYWZ0ZXJDb250ZW50fVxuICAgICAgICBfYmVmb3JlQ29udGVudD17X2JlZm9yZUNvbnRlbnR9XG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgZm9jdXNlZD17Zm9jdXNlZH1cbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICByZWFkT25seT17cmVhZE9ubHl9XG4gICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgc2Vjb25kYXJ5VGV4dD17c2Vjb25kYXJ5VGV4dH1cbiAgICAgICAgc3R5bGU9e1dSQVBQRVJfU1RZTEVTfVxuICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3ZhbGlkYXRpb25TdGF0ZX1cbiAgICAgID5cbiAgICAgICAgeyBpbnB1dEVsZW1lbnQgfVxuICAgICAgPC9JbnB1dEZpZWxkQmFzZT5cbiAgICApO1xuICB9XG59XG5cblR4bFRleHRGaWVsZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgb25CbHVyOiBOT09QLFxuICBvbkNoYW5nZTogTk9PUCxcbiAgb25Gb2N1czogTk9PUCxcbiAgb25LZXlQcmVzczogTk9PUCxcbiAgcGxhY2Vob2xkZXI6ICdFbnRlciBhIHZhbHVlJyxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHRhYkluZGV4OiAwLFxuICB0eXBlOiAndGV4dCcsXG4gIHZhbGlkYXRpb25TdGF0ZTogJ2Jhc2UnLFxuICB2YWx1ZTogJycsXG59O1xuXG5UeGxUZXh0RmllbGQucHJvcFR5cGVzID0ge1xuICBfYWZ0ZXJDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcbiAgX2JlZm9yZUNvbnRlbnQ6IFByb3BUeXBlcy5ub2RlLFxuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsYWJlbDogSW5wdXRGaWVsZEJhc2UucHJvcFR5cGVzLmxhYmVsLFxuICBtdWx0aUxpbmU6IFByb3BUeXBlcy5ib29sLFxuICBvbkJsdXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uS2V5UHJlc3M6IFByb3BUeXBlcy5mdW5jLFxuICBwbGFjZWhvbGRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgcmVhZE9ubHk6IFByb3BUeXBlcy5ib29sLFxuICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wsXG4gIHNlY29uZGFyeVRleHQ6IFByb3BUeXBlcy5ub2RlLFxuICB0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgdGV4dEFsaWduOiBQcm9wVHlwZXMub25lT2YoWydsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlcicsICdqdXN0aWZ5JywgJ3N0YXJ0JywgJ2VuZCddKSxcbiAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAnZW1haWwnLFxuICAgICdudW1iZXInLFxuICAgICdwYXNzd29yZCcsXG4gICAgJ3NlYXJjaCcsXG4gICAgJ3RlbCcsXG4gICAgJ3RleHQnLFxuICBdKSxcbiAgdmFsaWRhdGlvblN0YXRlOiB2YWxpZGF0aW9uU3RhdGVUeXBlLFxuICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbn07XG4iXX0=