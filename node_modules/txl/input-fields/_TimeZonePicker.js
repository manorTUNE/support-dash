'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _find = require('lodash/find');

var _find2 = _interopRequireDefault(_find);

var _TimeZones = require('../constants/_TimeZones');

var _Dropdown = require('../dropdowns/_Dropdown.style');

var _UncontrolledSingleSelect = require('../dropdowns/_UncontrolledSingleSelect');

var _UncontrolledSingleSelect2 = _interopRequireDefault(_UncontrolledSingleSelect);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DEFAULT_PLACEHOLDER_TEXT = 'Select a Time Zone';

var TxlTimeZonePicker = (0, _radium2.default)(_class = function (_React$Component) {
  (0, _inherits3.default)(TxlTimeZonePicker, _React$Component);

  function TxlTimeZonePicker() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TxlTimeZonePicker);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlTimeZonePicker.__proto__ || (0, _getPrototypeOf2.default)(TxlTimeZonePicker)).call.apply(_ref, [this].concat(args))), _this), _this._handleItemSelect = function () {
      var _this2;

      return (_this2 = _this).___handleItemSelect__REACT_HOT_LOADER__.apply(_this2, arguments);
    }, _this._handleRef = function () {
      var _this3;

      return (_this3 = _this).___handleRef__REACT_HOT_LOADER__.apply(_this3, arguments);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TxlTimeZonePicker, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      // map timeZone val to label to match items in dropdown
      var value = this.props.value;

      var matchingTimeZoneItem = (0, _find2.default)(_TimeZones.TIME_ZONE_LIST_ITEMS, function (_ref2) {
        var timeZone = _ref2.timeZone;
        return timeZone === value;
      });
      if (matchingTimeZoneItem) {
        this._singleSelect.setValue({ value: matchingTimeZoneItem.label });
      }
    }
  }, {
    key: '___handleItemSelect__REACT_HOT_LOADER__',
    value: function ___handleItemSelect__REACT_HOT_LOADER__() {
      return this.___handleItemSelect__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___handleItemSelect__REACT_HOT_LOADER__',
    value: function ___handleItemSelect__REACT_HOT_LOADER__() {
      return this.___handleItemSelect__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___handleItemSelect__REACT_HOT_LOADER__',
    value: function ___handleItemSelect__REACT_HOT_LOADER__(selectedItem) {
      if (selectedItem) {
        var label = selectedItem.label,
            timeZone = selectedItem.timeZone;

        this.props.onItemSelect({ label: label, value: timeZone });
      }
    }
  }, {
    key: '___handleRef__REACT_HOT_LOADER__',
    value: function ___handleRef__REACT_HOT_LOADER__() {
      return this.___handleRef__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___handleRef__REACT_HOT_LOADER__',
    value: function ___handleRef__REACT_HOT_LOADER__() {
      return this.___handleRef__REACT_HOT_LOADER__.apply(this, arguments);
    }
  }, {
    key: '___handleRef__REACT_HOT_LOADER__',
    value: function ___handleRef__REACT_HOT_LOADER__(ref) {
      this._singleSelect = ref;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          label = _props.label,
          placeholder = _props.placeholder,
          secondaryText = _props.secondaryText,
          validationState = _props.validationState;


      return _react2.default.createElement(
        'div',
        {
          'data-component': 'TxlTimeZonePicker',
          style: _Dropdown.WRAPPER_STYLE
        },
        _react2.default.createElement(_UncontrolledSingleSelect2.default, {
          items: _TimeZones.TIME_ZONE_LIST_ITEMS,
          label: label,
          onChange: this._handleItemSelect,
          placeholder: placeholder,
          ref: this._handleRef,
          secondaryText: secondaryText,
          validationState: validationState
        })
      );
    }
  }]);
  return TxlTimeZonePicker;
}(_react2.default.Component)) || _class;

exports.default = TxlTimeZonePicker;


TxlTimeZonePicker.displayName = 'TxlTimeZonePicker';

TxlTimeZonePicker.propTypes = {
  label: _UncontrolledSingleSelect2.default.propTypes.label,
  onItemSelect: _react.PropTypes.func.isRequired,
  placeholder: _UncontrolledSingleSelect2.default.propTypes.placeholder,
  secondaryText: _UncontrolledSingleSelect2.default.propTypes.secondaryText,
  validationState: _UncontrolledSingleSelect2.default.propTypes.validationState,
  value: _react.PropTypes.oneOf(_TimeZones.TIME_ZONES)
};

TxlTimeZonePicker.defaultProps = {
  placeholder: DEFAULT_PLACEHOLDER_TEXT
};
;

var _temp2 = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(DEFAULT_PLACEHOLDER_TEXT, 'DEFAULT_PLACEHOLDER_TEXT', 'src/input-fields/_TimeZonePicker.jsx');

  __REACT_HOT_LOADER__.register(TxlTimeZonePicker, 'TxlTimeZonePicker', 'src/input-fields/_TimeZonePicker.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvX1RpbWVab25lUGlja2VyLmpzeCJdLCJuYW1lcyI6WyJERUZBVUxUX1BMQUNFSE9MREVSX1RFWFQiLCJUeGxUaW1lWm9uZVBpY2tlciIsIl9oYW5kbGVJdGVtU2VsZWN0IiwiX2hhbmRsZVJlZiIsInZhbHVlIiwicHJvcHMiLCJtYXRjaGluZ1RpbWVab25lSXRlbSIsInRpbWVab25lIiwiX3NpbmdsZVNlbGVjdCIsInNldFZhbHVlIiwibGFiZWwiLCJzZWxlY3RlZEl0ZW0iLCJvbkl0ZW1TZWxlY3QiLCJyZWYiLCJwbGFjZWhvbGRlciIsInNlY29uZGFyeVRleHQiLCJ2YWxpZGF0aW9uU3RhdGUiLCJDb21wb25lbnQiLCJkaXNwbGF5TmFtZSIsInByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwib25lT2YiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUE7O0FBSUE7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLDJCQUEyQixvQkFBakM7O0lBR3FCQyxpQjs7Ozs7Ozs7Ozs7Ozs7a09BVW5CQyxpQjs7OzthQU9BQyxVOzs7Ozs7Ozs7d0NBaEJvQjtBQUNsQjtBQURrQixVQUVWQyxLQUZVLEdBRUEsS0FBS0MsS0FGTCxDQUVWRCxLQUZVOztBQUdsQixVQUFNRSx1QkFBdUIscURBQTJCO0FBQUEsWUFBR0MsUUFBSCxTQUFHQSxRQUFIO0FBQUEsZUFBa0JBLGFBQWFILEtBQS9CO0FBQUEsT0FBM0IsQ0FBN0I7QUFDQSxVQUFJRSxvQkFBSixFQUEwQjtBQUN4QixhQUFLRSxhQUFMLENBQW1CQyxRQUFuQixDQUE0QixFQUFFTCxPQUFPRSxxQkFBcUJJLEtBQTlCLEVBQTVCO0FBQ0Q7QUFDRjs7Ozs7Ozs7Ozs7Ozs0REFFb0JDLFksRUFBaUI7QUFDcEMsVUFBSUEsWUFBSixFQUFrQjtBQUFBLFlBQ1JELEtBRFEsR0FDWUMsWUFEWixDQUNSRCxLQURRO0FBQUEsWUFDREgsUUFEQyxHQUNZSSxZQURaLENBQ0RKLFFBREM7O0FBRWhCLGFBQUtGLEtBQUwsQ0FBV08sWUFBWCxDQUF3QixFQUFFRixZQUFGLEVBQVNOLE9BQU9HLFFBQWhCLEVBQXhCO0FBQ0Q7QUFDRjs7Ozs7Ozs7Ozs7OztxREFFYU0sRyxFQUFRO0FBQUUsV0FBS0wsYUFBTCxHQUFxQkssR0FBckI7QUFBMkI7Ozs2QkFFMUM7QUFBQSxtQkFNSCxLQUFLUixLQU5GO0FBQUEsVUFFTEssS0FGSyxVQUVMQSxLQUZLO0FBQUEsVUFHTEksV0FISyxVQUdMQSxXQUhLO0FBQUEsVUFJTEMsYUFKSyxVQUlMQSxhQUpLO0FBQUEsVUFLTEMsZUFMSyxVQUtMQSxlQUxLOzs7QUFRUCxhQUNFO0FBQUE7QUFBQTtBQUNFLDRCQUFlLG1CQURqQjtBQUVFO0FBRkY7QUFJRTtBQUNFLGdEQURGO0FBRUUsaUJBQU9OLEtBRlQ7QUFHRSxvQkFBVSxLQUFLUixpQkFIakI7QUFJRSx1QkFBYVksV0FKZjtBQUtFLGVBQUssS0FBS1gsVUFMWjtBQU1FLHlCQUFlWSxhQU5qQjtBQU9FLDJCQUFpQkM7QUFQbkI7QUFKRixPQURGO0FBZ0JEOzs7RUEzQzRDLGdCQUFNQyxTOztrQkFBaENoQixpQjs7O0FBOENyQkEsa0JBQWtCaUIsV0FBbEIsR0FBZ0MsbUJBQWhDOztBQUVBakIsa0JBQWtCa0IsU0FBbEIsR0FBOEI7QUFDNUJULFNBQU8sbUNBQXlCUyxTQUF6QixDQUFtQ1QsS0FEZDtBQUU1QkUsZ0JBQWMsaUJBQVVRLElBQVYsQ0FBZUMsVUFGRDtBQUc1QlAsZUFBYSxtQ0FBeUJLLFNBQXpCLENBQW1DTCxXQUhwQjtBQUk1QkMsaUJBQWUsbUNBQXlCSSxTQUF6QixDQUFtQ0osYUFKdEI7QUFLNUJDLG1CQUFpQixtQ0FBeUJHLFNBQXpCLENBQW1DSCxlQUx4QjtBQU01QlosU0FBTyxpQkFBVWtCLEtBQVY7QUFOcUIsQ0FBOUI7O0FBU0FyQixrQkFBa0JzQixZQUFsQixHQUFpQztBQUMvQlQsZUFBYWQ7QUFEa0IsQ0FBakM7Ozs7Ozs7O2dDQTVETUEsd0I7O2dDQUdlQyxpQiIsImZpbGUiOiJfVGltZVpvbmVQaWNrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJhZGl1bSBmcm9tICdyYWRpdW0nO1xuaW1wb3J0IGZpbmQgZnJvbSAnbG9kYXNoL2ZpbmQnO1xuXG5pbXBvcnQge1xuICBUSU1FX1pPTkVTLFxuICBUSU1FX1pPTkVfTElTVF9JVEVNUyxcbn0gZnJvbSAnLi4vY29uc3RhbnRzL19UaW1lWm9uZXMnO1xuaW1wb3J0IHsgV1JBUFBFUl9TVFlMRSB9IGZyb20gJy4uL2Ryb3Bkb3ducy9fRHJvcGRvd24uc3R5bGUnO1xuaW1wb3J0IFVuY29udHJvbGxlZFNpbmdsZVNlbGVjdCBmcm9tICcuLi9kcm9wZG93bnMvX1VuY29udHJvbGxlZFNpbmdsZVNlbGVjdCc7XG5cbmNvbnN0IERFRkFVTFRfUExBQ0VIT0xERVJfVEVYVCA9ICdTZWxlY3QgYSBUaW1lIFpvbmUnO1xuXG5AUmFkaXVtXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUeGxUaW1lWm9uZVBpY2tlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIG1hcCB0aW1lWm9uZSB2YWwgdG8gbGFiZWwgdG8gbWF0Y2ggaXRlbXMgaW4gZHJvcGRvd25cbiAgICBjb25zdCB7IHZhbHVlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IG1hdGNoaW5nVGltZVpvbmVJdGVtID0gZmluZChUSU1FX1pPTkVfTElTVF9JVEVNUywgKHsgdGltZVpvbmUgfSkgPT4gdGltZVpvbmUgPT09IHZhbHVlKTtcbiAgICBpZiAobWF0Y2hpbmdUaW1lWm9uZUl0ZW0pIHtcbiAgICAgIHRoaXMuX3NpbmdsZVNlbGVjdC5zZXRWYWx1ZSh7IHZhbHVlOiBtYXRjaGluZ1RpbWVab25lSXRlbS5sYWJlbCB9KTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlSXRlbVNlbGVjdCA9IChzZWxlY3RlZEl0ZW0pID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICBjb25zdCB7IGxhYmVsLCB0aW1lWm9uZSB9ID0gc2VsZWN0ZWRJdGVtO1xuICAgICAgdGhpcy5wcm9wcy5vbkl0ZW1TZWxlY3QoeyBsYWJlbCwgdmFsdWU6IHRpbWVab25lIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVSZWYgPSAocmVmKSA9PiB7IHRoaXMuX3NpbmdsZVNlbGVjdCA9IHJlZjsgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBsYWJlbCxcbiAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgc2Vjb25kYXJ5VGV4dCxcbiAgICAgIHZhbGlkYXRpb25TdGF0ZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGRhdGEtY29tcG9uZW50PVwiVHhsVGltZVpvbmVQaWNrZXJcIlxuICAgICAgICBzdHlsZT17V1JBUFBFUl9TVFlMRX1cbiAgICAgID5cbiAgICAgICAgPFVuY29udHJvbGxlZFNpbmdsZVNlbGVjdFxuICAgICAgICAgIGl0ZW1zPXtUSU1FX1pPTkVfTElTVF9JVEVNU31cbiAgICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuX2hhbmRsZUl0ZW1TZWxlY3R9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICAgIHJlZj17dGhpcy5faGFuZGxlUmVmfVxuICAgICAgICAgIHNlY29uZGFyeVRleHQ9e3NlY29uZGFyeVRleHR9XG4gICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt2YWxpZGF0aW9uU3RhdGV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblR4bFRpbWVab25lUGlja2VyLmRpc3BsYXlOYW1lID0gJ1R4bFRpbWVab25lUGlja2VyJztcblxuVHhsVGltZVpvbmVQaWNrZXIucHJvcFR5cGVzID0ge1xuICBsYWJlbDogVW5jb250cm9sbGVkU2luZ2xlU2VsZWN0LnByb3BUeXBlcy5sYWJlbCxcbiAgb25JdGVtU2VsZWN0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBwbGFjZWhvbGRlcjogVW5jb250cm9sbGVkU2luZ2xlU2VsZWN0LnByb3BUeXBlcy5wbGFjZWhvbGRlcixcbiAgc2Vjb25kYXJ5VGV4dDogVW5jb250cm9sbGVkU2luZ2xlU2VsZWN0LnByb3BUeXBlcy5zZWNvbmRhcnlUZXh0LFxuICB2YWxpZGF0aW9uU3RhdGU6IFVuY29udHJvbGxlZFNpbmdsZVNlbGVjdC5wcm9wVHlwZXMudmFsaWRhdGlvblN0YXRlLFxuICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mKFRJTUVfWk9ORVMpLFxufTtcblxuVHhsVGltZVpvbmVQaWNrZXIuZGVmYXVsdFByb3BzID0ge1xuICBwbGFjZWhvbGRlcjogREVGQVVMVF9QTEFDRUhPTERFUl9URVhULFxufTtcbiJdfQ==