'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _Base = require('../base/Base');

var _helpers = require('../styles/helpers');

var _theme = require('../styles/theme');

var _Close = require('../icons/Close');

var _Close2 = _interopRequireDefault(_Close);

var _IconButton = require('../buttons/IconButton');

var _IconButton2 = _interopRequireDefault(_IconButton);

var _Search = require('../icons/Search');

var _Search2 = _interopRequireDefault(_Search);

var _TextField = require('./TextField');

var _TextField2 = _interopRequireDefault(_TextField);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var SEARCH_ICON_COLOR = _theme.COLOR_NEUTRAL['300'];

var FORM_STYLES = {
  position: 'relative'
};

var CLEAR_BUTTON_STYLES = (0, _extends3.default)({}, (0, _helpers.square)((0, _helpers.gridUnits)(5)));

var TxlSearchBox = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlSearchBox, _React$Component);

  function TxlSearchBox() {
    (0, _classCallCheck3.default)(this, TxlSearchBox);
    return (0, _possibleConstructorReturn3.default)(this, (TxlSearchBox.__proto__ || (0, _getPrototypeOf2.default)(TxlSearchBox)).apply(this, arguments));
  }

  (0, _createClass3.default)(TxlSearchBox, [{
    key: 'focus',
    value: function focus() {
      this.refs.textField.focus();
    }
  }, {
    key: 'select',
    value: function select() {
      this.refs.textField.select();
    }
  }, {
    key: '_handleClear',
    value: function _handleClear() {
      this.props.onClear({
        value: this.props.value
      });
    }
  }, {
    key: '_handleSubmit',
    value: function _handleSubmit(e) {
      this.props.onSubmit({
        value: this.props.value
      });
      e.preventDefault();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          onChange = _props.onChange,
          onClear = _props.onClear,
          placeholder = _props.placeholder,
          value = _props.value;

      var clearButton = void 0;

      if (value && onClear) {
        clearButton = _react2.default.createElement(
          'div',
          {
            'data-test': 'clear-button-wrap',
            style: CLEAR_BUTTON_STYLES
          },
          _react2.default.createElement(_IconButton2.default, {
            onClick: this._handleClear,
            icon: _Close2.default,
            variant: 'plain'
          })
        );
      }

      var BEFORE_CONTENT = _react2.default.createElement(_Search2.default, { color: SEARCH_ICON_COLOR });

      return _react2.default.createElement(
        'form',
        {
          'data-component': 'TxlSearchBox',
          onSubmit: this._handleSubmit,
          ref: 'searchForm',
          style: FORM_STYLES
        },
        _react2.default.createElement(_TextField2.default, {
          _afterContent: clearButton,
          _beforeContent: BEFORE_CONTENT,
          id: id,
          onChange: onChange,
          value: value,
          ref: 'textField',
          placeholder: placeholder
        })
      );
    }
  }]);
  return TxlSearchBox;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, 'focus', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'focus'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'select', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'select'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleClear', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleClear'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleSubmit', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleSubmit'), _class2.prototype)), _class2)) || _class;

exports.default = TxlSearchBox;


TxlSearchBox.propTypes = {
  id: _TextField2.default.propTypes.id,
  onChange: _TextField2.default.propTypes.onChange,
  onClear: _react.PropTypes.func,
  onSubmit: _react.PropTypes.func,
  placeholder: _TextField2.default.propTypes.placeholder,
  value: _TextField2.default.propTypes.value
};

TxlSearchBox.defaultProps = {
  onChange: _Base.NOOP,
  onSubmit: _Base.NOOP,
  placeholder: 'Search'
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(SEARCH_ICON_COLOR, 'SEARCH_ICON_COLOR', 'src/input-fields/SearchBox.jsx');

  __REACT_HOT_LOADER__.register(FORM_STYLES, 'FORM_STYLES', 'src/input-fields/SearchBox.jsx');

  __REACT_HOT_LOADER__.register(CLEAR_BUTTON_STYLES, 'CLEAR_BUTTON_STYLES', 'src/input-fields/SearchBox.jsx');

  __REACT_HOT_LOADER__.register(TxlSearchBox, 'TxlSearchBox', 'src/input-fields/SearchBox.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvU2VhcmNoQm94LmpzeCJdLCJuYW1lcyI6WyJTRUFSQ0hfSUNPTl9DT0xPUiIsIkZPUk1fU1RZTEVTIiwicG9zaXRpb24iLCJDTEVBUl9CVVRUT05fU1RZTEVTIiwiVHhsU2VhcmNoQm94IiwicmVmcyIsInRleHRGaWVsZCIsImZvY3VzIiwic2VsZWN0IiwicHJvcHMiLCJvbkNsZWFyIiwidmFsdWUiLCJlIiwib25TdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsImlkIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsImNsZWFyQnV0dG9uIiwiX2hhbmRsZUNsZWFyIiwiQkVGT1JFX0NPTlRFTlQiLCJfaGFuZGxlU3VibWl0IiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwiZnVuYyIsImRlZmF1bHRQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7Ozs7QUFFQTs7QUFDQTs7QUFJQTs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxvQkFBb0IscUJBQWMsS0FBZCxDQUExQjs7QUFFQSxJQUFNQyxjQUFjO0FBQ2xCQyxZQUFVO0FBRFEsQ0FBcEI7O0FBSUEsSUFBTUMsaURBQ0QscUJBQU8sd0JBQUcsQ0FBSCxDQUFQLENBREMsQ0FBTjs7SUFLcUJDLFk7Ozs7Ozs7Ozs7NEJBR1g7QUFDTixXQUFLQyxJQUFMLENBQVVDLFNBQVYsQ0FBb0JDLEtBQXBCO0FBQ0Q7Ozs2QkFHUTtBQUNQLFdBQUtGLElBQUwsQ0FBVUMsU0FBVixDQUFvQkUsTUFBcEI7QUFDRDs7O21DQUdjO0FBQ2IsV0FBS0MsS0FBTCxDQUFXQyxPQUFYLENBQW1CO0FBQ2pCQyxlQUFPLEtBQUtGLEtBQUwsQ0FBV0U7QUFERCxPQUFuQjtBQUdEOzs7a0NBR2FDLEMsRUFBRztBQUNmLFdBQUtILEtBQUwsQ0FBV0ksUUFBWCxDQUFvQjtBQUNsQkYsZUFBTyxLQUFLRixLQUFMLENBQVdFO0FBREEsT0FBcEI7QUFHQUMsUUFBRUUsY0FBRjtBQUNEOzs7NkJBRVE7QUFBQSxtQkFPSCxLQUFLTCxLQVBGO0FBQUEsVUFFTE0sRUFGSyxVQUVMQSxFQUZLO0FBQUEsVUFHTEMsUUFISyxVQUdMQSxRQUhLO0FBQUEsVUFJTE4sT0FKSyxVQUlMQSxPQUpLO0FBQUEsVUFLTE8sV0FMSyxVQUtMQSxXQUxLO0FBQUEsVUFNTE4sS0FOSyxVQU1MQSxLQU5LOztBQVFQLFVBQUlPLG9CQUFKOztBQUVBLFVBQUlQLFNBQVNELE9BQWIsRUFBc0I7QUFDcEJRLHNCQUNFO0FBQUE7QUFBQTtBQUNFLHlCQUFVLG1CQURaO0FBRUUsbUJBQU9mO0FBRlQ7QUFJRTtBQUNFLHFCQUFTLEtBQUtnQixZQURoQjtBQUVFLGlDQUZGO0FBR0UscUJBQVE7QUFIVjtBQUpGLFNBREY7QUFZRDs7QUFFRCxVQUFNQyxpQkFBaUIsa0RBQVEsT0FBT3BCLGlCQUFmLEdBQXZCOztBQUVBLGFBQ0U7QUFBQTtBQUFBO0FBQ0UsNEJBQWUsY0FEakI7QUFFRSxvQkFBVSxLQUFLcUIsYUFGakI7QUFHRSxlQUFJLFlBSE47QUFJRSxpQkFBT3BCO0FBSlQ7QUFNRTtBQUNFLHlCQUFlaUIsV0FEakI7QUFFRSwwQkFBZ0JFLGNBRmxCO0FBR0UsY0FBSUwsRUFITjtBQUlFLG9CQUFVQyxRQUpaO0FBS0UsaUJBQU9MLEtBTFQ7QUFNRSxlQUFJLFdBTk47QUFPRSx1QkFBYU07QUFQZjtBQU5GLE9BREY7QUFrQkQ7OztFQXhFdUMsZ0JBQU1LLFM7O2tCQUEzQmxCLFk7OztBQTJFckJBLGFBQWFtQixTQUFiLEdBQXlCO0FBQ3ZCUixNQUFJLG9CQUFVUSxTQUFWLENBQW9CUixFQUREO0FBRXZCQyxZQUFVLG9CQUFVTyxTQUFWLENBQW9CUCxRQUZQO0FBR3ZCTixXQUFTLGlCQUFVYyxJQUhJO0FBSXZCWCxZQUFVLGlCQUFVVyxJQUpHO0FBS3ZCUCxlQUFhLG9CQUFVTSxTQUFWLENBQW9CTixXQUxWO0FBTXZCTixTQUFPLG9CQUFVWSxTQUFWLENBQW9CWjtBQU5KLENBQXpCOztBQVNBUCxhQUFhcUIsWUFBYixHQUE0QjtBQUMxQlQsc0JBRDBCO0FBRTFCSCxzQkFGMEI7QUFHMUJJLGVBQWE7QUFIYSxDQUE1Qjs7Ozs7Ozs7Z0NBL0ZNakIsaUI7O2dDQUVBQyxXOztnQ0FJQUUsbUI7O2dDQUtlQyxZIiwiZmlsZSI6IlNlYXJjaEJveC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmFkaXVtIGZyb20gJ3JhZGl1bSc7XG5cbmltcG9ydCB7IGF1dG9iaW5kLCBOT09QIH0gZnJvbSAnLi4vYmFzZS9CYXNlJztcbmltcG9ydCB7XG4gIGdyaWRVbml0cyBhcyBndSxcbiAgc3F1YXJlLFxufSBmcm9tICcuLi9zdHlsZXMvaGVscGVycyc7XG5pbXBvcnQgeyBDT0xPUl9ORVVUUkFMIH0gZnJvbSAnLi4vc3R5bGVzL3RoZW1lJztcbmltcG9ydCBDbG9zZSBmcm9tICcuLi9pY29ucy9DbG9zZSc7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICcuLi9idXR0b25zL0ljb25CdXR0b24nO1xuaW1wb3J0IFNlYXJjaCBmcm9tICcuLi9pY29ucy9TZWFyY2gnO1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICcuL1RleHRGaWVsZCc7XG5cbmNvbnN0IFNFQVJDSF9JQ09OX0NPTE9SID0gQ09MT1JfTkVVVFJBTFsnMzAwJ107XG5cbmNvbnN0IEZPUk1fU1RZTEVTID0ge1xuICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbn07XG5cbmNvbnN0IENMRUFSX0JVVFRPTl9TVFlMRVMgPSB7XG4gIC4uLnNxdWFyZShndSg1KSksXG59O1xuXG5AUmFkaXVtXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUeGxTZWFyY2hCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIEBhdXRvYmluZFxuICBmb2N1cygpIHtcbiAgICB0aGlzLnJlZnMudGV4dEZpZWxkLmZvY3VzKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgc2VsZWN0KCkge1xuICAgIHRoaXMucmVmcy50ZXh0RmllbGQuc2VsZWN0KCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUNsZWFyKCkge1xuICAgIHRoaXMucHJvcHMub25DbGVhcih7XG4gICAgICB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlU3VibWl0KGUpIHtcbiAgICB0aGlzLnByb3BzLm9uU3VibWl0KHtcbiAgICAgIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLFxuICAgIH0pO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpZCxcbiAgICAgIG9uQ2hhbmdlLFxuICAgICAgb25DbGVhcixcbiAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgdmFsdWUsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGNsZWFyQnV0dG9uO1xuXG4gICAgaWYgKHZhbHVlICYmIG9uQ2xlYXIpIHtcbiAgICAgIGNsZWFyQnV0dG9uID0gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgZGF0YS10ZXN0PVwiY2xlYXItYnV0dG9uLXdyYXBcIlxuICAgICAgICAgIHN0eWxlPXtDTEVBUl9CVVRUT05fU1RZTEVTfVxuICAgICAgICA+XG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuX2hhbmRsZUNsZWFyfVxuICAgICAgICAgICAgaWNvbj17Q2xvc2V9XG4gICAgICAgICAgICB2YXJpYW50PVwicGxhaW5cIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBCRUZPUkVfQ09OVEVOVCA9IDxTZWFyY2ggY29sb3I9e1NFQVJDSF9JQ09OX0NPTE9SfSAvPjtcblxuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybVxuICAgICAgICBkYXRhLWNvbXBvbmVudD1cIlR4bFNlYXJjaEJveFwiXG4gICAgICAgIG9uU3VibWl0PXt0aGlzLl9oYW5kbGVTdWJtaXR9XG4gICAgICAgIHJlZj1cInNlYXJjaEZvcm1cIlxuICAgICAgICBzdHlsZT17Rk9STV9TVFlMRVN9XG4gICAgICA+XG4gICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICBfYWZ0ZXJDb250ZW50PXtjbGVhckJ1dHRvbn1cbiAgICAgICAgICBfYmVmb3JlQ29udGVudD17QkVGT1JFX0NPTlRFTlR9XG4gICAgICAgICAgaWQ9e2lkfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgcmVmPVwidGV4dEZpZWxkXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgIC8+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfVxufVxuXG5UeGxTZWFyY2hCb3gucHJvcFR5cGVzID0ge1xuICBpZDogVGV4dEZpZWxkLnByb3BUeXBlcy5pZCxcbiAgb25DaGFuZ2U6IFRleHRGaWVsZC5wcm9wVHlwZXMub25DaGFuZ2UsXG4gIG9uQ2xlYXI6IFByb3BUeXBlcy5mdW5jLFxuICBvblN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMsXG4gIHBsYWNlaG9sZGVyOiBUZXh0RmllbGQucHJvcFR5cGVzLnBsYWNlaG9sZGVyLFxuICB2YWx1ZTogVGV4dEZpZWxkLnByb3BUeXBlcy52YWx1ZSxcbn07XG5cblR4bFNlYXJjaEJveC5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uQ2hhbmdlOiBOT09QLFxuICBvblN1Ym1pdDogTk9PUCxcbiAgcGxhY2Vob2xkZXI6ICdTZWFyY2gnLFxufTtcbiJdfQ==