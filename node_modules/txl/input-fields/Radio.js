'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _Base = require('../base/Base');

var _WithLabel = require('./_WithLabel');

var _WithLabel2 = _interopRequireDefault(_WithLabel);

var _transitions = require('../styles/mixins/transitions');

var _helpers = require('../styles/helpers');

var _theme = require('../styles/theme');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var DISABLED_STYLE = {
  cursor: 'not-allowed'
};

var INPUT_STYLES = {
  cursor: 'pointer',
  height: '100%',
  left: 0,
  opacity: 0,
  position: 'absolute',
  top: 0,
  width: '100%'
};

var RADIO_CONTAINER_STYLES = (0, _extends3.default)({}, (0, _helpers.square)((0, _helpers.gridUnits)(5)), {
  alignItems: 'center',
  display: 'flex',
  justifyContent: 'center',
  position: 'relative'
});

var BASE_RADIO_STYLES = (0, _extends3.default)({}, (0, _helpers.square)('17px'), {
  alignItems: 'center',
  backgroundColor: 'white',
  borderColor: 'transparent',
  borderRadius: '50%',
  borderStyle: 'solid',
  borderWidth: '1px',
  display: 'flex',
  justifyContent: 'center',
  transition: (0, _transitions.cubicTransition)('background-color')
});

var DOT_STYLES = (0, _extends3.default)({}, (0, _helpers.square)('9px'), {
  borderRadius: '50%'
});

var CHECKED_RADIO_STYLES = {
  focused: {
    borderColor: _theme.COLOR_ACCENT['500'],
    color: _theme.COLOR_ACCENT['500']
  },
  resting: {
    borderColor: _theme.COLOR_ACCENT['500'],
    color: _theme.COLOR_ACCENT['500']
  }
};

var UNCHECKED_RADIO_STYLES = {
  focused: {
    backgroundColor: 'white',
    borderColor: _theme.COLOR_NEUTRAL['400']
  },
  resting: {
    backgroundColor: 'white',
    borderColor: _theme.COLOR_NEUTRAL['300']
  }
};

var DISABLED_RADIO_STYLES = {
  checked: {
    backgroundColor: _theme.COLOR_NEUTRAL['100'],
    borderColor: _theme.COLOR_NEUTRAL['200'],
    color: _theme.COLOR_NEUTRAL['200']
  },
  unchecked: {
    backgroundColor: _theme.COLOR_NEUTRAL['100'],
    borderColor: _theme.COLOR_NEUTRAL['200']
  }
};

var TxlRadio = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlRadio, _React$Component);

  function TxlRadio() {
    var _ref;

    (0, _classCallCheck3.default)(this, TxlRadio);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TxlRadio.__proto__ || (0, _getPrototypeOf2.default)(TxlRadio)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      focused: false,
      hovered: false
    };
    return _this;
  }

  (0, _createClass3.default)(TxlRadio, [{
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      // Need to make sure to not cause the visual hover/focus
      // state to stick after interacting with the input.
      if (nextProps.checked && this.state.focused && nextState.focused) {
        this.setState({
          focused: false
        });
      }
    }
  }, {
    key: '_handleChange',
    value: function _handleChange(e) {
      if (this.props.disabled) {
        return;
      }

      this.props.onChange({
        checked: e.target.checked,
        name: e.target.name,
        value: e.target.value
      });
    }
  }, {
    key: '_handleBlur',
    value: function _handleBlur() {
      this.setState({ focused: false });
    }
  }, {
    key: '_handleFocus',
    value: function _handleFocus() {
      this.setState({ focused: true });
    }
  }, {
    key: '_handleMouseEnter',
    value: function _handleMouseEnter() {
      this.setState({ hovered: true });
    }
  }, {
    key: '_handleMouseLeave',
    value: function _handleMouseLeave() {
      this.setState({ hovered: false });
    }
  }, {
    key: 'render',
    value: function render() {
      var showHoverStyles = this.state.hovered || this.state.focused;
      var enabledState = showHoverStyles ? 'focused' : 'resting';
      var disabledState = this.props.checked ? 'checked' : 'unchecked';

      var checkedStateStyles = this.props.checked && !this.props.disabled ? CHECKED_RADIO_STYLES[enabledState] : UNCHECKED_RADIO_STYLES[enabledState];

      var radioStyles = (0, _helpers.combineStyles)(BASE_RADIO_STYLES, checkedStateStyles, this.props.disabled && DISABLED_RADIO_STYLES[disabledState]);

      var radioDotStyles = (0, _helpers.combineStyles)(DOT_STYLES, { backgroundColor: radioStyles.color });

      var inputStyles = (0, _helpers.combineStyles)(INPUT_STYLES, this.props.disabled && DISABLED_STYLE);

      return _react2.default.createElement(
        'div',
        {
          'data-component': 'TxlRadio',
          style: RADIO_CONTAINER_STYLES,
          onMouseEnter: this._handleMouseEnter,
          onMouseLeave: this._handleMouseLeave
        },
        _react2.default.createElement(
          'div',
          { style: radioStyles },
          this.props.checked && _react2.default.createElement('div', {
            style: radioDotStyles,
            'data-test-radio-dot': true
          })
        ),
        _react2.default.createElement('input', {
          checked: this.props.checked,
          disabled: this.props.disabled,
          id: this.props.id,
          name: this.props.name,
          onBlur: this._handleBlur,
          onChange: this._handleChange,
          onFocus: this._handleFocus,
          style: inputStyles,
          tabIndex: this.props.tabIndex,
          type: 'radio',
          value: this.props.value
        })
      );
    }
  }]);
  return TxlRadio;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, '_handleChange', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleChange'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleBlur', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleBlur'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleFocus', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleFocus'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleMouseEnter', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleMouseEnter'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleMouseLeave', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleMouseLeave'), _class2.prototype)), _class2)) || _class;

TxlRadio.defaultProps = {
  checked: false,
  disabled: false,
  onChange: _Base.NOOP,
  tabIndex: 0
};

TxlRadio.propTypes = {
  checked: _react2.default.PropTypes.bool,
  disabled: _react2.default.PropTypes.bool,
  id: _react2.default.PropTypes.string,
  name: _react2.default.PropTypes.string.isRequired,
  onChange: _react2.default.PropTypes.func.isRequired,
  tabIndex: _react2.default.PropTypes.number,
  value: _react2.default.PropTypes.string.isRequired
};

var _default = (0, _WithLabel2.default)({
  clickable: true,
  padding: (0, _helpers.gridUnits)(1)
}, TxlRadio);

exports.default = _default;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(DISABLED_STYLE, 'DISABLED_STYLE', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(INPUT_STYLES, 'INPUT_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(RADIO_CONTAINER_STYLES, 'RADIO_CONTAINER_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(BASE_RADIO_STYLES, 'BASE_RADIO_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(DOT_STYLES, 'DOT_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(CHECKED_RADIO_STYLES, 'CHECKED_RADIO_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(UNCHECKED_RADIO_STYLES, 'UNCHECKED_RADIO_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(DISABLED_RADIO_STYLES, 'DISABLED_RADIO_STYLES', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(TxlRadio, 'TxlRadio', 'src/input-fields/Radio.jsx');

  __REACT_HOT_LOADER__.register(_default, 'default', 'src/input-fields/Radio.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvUmFkaW8uanN4Il0sIm5hbWVzIjpbIkRJU0FCTEVEX1NUWUxFIiwiY3Vyc29yIiwiSU5QVVRfU1RZTEVTIiwiaGVpZ2h0IiwibGVmdCIsIm9wYWNpdHkiLCJwb3NpdGlvbiIsInRvcCIsIndpZHRoIiwiUkFESU9fQ09OVEFJTkVSX1NUWUxFUyIsImFsaWduSXRlbXMiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJCQVNFX1JBRElPX1NUWUxFUyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyUmFkaXVzIiwiYm9yZGVyU3R5bGUiLCJib3JkZXJXaWR0aCIsInRyYW5zaXRpb24iLCJET1RfU1RZTEVTIiwiQ0hFQ0tFRF9SQURJT19TVFlMRVMiLCJmb2N1c2VkIiwiY29sb3IiLCJyZXN0aW5nIiwiVU5DSEVDS0VEX1JBRElPX1NUWUxFUyIsIkRJU0FCTEVEX1JBRElPX1NUWUxFUyIsImNoZWNrZWQiLCJ1bmNoZWNrZWQiLCJUeGxSYWRpbyIsImFyZ3MiLCJzdGF0ZSIsImhvdmVyZWQiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJzZXRTdGF0ZSIsImUiLCJwcm9wcyIsImRpc2FibGVkIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJuYW1lIiwidmFsdWUiLCJzaG93SG92ZXJTdHlsZXMiLCJlbmFibGVkU3RhdGUiLCJkaXNhYmxlZFN0YXRlIiwiY2hlY2tlZFN0YXRlU3R5bGVzIiwicmFkaW9TdHlsZXMiLCJyYWRpb0RvdFN0eWxlcyIsImlucHV0U3R5bGVzIiwiX2hhbmRsZU1vdXNlRW50ZXIiLCJfaGFuZGxlTW91c2VMZWF2ZSIsImlkIiwiX2hhbmRsZUJsdXIiLCJfaGFuZGxlQ2hhbmdlIiwiX2hhbmRsZUZvY3VzIiwidGFiSW5kZXgiLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJib29sIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsImZ1bmMi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QVcsSUFEWTtBQUV2QkMsV0FBUyx3QkFBRyxDQUFIO0FBRmMsQ0FBVixFQUdadEMsUUFIWSxDOzs7Ozs7Ozs7O2dDQXhNVDdCLGM7O2dDQUlBRSxZOztnQ0FVQU8sc0I7O2dDQVFBSSxpQjs7Z0NBYUFPLFU7O2dDQUtBQyxvQjs7Z0NBV0FJLHNCOztnQ0FXQUMscUI7O2dDQWFBRyxRIiwiZmlsZSI6IlJhZGlvLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSYWRpdW0gZnJvbSAncmFkaXVtJztcblxuaW1wb3J0IHsgYXV0b2JpbmQsIE5PT1AgfSBmcm9tICcuLi9iYXNlL0Jhc2UnO1xuaW1wb3J0IFdpdGhMYWJlbCBmcm9tICcuL19XaXRoTGFiZWwnO1xuaW1wb3J0IHsgY3ViaWNUcmFuc2l0aW9uIH0gZnJvbSAnLi4vc3R5bGVzL21peGlucy90cmFuc2l0aW9ucyc7XG5pbXBvcnQge1xuICBncmlkVW5pdHMgYXMgZ3UsXG4gIGNvbWJpbmVTdHlsZXMsXG4gIHNxdWFyZSxcbn0gZnJvbSAnLi4vc3R5bGVzL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgQ09MT1JfTkVVVFJBTCxcbiAgQ09MT1JfQUNDRU5ULFxufSBmcm9tICcuLi9zdHlsZXMvdGhlbWUnO1xuXG5jb25zdCBESVNBQkxFRF9TVFlMRSA9IHtcbiAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxufTtcblxuY29uc3QgSU5QVVRfU1RZTEVTID0ge1xuICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgaGVpZ2h0OiAnMTAwJScsXG4gIGxlZnQ6IDAsXG4gIG9wYWNpdHk6IDAsXG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IDAsXG4gIHdpZHRoOiAnMTAwJScsXG59O1xuXG5jb25zdCBSQURJT19DT05UQUlORVJfU1RZTEVTID0ge1xuICAuLi5zcXVhcmUoZ3UoNSkpLFxuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxufTtcblxuY29uc3QgQkFTRV9SQURJT19TVFlMRVMgPSB7XG4gIC4uLnNxdWFyZSgnMTdweCcpLFxuICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICBib3JkZXJDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgYm9yZGVyU3R5bGU6ICdzb2xpZCcsXG4gIGJvcmRlcldpZHRoOiAnMXB4JyxcbiAgZGlzcGxheTogJ2ZsZXgnLFxuICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gIHRyYW5zaXRpb246IGN1YmljVHJhbnNpdGlvbignYmFja2dyb3VuZC1jb2xvcicpLFxufTtcblxuY29uc3QgRE9UX1NUWUxFUyA9IHtcbiAgLi4uc3F1YXJlKCc5cHgnKSxcbiAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbn07XG5cbmNvbnN0IENIRUNLRURfUkFESU9fU1RZTEVTID0ge1xuICBmb2N1c2VkOiB7XG4gICAgYm9yZGVyQ29sb3I6IENPTE9SX0FDQ0VOVFsnNTAwJ10sXG4gICAgY29sb3I6IENPTE9SX0FDQ0VOVFsnNTAwJ10sXG4gIH0sXG4gIHJlc3Rpbmc6IHtcbiAgICBib3JkZXJDb2xvcjogQ09MT1JfQUNDRU5UWyc1MDAnXSxcbiAgICBjb2xvcjogQ09MT1JfQUNDRU5UWyc1MDAnXSxcbiAgfSxcbn07XG5cbmNvbnN0IFVOQ0hFQ0tFRF9SQURJT19TVFlMRVMgPSB7XG4gIGZvY3VzZWQ6IHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsXG4gICAgYm9yZGVyQ29sb3I6IENPTE9SX05FVVRSQUxbJzQwMCddLFxuICB9LFxuICByZXN0aW5nOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvcmRlckNvbG9yOiBDT0xPUl9ORVVUUkFMWyczMDAnXSxcbiAgfSxcbn07XG5cbmNvbnN0IERJU0FCTEVEX1JBRElPX1NUWUxFUyA9IHtcbiAgY2hlY2tlZDoge1xuICAgIGJhY2tncm91bmRDb2xvcjogQ09MT1JfTkVVVFJBTFsnMTAwJ10sXG4gICAgYm9yZGVyQ29sb3I6IENPTE9SX05FVVRSQUxbJzIwMCddLFxuICAgIGNvbG9yOiBDT0xPUl9ORVVUUkFMWycyMDAnXSxcbiAgfSxcbiAgdW5jaGVja2VkOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBDT0xPUl9ORVVUUkFMWycxMDAnXSxcbiAgICBib3JkZXJDb2xvcjogQ09MT1JfTkVVVFJBTFsnMjAwJ10sXG4gIH0sXG59O1xuXG5AUmFkaXVtXG5jbGFzcyBUeGxSYWRpbyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIGhvdmVyZWQ6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgLy8gTmVlZCB0byBtYWtlIHN1cmUgdG8gbm90IGNhdXNlIHRoZSB2aXN1YWwgaG92ZXIvZm9jdXNcbiAgICAvLyBzdGF0ZSB0byBzdGljayBhZnRlciBpbnRlcmFjdGluZyB3aXRoIHRoZSBpbnB1dC5cbiAgICBpZiAobmV4dFByb3BzLmNoZWNrZWQgJiYgdGhpcy5zdGF0ZS5mb2N1c2VkICYmIG5leHRTdGF0ZS5mb2N1c2VkKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZm9jdXNlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUNoYW5nZShlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIGNoZWNrZWQ6IGUudGFyZ2V0LmNoZWNrZWQsXG4gICAgICBuYW1lOiBlLnRhcmdldC5uYW1lLFxuICAgICAgdmFsdWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVCbHVyKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkOiBmYWxzZSB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlRm9jdXMoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZvY3VzZWQ6IHRydWUgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGhvdmVyZWQ6IHRydWUgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGhvdmVyZWQ6IGZhbHNlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHNob3dIb3ZlclN0eWxlcyA9IHRoaXMuc3RhdGUuaG92ZXJlZCB8fCB0aGlzLnN0YXRlLmZvY3VzZWQ7XG4gICAgY29uc3QgZW5hYmxlZFN0YXRlID0gc2hvd0hvdmVyU3R5bGVzID8gJ2ZvY3VzZWQnIDogJ3Jlc3RpbmcnO1xuICAgIGNvbnN0IGRpc2FibGVkU3RhdGUgPSB0aGlzLnByb3BzLmNoZWNrZWQgPyAnY2hlY2tlZCcgOiAndW5jaGVja2VkJztcblxuICAgIGNvbnN0IGNoZWNrZWRTdGF0ZVN0eWxlcyA9IHRoaXMucHJvcHMuY2hlY2tlZCAmJiAhdGhpcy5wcm9wcy5kaXNhYmxlZCA/XG4gICAgICBDSEVDS0VEX1JBRElPX1NUWUxFU1tlbmFibGVkU3RhdGVdIDpcbiAgICAgIFVOQ0hFQ0tFRF9SQURJT19TVFlMRVNbZW5hYmxlZFN0YXRlXTtcblxuICAgIGNvbnN0IHJhZGlvU3R5bGVzID0gY29tYmluZVN0eWxlcyhcbiAgICAgIEJBU0VfUkFESU9fU1RZTEVTLFxuICAgICAgY2hlY2tlZFN0YXRlU3R5bGVzLFxuICAgICAgdGhpcy5wcm9wcy5kaXNhYmxlZCAmJiBESVNBQkxFRF9SQURJT19TVFlMRVNbZGlzYWJsZWRTdGF0ZV1cbiAgICApO1xuXG4gICAgY29uc3QgcmFkaW9Eb3RTdHlsZXMgPSBjb21iaW5lU3R5bGVzKFxuICAgICAgRE9UX1NUWUxFUyxcbiAgICAgIHsgYmFja2dyb3VuZENvbG9yOiByYWRpb1N0eWxlcy5jb2xvciB9XG4gICAgKTtcblxuICAgIGNvbnN0IGlucHV0U3R5bGVzID0gY29tYmluZVN0eWxlcyhcbiAgICAgIElOUFVUX1NUWUxFUyxcbiAgICAgIHRoaXMucHJvcHMuZGlzYWJsZWQgJiYgRElTQUJMRURfU1RZTEVcbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgZGF0YS1jb21wb25lbnQ9XCJUeGxSYWRpb1wiXG4gICAgICAgIHN0eWxlPXtSQURJT19DT05UQUlORVJfU1RZTEVTfVxuICAgICAgICBvbk1vdXNlRW50ZXI9e3RoaXMuX2hhbmRsZU1vdXNlRW50ZXJ9XG4gICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5faGFuZGxlTW91c2VMZWF2ZX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBzdHlsZT17cmFkaW9TdHlsZXN9PlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoZWNrZWQgJiZcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgc3R5bGU9e3JhZGlvRG90U3R5bGVzfVxuICAgICAgICAgICAgICBkYXRhLXRlc3QtcmFkaW8tZG90XG4gICAgICAgICAgICAvPn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIGNoZWNrZWQ9e3RoaXMucHJvcHMuY2hlY2tlZH1cbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy5wcm9wcy5kaXNhYmxlZH1cbiAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZH1cbiAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgb25CbHVyPXt0aGlzLl9oYW5kbGVCbHVyfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLl9oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgb25Gb2N1cz17dGhpcy5faGFuZGxlRm9jdXN9XG4gICAgICAgICAgc3R5bGU9e2lucHV0U3R5bGVzfVxuICAgICAgICAgIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fVxuICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cblR4bFJhZGlvLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hlY2tlZDogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgb25DaGFuZ2U6IE5PT1AsXG4gIHRhYkluZGV4OiAwLFxufTtcblxuVHhsUmFkaW8ucHJvcFR5cGVzID0ge1xuICBjaGVja2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcbiAgZGlzYWJsZWQ6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuICBpZDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcbiAgbmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgdGFiSW5kZXg6IFJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG4gIHZhbHVlOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaXRoTGFiZWwoe1xuICBjbGlja2FibGU6IHRydWUsXG4gIHBhZGRpbmc6IGd1KDEpLFxufSwgVHhsUmFkaW8pO1xuIl19