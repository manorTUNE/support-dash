'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _Base = require('../base/Base');

var _CurrencyFieldControlled = require('./CurrencyFieldControlled');

var _CurrencyFieldControlled2 = _interopRequireDefault(_CurrencyFieldControlled);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

var TxlCurrencyField = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlCurrencyField, _React$Component);

  function TxlCurrencyField(props) {
    (0, _classCallCheck3.default)(this, TxlCurrencyField);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TxlCurrencyField.__proto__ || (0, _getPrototypeOf2.default)(TxlCurrencyField)).call(this, props));

    _this.state = {
      value: props.defaultValue
    };
    return _this;
  }

  (0, _createClass3.default)(TxlCurrencyField, [{
    key: '_handleBlur',
    value: function _handleBlur(_ref) {
      var value = _ref.value;
      var _props = this.props,
          onBlur = _props.onBlur,
          onChange = _props.onChange;


      this.setState({ value: value }, function () {
        onBlur && onBlur({ value: value });
        onChange({ value: value });
      });
    }
  }, {
    key: '_handleChange',
    value: function _handleChange(_ref2) {
      var _this2 = this;

      var value = _ref2.value;

      this.setState({ value: value }, function () {
        _this2.props.onChange({ value: value });
      });
    }
  }, {
    key: 'focus',
    value: function focus() {
      this._currencyFieldRef.focus();
    }
  }, {
    key: '_handleCurrencyFieldRef',
    value: function _handleCurrencyFieldRef(ref) {
      this._currencyFieldRef = ref;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          currencyCode = _props2.currencyCode,
          label = _props2.label,
          maximumFractionDigits = _props2.maximumFractionDigits,
          minimumFractionDigits = _props2.minimumFractionDigits,
          onFocus = _props2.onFocus,
          secondaryText = _props2.secondaryText,
          validationState = _props2.validationState;


      return _react2.default.createElement(_CurrencyFieldControlled2.default, {
        currencyCode: currencyCode,
        label: label,
        maximumFractionDigits: maximumFractionDigits,
        minimumFractionDigits: minimumFractionDigits,
        onBlur: this._handleBlur,
        onChange: this._handleChange,
        onFocus: onFocus,
        ref: this._handleCurrencyFieldRef,
        secondaryText: secondaryText,
        validationState: validationState,
        value: this.state.value
      });
    }
  }]);
  return TxlCurrencyField;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, '_handleBlur', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleBlur'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleChange', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleChange'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'focus', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'focus'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleCurrencyFieldRef', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleCurrencyFieldRef'), _class2.prototype)), _class2)) || _class;

exports.default = TxlCurrencyField;


TxlCurrencyField.displayName = 'TxlCurrencyField';

TxlCurrencyField.propTypes = {
  currencyCode: _CurrencyFieldControlled2.default.propTypes.currencyCode,
  defaultValue: _CurrencyFieldControlled2.default.propTypes.value,
  label: _CurrencyFieldControlled2.default.propTypes.label,
  maximumFractionDigits: _react.PropTypes.oneOf([0, 1, 2, 3, 4, 5]),
  minimumFractionDigits: _react.PropTypes.oneOf([0, 1, 2, 3, 4, 5]),
  onBlur: _CurrencyFieldControlled2.default.propTypes.onBlur,
  onChange: _CurrencyFieldControlled2.default.propTypes.onChange,
  onFocus: _CurrencyFieldControlled2.default.propTypes.onFocus,
  secondaryText: _CurrencyFieldControlled2.default.propTypes.secondaryText,
  validationState: _CurrencyFieldControlled2.default.propTypes.validationState
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(TxlCurrencyField, 'TxlCurrencyField', 'src/input-fields/CurrencyField.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvQ3VycmVuY3lGaWVsZC5qc3giXSwibmFtZXMiOlsiVHhsQ3VycmVuY3lGaWVsZCIsInByb3BzIiwic3RhdGUiLCJ2YWx1ZSIsImRlZmF1bHRWYWx1ZSIsIm9uQmx1ciIsIm9uQ2hhbmdlIiwic2V0U3RhdGUiLCJfY3VycmVuY3lGaWVsZFJlZiIsImZvY3VzIiwicmVmIiwiY3VycmVuY3lDb2RlIiwibGFiZWwiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJvbkZvY3VzIiwic2Vjb25kYXJ5VGV4dCIsInZhbGlkYXRpb25TdGF0ZSIsIl9oYW5kbGVCbHVyIiwiX2hhbmRsZUNoYW5nZSIsIl9oYW5kbGVDdXJyZW5jeUZpZWxkUmVmIiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJvbmVPZiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUVBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUdxQkEsZ0I7OztBQUNuQiw0QkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBLDBKQUNYQSxLQURXOztBQUdqQixVQUFLQyxLQUFMLEdBQWE7QUFDWEMsYUFBT0YsTUFBTUc7QUFERixLQUFiO0FBSGlCO0FBTWxCOzs7O3NDQUdzQjtBQUFBLFVBQVRELEtBQVMsUUFBVEEsS0FBUztBQUFBLG1CQUlqQixLQUFLRixLQUpZO0FBQUEsVUFFbkJJLE1BRm1CLFVBRW5CQSxNQUZtQjtBQUFBLFVBR25CQyxRQUhtQixVQUduQkEsUUFIbUI7OztBQU1yQixXQUFLQyxRQUFMLENBQWMsRUFBRUosWUFBRixFQUFkLEVBQXlCLFlBQU07QUFDN0JFLGtCQUFVQSxPQUFPLEVBQUVGLFlBQUYsRUFBUCxDQUFWO0FBQ0FHLGlCQUFTLEVBQUVILFlBQUYsRUFBVDtBQUNELE9BSEQ7QUFJRDs7O3lDQUd3QjtBQUFBOztBQUFBLFVBQVRBLEtBQVMsU0FBVEEsS0FBUzs7QUFDdkIsV0FBS0ksUUFBTCxDQUFjLEVBQUVKLFlBQUYsRUFBZCxFQUF5QixZQUFNO0FBQzdCLGVBQUtGLEtBQUwsQ0FBV0ssUUFBWCxDQUFvQixFQUFFSCxZQUFGLEVBQXBCO0FBQ0QsT0FGRDtBQUdEOzs7NEJBR087QUFDTixXQUFLSyxpQkFBTCxDQUF1QkMsS0FBdkI7QUFDRDs7OzRDQUd1QkMsRyxFQUFLO0FBQzNCLFdBQUtGLGlCQUFMLEdBQXlCRSxHQUF6QjtBQUNEOzs7NkJBRVE7QUFBQSxvQkFTSCxLQUFLVCxLQVRGO0FBQUEsVUFFTFUsWUFGSyxXQUVMQSxZQUZLO0FBQUEsVUFHTEMsS0FISyxXQUdMQSxLQUhLO0FBQUEsVUFJTEMscUJBSkssV0FJTEEscUJBSks7QUFBQSxVQUtMQyxxQkFMSyxXQUtMQSxxQkFMSztBQUFBLFVBTUxDLE9BTkssV0FNTEEsT0FOSztBQUFBLFVBT0xDLGFBUEssV0FPTEEsYUFQSztBQUFBLFVBUUxDLGVBUkssV0FRTEEsZUFSSzs7O0FBWVAsYUFDRTtBQUNFLHNCQUFjTixZQURoQjtBQUVFLGVBQU9DLEtBRlQ7QUFHRSwrQkFBdUJDLHFCQUh6QjtBQUlFLCtCQUF1QkMscUJBSnpCO0FBS0UsZ0JBQVEsS0FBS0ksV0FMZjtBQU1FLGtCQUFVLEtBQUtDLGFBTmpCO0FBT0UsaUJBQVNKLE9BUFg7QUFRRSxhQUFLLEtBQUtLLHVCQVJaO0FBU0UsdUJBQWVKLGFBVGpCO0FBVUUseUJBQWlCQyxlQVZuQjtBQVdFLGVBQU8sS0FBS2YsS0FBTCxDQUFXQztBQVhwQixRQURGO0FBZUQ7OztFQWxFMkMsZ0JBQU1rQixTOztrQkFBL0JyQixnQjs7O0FBcUVyQkEsaUJBQWlCc0IsV0FBakIsR0FBK0Isa0JBQS9COztBQUVBdEIsaUJBQWlCdUIsU0FBakIsR0FBNkI7QUFDM0JaLGdCQUFjLGtDQUF3QlksU0FBeEIsQ0FBa0NaLFlBRHJCO0FBRTNCUCxnQkFBYyxrQ0FBd0JtQixTQUF4QixDQUFrQ3BCLEtBRnJCO0FBRzNCUyxTQUFPLGtDQUF3QlcsU0FBeEIsQ0FBa0NYLEtBSGQ7QUFJM0JDLHlCQUF1QixpQkFBVVcsS0FBVixDQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCLENBQWhCLENBSkk7QUFLM0JWLHlCQUF1QixpQkFBVVUsS0FBVixDQUFnQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCLENBQWhCLENBTEk7QUFNM0JuQixVQUFRLGtDQUF3QmtCLFNBQXhCLENBQWtDbEIsTUFOZjtBQU8zQkMsWUFBVSxrQ0FBd0JpQixTQUF4QixDQUFrQ2pCLFFBUGpCO0FBUTNCUyxXQUFTLGtDQUF3QlEsU0FBeEIsQ0FBa0NSLE9BUmhCO0FBUzNCQyxpQkFBZSxrQ0FBd0JPLFNBQXhCLENBQWtDUCxhQVR0QjtBQVUzQkMsbUJBQWlCLGtDQUF3Qk0sU0FBeEIsQ0FBa0NOO0FBVnhCLENBQTdCOzs7Ozs7OztnQ0F2RXFCakIsZ0IiLCJmaWxlIjoiQ3VycmVuY3lGaWVsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmFkaXVtIGZyb20gJ3JhZGl1bSc7XG5cbmltcG9ydCB7IGF1dG9iaW5kIH0gZnJvbSAnLi4vYmFzZS9CYXNlJztcbmltcG9ydCBDdXJyZW5jeUZpZWxkQ29udHJvbGxlZCBmcm9tICcuL0N1cnJlbmN5RmllbGRDb250cm9sbGVkJztcblxuQFJhZGl1bVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHhsQ3VycmVuY3lGaWVsZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgfTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlQmx1cih7IHZhbHVlIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBvbkJsdXIsXG4gICAgICBvbkNoYW5nZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMuc2V0U3RhdGUoeyB2YWx1ZSB9LCAoKSA9PiB7XG4gICAgICBvbkJsdXIgJiYgb25CbHVyKHsgdmFsdWUgfSk7XG4gICAgICBvbkNoYW5nZSh7IHZhbHVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVDaGFuZ2UoeyB2YWx1ZSB9KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZhbHVlIH0sICgpID0+IHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoeyB2YWx1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBmb2N1cygpIHtcbiAgICB0aGlzLl9jdXJyZW5jeUZpZWxkUmVmLmZvY3VzKCk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUN1cnJlbmN5RmllbGRSZWYocmVmKSB7XG4gICAgdGhpcy5fY3VycmVuY3lGaWVsZFJlZiA9IHJlZjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjdXJyZW5jeUNvZGUsXG4gICAgICBsYWJlbCxcbiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0cyxcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0cyxcbiAgICAgIG9uRm9jdXMsXG4gICAgICBzZWNvbmRhcnlUZXh0LFxuICAgICAgdmFsaWRhdGlvblN0YXRlLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEN1cnJlbmN5RmllbGRDb250cm9sbGVkXG4gICAgICAgIGN1cnJlbmN5Q29kZT17Y3VycmVuY3lDb2RlfVxuICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0cz17bWF4aW11bUZyYWN0aW9uRGlnaXRzfVxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM9e21pbmltdW1GcmFjdGlvbkRpZ2l0c31cbiAgICAgICAgb25CbHVyPXt0aGlzLl9oYW5kbGVCbHVyfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5faGFuZGxlQ2hhbmdlfVxuICAgICAgICBvbkZvY3VzPXtvbkZvY3VzfVxuICAgICAgICByZWY9e3RoaXMuX2hhbmRsZUN1cnJlbmN5RmllbGRSZWZ9XG4gICAgICAgIHNlY29uZGFyeVRleHQ9e3NlY29uZGFyeVRleHR9XG4gICAgICAgIHZhbGlkYXRpb25TdGF0ZT17dmFsaWRhdGlvblN0YXRlfVxuICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5UeGxDdXJyZW5jeUZpZWxkLmRpc3BsYXlOYW1lID0gJ1R4bEN1cnJlbmN5RmllbGQnO1xuXG5UeGxDdXJyZW5jeUZpZWxkLnByb3BUeXBlcyA9IHtcbiAgY3VycmVuY3lDb2RlOiBDdXJyZW5jeUZpZWxkQ29udHJvbGxlZC5wcm9wVHlwZXMuY3VycmVuY3lDb2RlLFxuICBkZWZhdWx0VmFsdWU6IEN1cnJlbmN5RmllbGRDb250cm9sbGVkLnByb3BUeXBlcy52YWx1ZSxcbiAgbGFiZWw6IEN1cnJlbmN5RmllbGRDb250cm9sbGVkLnByb3BUeXBlcy5sYWJlbCxcbiAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBQcm9wVHlwZXMub25lT2YoWzAsIDEsIDIsIDMsIDQsIDVdKSxcbiAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBQcm9wVHlwZXMub25lT2YoWzAsIDEsIDIsIDMsIDQsIDVdKSxcbiAgb25CbHVyOiBDdXJyZW5jeUZpZWxkQ29udHJvbGxlZC5wcm9wVHlwZXMub25CbHVyLFxuICBvbkNoYW5nZTogQ3VycmVuY3lGaWVsZENvbnRyb2xsZWQucHJvcFR5cGVzLm9uQ2hhbmdlLFxuICBvbkZvY3VzOiBDdXJyZW5jeUZpZWxkQ29udHJvbGxlZC5wcm9wVHlwZXMub25Gb2N1cyxcbiAgc2Vjb25kYXJ5VGV4dDogQ3VycmVuY3lGaWVsZENvbnRyb2xsZWQucHJvcFR5cGVzLnNlY29uZGFyeVRleHQsXG4gIHZhbGlkYXRpb25TdGF0ZTogQ3VycmVuY3lGaWVsZENvbnRyb2xsZWQucHJvcFR5cGVzLnZhbGlkYXRpb25TdGF0ZSxcbn07XG4iXX0=