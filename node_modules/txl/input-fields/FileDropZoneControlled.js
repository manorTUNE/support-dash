'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getOwnPropertyDescriptor = require('babel-runtime/core-js/object/get-own-property-descriptor');

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _class, _desc, _value, _class2;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _Base = require('../base/Base');

var _Upload = require('../icons/Upload');

var _Upload2 = _interopRequireDefault(_Upload);

var _FileDropZone = require('./FileDropZone.style');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

function preventDefault(event) {
  event && event.preventDefault();
}

var TxlFileDropZoneControlled = (0, _radium2.default)(_class = (_class2 = function (_React$Component) {
  (0, _inherits3.default)(TxlFileDropZoneControlled, _React$Component);

  function TxlFileDropZoneControlled() {
    (0, _classCallCheck3.default)(this, TxlFileDropZoneControlled);
    return (0, _possibleConstructorReturn3.default)(this, (TxlFileDropZoneControlled.__proto__ || (0, _getPrototypeOf2.default)(TxlFileDropZoneControlled)).apply(this, arguments));
  }

  (0, _createClass3.default)(TxlFileDropZoneControlled, [{
    key: '_handleDragEnter',
    value: function _handleDragEnter(event) {
      this.props.onDragEnter({ event: event });
    }
  }, {
    key: '_handleDragLeave',
    value: function _handleDragLeave(event) {
      this.props.onDragLeave({ event: event });
    }
  }, {
    key: '_handleDragOver',
    value: function _handleDragOver(event) {
      this.props.onDragOver({ event: event });
    }
  }, {
    key: '_handleDragStart',
    value: function _handleDragStart(event) {
      this.props.onDragStart({ event: event });
    }
  }, {
    key: '_handleDrop',
    value: function _handleDrop(event) {
      this.props.onDrop({ event: event });
    }
  }, {
    key: '_handleFilesSelected',
    value: function _handleFilesSelected(event) {
      this.props.onFilesSelected({ event: event });
    }
  }, {
    key: '_handleDropZoneRef',
    value: function _handleDropZoneRef(ref) {
      this._dropZone = ref;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          compact = _props.compact,
          disabled = _props.disabled,
          dragging = _props.dragging,
          multiFile = _props.multiFile,
          showsBorder = _props.showsBorder;


      var browseLinkStyle = disabled ? _FileDropZone.BROWSE_LINK_DISABLED_STYLE : _FileDropZone.BROWSE_LINK_STYLE;
      var browseLabelStyle = (0, _FileDropZone.getBrowseLabelStyle)(this.props);
      var uploadIconProps = (0, _FileDropZone.getUploadIconProps)(this.props);

      var accentStyle = dragging && showsBorder ? _FileDropZone.ACCENTED_DROP_AREA_STYLE : _FileDropZone.PLAIN_DROP_AREA_STYLE;
      var borderStyle = showsBorder ? _FileDropZone.BORDERED_DROP_AREA_STYLE : _FileDropZone.BORDERLESS_DROP_AREA_STYLE;
      var compactStyle = compact && _FileDropZone.COMPACT_DROP_AREA_STYLE;
      var dropAreaStyle = (0, _extends3.default)({}, _FileDropZone.BASE_DROP_AREA_STYLE, accentStyle, borderStyle, compactStyle);

      var BrowseLinkEl = disabled ? 'label' : 'a';
      var fileText = multiFile ? 'files' : 'file';

      return _react2.default.createElement(
        'div',
        {
          'data-component': 'TxlFileDropZoneControlled',
          onDragEnter: disabled ? preventDefault : this._handleDragEnter,
          onDragLeave: disabled ? preventDefault : this._handleDragLeave,
          onDragOver: disabled ? preventDefault : this._handleDragOver,
          onDragStart: disabled ? preventDefault : this._handleDragStart,
          onDrop: disabled ? preventDefault : this._handleDrop,
          ref: this._handleDropZoneRef,
          style: dropAreaStyle
        },
        !compact && _react2.default.createElement(_Upload2.default, uploadIconProps),
        _react2.default.createElement(
          'label',
          { style: browseLabelStyle },
          'Drop ',
          fileText,
          ' here or',
          _react2.default.createElement(
            BrowseLinkEl,
            { style: browseLinkStyle },
            ' browse '
          ),
          _react2.default.createElement('input', {
            multiple: multiFile,
            onChange: this._handleFilesSelected,
            style: _FileDropZone.FILE_UPLOAD_STYLE,
            type: 'file'
          }),
          'to upload'
        ),
        compact && _react2.default.createElement(_Upload2.default, uploadIconProps)
      );
    }
  }]);
  return TxlFileDropZoneControlled;
}(_react2.default.Component), (_applyDecoratedDescriptor(_class2.prototype, '_handleDragEnter', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDragEnter'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleDragLeave', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDragLeave'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleDragOver', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDragOver'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleDragStart', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDragStart'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleDrop', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDrop'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleFilesSelected', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleFilesSelected'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, '_handleDropZoneRef', [_Base.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, '_handleDropZoneRef'), _class2.prototype)), _class2)) || _class;

exports.default = TxlFileDropZoneControlled;


TxlFileDropZoneControlled.displayName = 'TxlFileDropZoneControlled';

TxlFileDropZoneControlled.propTypes = {
  compact: _react.PropTypes.bool,
  disabled: _react.PropTypes.bool,
  dragging: _react.PropTypes.bool,
  multiFile: _react.PropTypes.bool,
  onDragEnter: _react.PropTypes.func,
  onDragLeave: _react.PropTypes.func,
  onDragOver: _react.PropTypes.func,
  onDragStart: _react.PropTypes.func,
  onDrop: _react.PropTypes.func,
  onFilesSelected: _react.PropTypes.func.isRequired,
  showsBorder: _react.PropTypes.bool
};

TxlFileDropZoneControlled.defaultProps = {
  compact: false,
  disabled: false,
  dragging: false,
  multiFile: false,
  onDragEnter: _Base.NOOP,
  onDragLeave: _Base.NOOP,
  onDragOver: _Base.NOOP,
  onDragStart: _Base.NOOP,
  onDrop: _Base.NOOP,
  showsBorder: true
};
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(preventDefault, 'preventDefault', 'src/input-fields/FileDropZoneControlled.jsx');

  __REACT_HOT_LOADER__.register(TxlFileDropZoneControlled, 'TxlFileDropZoneControlled', 'src/input-fields/FileDropZoneControlled.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9pbnB1dC1maWVsZHMvRmlsZURyb3Bab25lQ29udHJvbGxlZC5qc3giXSwibmFtZXMiOlsicHJldmVudERlZmF1bHQiLCJldmVudCIsIlR4bEZpbGVEcm9wWm9uZUNvbnRyb2xsZWQiLCJwcm9wcyIsIm9uRHJhZ0VudGVyIiwib25EcmFnTGVhdmUiLCJvbkRyYWdPdmVyIiwib25EcmFnU3RhcnQiLCJvbkRyb3AiLCJvbkZpbGVzU2VsZWN0ZWQiLCJyZWYiLCJfZHJvcFpvbmUiLCJjb21wYWN0IiwiZGlzYWJsZWQiLCJkcmFnZ2luZyIsIm11bHRpRmlsZSIsInNob3dzQm9yZGVyIiwiYnJvd3NlTGlua1N0eWxlIiwiYnJvd3NlTGFiZWxTdHlsZSIsInVwbG9hZEljb25Qcm9wcyIsImFjY2VudFN0eWxlIiwiYm9yZGVyU3R5bGUiLCJjb21wYWN0U3R5bGUiLCJkcm9wQXJlYVN0eWxlIiwiQnJvd3NlTGlua0VsIiwiZmlsZVRleHQiLCJfaGFuZGxlRHJhZ0VudGVyIiwiX2hhbmRsZURyYWdMZWF2ZSIsIl9oYW5kbGVEcmFnT3ZlciIsIl9oYW5kbGVEcmFnU3RhcnQiLCJfaGFuZGxlRHJvcCIsIl9oYW5kbGVEcm9wWm9uZVJlZiIsIl9oYW5kbGVGaWxlc1NlbGVjdGVkIiwiQ29tcG9uZW50IiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJib29sIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBRUE7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY0EsU0FBU0EsY0FBVCxDQUF3QkMsS0FBeEIsRUFBK0I7QUFDN0JBLFdBQVNBLE1BQU1ELGNBQU4sRUFBVDtBQUNEOztJQUdvQkUseUI7Ozs7Ozs7Ozs7cUNBRUZELEssRUFBTztBQUN0QixXQUFLRSxLQUFMLENBQVdD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SUFQYztBQVFwQzlCLGVBQWEsaUJBQVU4QixJQVJhO0FBU3BDN0IsVUFBUSxpQkFBVTZCLElBVGtCO0FBVXBDNUIsbUJBQWlCLGlCQUFVNEIsSUFBVixDQUFlQyxVQVZJO0FBV3BDdEIsZUFBYSxpQkFBVW9CO0FBWGEsQ0FBdEM7O0FBY0FsQywwQkFBMEJxQyxZQUExQixHQUF5QztBQUN2QzNCLFdBQVMsS0FEOEI7QUFFdkNDLFlBQVUsS0FGNkI7QUFHdkNDLFlBQVUsS0FINkI7QUFJdkNDLGFBQVcsS0FKNEI7QUFLdkNYLHlCQUx1QztBQU12Q0MseUJBTnVDO0FBT3ZDQyx3QkFQdUM7QUFRdkNDLHlCQVJ1QztBQVN2Q0Msb0JBVHVDO0FBVXZDUSxlQUFhO0FBVjBCLENBQXpDOzs7Ozs7OztnQ0FwSFNoQixjOztnQ0FLWUUseUIiLCJmaWxlIjoiRmlsZURyb3Bab25lQ29udHJvbGxlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmFkaXVtIGZyb20gJ3JhZGl1bSc7XG5cbmltcG9ydCB7IGF1dG9iaW5kLCBOT09QIH0gZnJvbSAnLi4vYmFzZS9CYXNlJztcbmltcG9ydCBVcGxvYWRJY29uIGZyb20gJy4uL2ljb25zL1VwbG9hZCc7XG5pbXBvcnQge1xuICBBQ0NFTlRFRF9EUk9QX0FSRUFfU1RZTEUsXG4gIEJBU0VfRFJPUF9BUkVBX1NUWUxFLFxuICBCT1JERVJFRF9EUk9QX0FSRUFfU1RZTEUsXG4gIEJPUkRFUkxFU1NfRFJPUF9BUkVBX1NUWUxFLFxuICBCUk9XU0VfTElOS19ESVNBQkxFRF9TVFlMRSxcbiAgQlJPV1NFX0xJTktfU1RZTEUsXG4gIENPTVBBQ1RfRFJPUF9BUkVBX1NUWUxFLFxuICBGSUxFX1VQTE9BRF9TVFlMRSxcbiAgZ2V0QnJvd3NlTGFiZWxTdHlsZSxcbiAgZ2V0VXBsb2FkSWNvblByb3BzLFxuICBQTEFJTl9EUk9QX0FSRUFfU1RZTEUsXG59IGZyb20gJy4vRmlsZURyb3Bab25lLnN0eWxlJztcblxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgZXZlbnQgJiYgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbn1cblxuQFJhZGl1bVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHhsRmlsZURyb3Bab25lQ29udHJvbGxlZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIEBhdXRvYmluZFxuICBfaGFuZGxlRHJhZ0VudGVyKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkRyYWdFbnRlcih7IGV2ZW50IH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVEcmFnTGVhdmUoZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uRHJhZ0xlYXZlKHsgZXZlbnQgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZURyYWdPdmVyKGV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkRyYWdPdmVyKHsgZXZlbnQgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZURyYWdTdGFydChldmVudCkge1xuICAgIHRoaXMucHJvcHMub25EcmFnU3RhcnQoeyBldmVudCB9KTtcbiAgfVxuXG4gIEBhdXRvYmluZFxuICBfaGFuZGxlRHJvcChldmVudCkge1xuICAgIHRoaXMucHJvcHMub25Ecm9wKHsgZXZlbnQgfSk7XG4gIH1cblxuICBAYXV0b2JpbmRcbiAgX2hhbmRsZUZpbGVzU2VsZWN0ZWQoZXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uRmlsZXNTZWxlY3RlZCh7IGV2ZW50IH0pO1xuICB9XG5cbiAgQGF1dG9iaW5kXG4gIF9oYW5kbGVEcm9wWm9uZVJlZihyZWYpIHtcbiAgICB0aGlzLl9kcm9wWm9uZSA9IHJlZjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjb21wYWN0LFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBkcmFnZ2luZyxcbiAgICAgIG11bHRpRmlsZSxcbiAgICAgIHNob3dzQm9yZGVyLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgYnJvd3NlTGlua1N0eWxlID0gZGlzYWJsZWQgPyBCUk9XU0VfTElOS19ESVNBQkxFRF9TVFlMRSA6IEJST1dTRV9MSU5LX1NUWUxFO1xuICAgIGNvbnN0IGJyb3dzZUxhYmVsU3R5bGUgPSBnZXRCcm93c2VMYWJlbFN0eWxlKHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IHVwbG9hZEljb25Qcm9wcyA9IGdldFVwbG9hZEljb25Qcm9wcyh0aGlzLnByb3BzKTtcblxuICAgIGNvbnN0IGFjY2VudFN0eWxlID0gZHJhZ2dpbmcgJiYgc2hvd3NCb3JkZXIgPyBBQ0NFTlRFRF9EUk9QX0FSRUFfU1RZTEUgOiBQTEFJTl9EUk9QX0FSRUFfU1RZTEU7XG4gICAgY29uc3QgYm9yZGVyU3R5bGUgPSBzaG93c0JvcmRlciA/IEJPUkRFUkVEX0RST1BfQVJFQV9TVFlMRSA6IEJPUkRFUkxFU1NfRFJPUF9BUkVBX1NUWUxFO1xuICAgIGNvbnN0IGNvbXBhY3RTdHlsZSA9IGNvbXBhY3QgJiYgQ09NUEFDVF9EUk9QX0FSRUFfU1RZTEU7XG4gICAgY29uc3QgZHJvcEFyZWFTdHlsZSA9IHtcbiAgICAgIC4uLkJBU0VfRFJPUF9BUkVBX1NUWUxFLFxuICAgICAgLi4uYWNjZW50U3R5bGUsXG4gICAgICAuLi5ib3JkZXJTdHlsZSxcbiAgICAgIC4uLmNvbXBhY3RTdHlsZSxcbiAgICB9O1xuXG4gICAgY29uc3QgQnJvd3NlTGlua0VsID0gZGlzYWJsZWQgPyAnbGFiZWwnIDogJ2EnO1xuICAgIGNvbnN0IGZpbGVUZXh0ID0gbXVsdGlGaWxlID8gJ2ZpbGVzJyA6ICdmaWxlJztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGRhdGEtY29tcG9uZW50PVwiVHhsRmlsZURyb3Bab25lQ29udHJvbGxlZFwiXG4gICAgICAgIG9uRHJhZ0VudGVyPXtkaXNhYmxlZCA/IHByZXZlbnREZWZhdWx0IDogdGhpcy5faGFuZGxlRHJhZ0VudGVyfVxuICAgICAgICBvbkRyYWdMZWF2ZT17ZGlzYWJsZWQgPyBwcmV2ZW50RGVmYXVsdCA6IHRoaXMuX2hhbmRsZURyYWdMZWF2ZX1cbiAgICAgICAgb25EcmFnT3Zlcj17ZGlzYWJsZWQgPyBwcmV2ZW50RGVmYXVsdCA6IHRoaXMuX2hhbmRsZURyYWdPdmVyfVxuICAgICAgICBvbkRyYWdTdGFydD17ZGlzYWJsZWQgPyBwcmV2ZW50RGVmYXVsdCA6IHRoaXMuX2hhbmRsZURyYWdTdGFydH1cbiAgICAgICAgb25Ecm9wPXtkaXNhYmxlZCA/IHByZXZlbnREZWZhdWx0IDogdGhpcy5faGFuZGxlRHJvcH1cbiAgICAgICAgcmVmPXt0aGlzLl9oYW5kbGVEcm9wWm9uZVJlZn1cbiAgICAgICAgc3R5bGU9e2Ryb3BBcmVhU3R5bGV9XG4gICAgICA+XG4gICAgICAgIHshY29tcGFjdCAmJlxuICAgICAgICAgIDxVcGxvYWRJY29uIHsuLi51cGxvYWRJY29uUHJvcHN9IC8+XG4gICAgICAgIH1cbiAgICAgICAgPGxhYmVsIHN0eWxlPXticm93c2VMYWJlbFN0eWxlfT5cbiAgICAgICAgICBEcm9wIHtmaWxlVGV4dH0gaGVyZSBvclxuICAgICAgICAgIDxCcm93c2VMaW5rRWwgc3R5bGU9e2Jyb3dzZUxpbmtTdHlsZX0+IGJyb3dzZSA8L0Jyb3dzZUxpbmtFbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIG11bHRpcGxlPXttdWx0aUZpbGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5faGFuZGxlRmlsZXNTZWxlY3RlZH1cbiAgICAgICAgICAgIHN0eWxlPXtGSUxFX1VQTE9BRF9TVFlMRX1cbiAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIHRvIHVwbG9hZFxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICB7Y29tcGFjdCAmJlxuICAgICAgICAgIDxVcGxvYWRJY29uIHsuLi51cGxvYWRJY29uUHJvcHN9IC8+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVHhsRmlsZURyb3Bab25lQ29udHJvbGxlZC5kaXNwbGF5TmFtZSA9ICdUeGxGaWxlRHJvcFpvbmVDb250cm9sbGVkJztcblxuVHhsRmlsZURyb3Bab25lQ29udHJvbGxlZC5wcm9wVHlwZXMgPSB7XG4gIGNvbXBhY3Q6IFByb3BUeXBlcy5ib29sLFxuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGRyYWdnaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgbXVsdGlGaWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25EcmFnRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbkRyYWdMZWF2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRHJhZ092ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbkRyYWdTdGFydDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRHJvcDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRmlsZXNTZWxlY3RlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2hvd3NCb3JkZXI6IFByb3BUeXBlcy5ib29sLFxufTtcblxuVHhsRmlsZURyb3Bab25lQ29udHJvbGxlZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbXBhY3Q6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGRyYWdnaW5nOiBmYWxzZSxcbiAgbXVsdGlGaWxlOiBmYWxzZSxcbiAgb25EcmFnRW50ZXI6IE5PT1AsXG4gIG9uRHJhZ0xlYXZlOiBOT09QLFxuICBvbkRyYWdPdmVyOiBOT09QLFxuICBvbkRyYWdTdGFydDogTk9PUCxcbiAgb25Ecm9wOiBOT09QLFxuICBzaG93c0JvcmRlcjogdHJ1ZSxcbn07XG4iXX0=