'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _isFunction2 = require('lodash/isFunction');

var _isFunction3 = _interopRequireDefault(_isFunction2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactAddonsShallowCompare = require('react-addons-shallow-compare');

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _immutable = require('immutable');

var _formatters = require('./formatters');

var _ = require('./');

var _ScrollingTable = require('./ScrollingTable.style');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var convert = function convert(cell, type) {
  switch (type) {
    case 'currency':
      return (0, _formatters.currencyFormatter)(cell);
    case 'percent':
      return (0, _formatters.percentFormatter)(cell);
    case 'number':
      return (0, _formatters.numberFormatter)(cell);
    default:
      return cell;
  }
};

var ScrollingTableCell = function (_Component) {
  (0, _inherits3.default)(ScrollingTableCell, _Component);

  function ScrollingTableCell() {
    (0, _classCallCheck3.default)(this, ScrollingTableCell);
    return (0, _possibleConstructorReturn3.default)(this, (ScrollingTableCell.__proto__ || (0, _getPrototypeOf2.default)(ScrollingTableCell)).apply(this, arguments));
  }

  (0, _createClass3.default)(ScrollingTableCell, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return (0, _reactAddonsShallowCompare2.default)(this, nextProps, nextState);
    }
  }, {
    key: '_formatData',
    value: function _formatData() {
      var _props = this.props,
          header = _props.header,
          value = _props.value,
          data = _props.data;


      if ((0, _isFunction3.default)(header.formatCell)) {
        return header.formatCell(value, data);
      }

      return value;
    }
  }, {
    key: 'render',
    value: function render() {
      var header = this.props.header;

      var cell = convert(this._formatData(), header.type);

      var styles = (0, _extends3.default)({}, _ScrollingTable.CELL_CONTENT_STYLES, {
        width: header.width
      });

      switch (header.textOverflow) {
        case 'hidden':
          styles.overflow = 'hidden';
          break;
        case 'truncate':
          styles.overflow = 'hidden';
          styles.whiteSpace = 'nowrap';
          styles.wordBreak = 'break-all';
          styles.textOverflow = 'ellipsis';
          break;
        default:
          break;
      }

      switch (header.type) {
        case 'date':
          styles.textAlign = 'middle';
          break;
        case 'currency':
        case 'number':
        case 'percent':
          styles.textAlign = 'right';
          break;
        default:
          break;
      }

      return _react2.default.createElement(
        'td',
        {
          style: _ScrollingTable.CELL_STYLES
        },
        _react2.default.createElement(
          'div',
          { style: styles },
          cell
        )
      );
    }
  }]);
  return ScrollingTableCell;
}(_react.Component);

ScrollingTableCell.propTypes = {
  data: require('react').PropTypes.any.isRequired,
  header: require('react').PropTypes.any.isRequired,
  value: require('react').PropTypes.any.isRequired
};
exports.default = ScrollingTableCell;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(convert, 'convert', 'src/scrolling-table/ScrollingTableCell.jsx');

  __REACT_HOT_LOADER__.register(ScrollingTableCell, 'ScrollingTableCell', 'src/scrolling-table/ScrollingTableCell.jsx');
}();

;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JvbGxpbmctdGFibGUvU2Nyb2xsaW5nVGFibGVDZWxsLmpzeCJdLCJuYW1lcyI6WyJjb252ZXJ0IiwiY2VsbCIsInR5cGUiLCJTY3JvbGxpbmdUYWJsZUNlbGwiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJwcm9wcyIsImhlYWRlciIsInZhbHVlIiwiZGF0YSIsImZvcm1hdENlbGwiLCJfZm9ybWF0RGF0YSIsInN0eWxlcyIsIndpZHRoIiwidGV4dE92ZXJmbG93Iiwib3ZlcmZsb3ciLCJ3aGl0ZVNwYWNlIiwid29yZEJyZWFrIiwidGV4dEFsaWduIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBRUE7Ozs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQVdBLElBQU1BLFVBQVUsU0FBVkEsT0FBVSxDQUFDQyxJQUFELEVBQU9DLElBQVAsRUFBZ0I7QUFDOUIsVUFBUUEsSUFBUjtBQUNFLFNBQUssVUFBTDtBQUNFLGFBQU8sbUNBQWtCRCxJQUFsQixDQUFQO0FBQ0YsU0FBSyxTQUFMO0FBQ0UsYUFBTyxrQ0FBaUJBLElBQWpCLENBQVA7QUFDRixTQUFLLFFBQUw7QUFDRSxhQUFPLGlDQUFnQkEsSUFBaEIsQ0FBUDtBQUNGO0FBQ0UsYUFBT0EsSUFBUDtBQVJKO0FBVUQsQ0FYRDs7SUFhcUJFLGtCOzs7Ozs7Ozs7OzBDQUdHQyxTLEVBQWtCQyxTLEVBQW1CO0FBQ3pELGFBQU8seUNBQWUsSUFBZixFQUFxQkQsU0FBckIsRUFBZ0NDLFNBQWhDLENBQVA7QUFDRDs7O2tDQUVrQjtBQUFBLG1CQUNlLEtBQUtDLEtBRHBCO0FBQUEsVUFDVEMsTUFEUyxVQUNUQSxNQURTO0FBQUEsVUFDREMsS0FEQyxVQUNEQSxLQURDO0FBQUEsVUFDTUMsSUFETixVQUNNQSxJQUROOzs7QUFHakIsVUFBSSwwQkFBV0YsT0FBT0csVUFBbEIsQ0FBSixFQUFtQztBQUNqQyxlQUFPSCxPQUFPRyxVQUFQLENBQWtCRixLQUFsQixFQUF5QkMsSUFBekIsQ0FBUDtBQUNEOztBQUVELGFBQU9ELEtBQVA7QUFDRDs7OzZCQUUwQjtBQUFBLFVBQ2pCRCxNQURpQixHQUNOLEtBQUtELEtBREMsQ0FDakJDLE1BRGlCOztBQUV6QixVQUFNTixPQUFPRCxRQUFRLEtBQUtXLFdBQUwsRUFBUixFQUE0QkosT0FBT0wsSUFBbkMsQ0FBYjs7QUFFQSxVQUFNVTtBQUVKQyxlQUFPTixPQUFPTTtBQUZWLFFBQU47O0FBS0EsY0FBUU4sT0FBT08sWUFBZjtBQUNFLGFBQUssUUFBTDtBQUNFRixpQkFBT0csUUFBUCxHQUFrQixRQUFsQjtBQUNBO0FBQ0YsYUFBSyxVQUFMO0FBQ0VILGlCQUFPRyxRQUFQLEdBQWtCLFFBQWxCO0FBQ0FILGlCQUFPSSxVQUFQLEdBQW9CLFFBQXBCO0FBQ0FKLGlCQUFPSyxTQUFQLEdBQW1CLFdBQW5CO0FBQ0FMLGlCQUFPRSxZQUFQLEdBQXNCLFVBQXRCO0FBQ0E7QUFDRjtBQUNFO0FBWEo7O0FBY0EsY0FBUVAsT0FBT0wsSUFBZjtBQUNFLGFBQUssTUFBTDtBQUNFVSxpQkFBT00sU0FBUCxHQUFtQixRQUFuQjtBQUNBO0FBQ0YsYUFBSyxVQUFMO0FBQ0EsYUFBSyxRQUFMO0FBQ0EsYUFBSyxTQUFMO0FBQ0VOLGlCQUFPTSxTQUFQLEdBQW1CLE9BQW5CO0FBQ0E7QUFDRjtBQUNFO0FBVko7O0FBYUEsYUFDRTtBQUFBO0FBQUE7QUFDRTtBQURGO0FBR0U7QUFBQTtBQUFBLFlBQUssT0FBT04sTUFBWjtBQUNHWDtBQURIO0FBSEYsT0FERjtBQVNEOzs7Ozs7Ozs7O2tCQTlEa0JFLGtCOzs7Ozs7OztnQ0FiZkgsTzs7Z0NBYWVHLGtCIiwiZmlsZSI6IlNjcm9sbGluZ1RhYmxlQ2VsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEBmbG93XG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBzaGFsbG93Q29tcGFyZSBmcm9tICdyZWFjdC1hZGRvbnMtc2hhbGxvdy1jb21wYXJlJztcbmltcG9ydCB7IE1hcCB9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmltcG9ydCB7IGN1cnJlbmN5Rm9ybWF0dGVyLCBudW1iZXJGb3JtYXR0ZXIsIHBlcmNlbnRGb3JtYXR0ZXIgfSBmcm9tICcuL2Zvcm1hdHRlcnMnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi8nO1xuaW1wb3J0IHtcbiAgQ0VMTF9TVFlMRVMsXG4gIENFTExfQ09OVEVOVF9TVFlMRVMsXG59IGZyb20gJy4vU2Nyb2xsaW5nVGFibGUuc3R5bGUnO1xuXG50eXBlIFByb3BzID0ge1xuICBkYXRhOiBNYXA8c3RyaW5nLCBhbnk+LFxuICBoZWFkZXI6IEhlYWRlcixcbiAgdmFsdWU6IGFueSxcbn07XG5cbmNvbnN0IGNvbnZlcnQgPSAoY2VsbCwgdHlwZSkgPT4ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdjdXJyZW5jeSc6XG4gICAgICByZXR1cm4gY3VycmVuY3lGb3JtYXR0ZXIoY2VsbCk7XG4gICAgY2FzZSAncGVyY2VudCc6XG4gICAgICByZXR1cm4gcGVyY2VudEZvcm1hdHRlcihjZWxsKTtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIG51bWJlckZvcm1hdHRlcihjZWxsKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGNlbGw7XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjcm9sbGluZ1RhYmxlQ2VsbCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHByb3BzOiBQcm9wcztcblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBQcm9wcywgbmV4dFN0YXRlOiBPYmplY3QpIHtcbiAgICByZXR1cm4gc2hhbGxvd0NvbXBhcmUodGhpcywgbmV4dFByb3BzLCBuZXh0U3RhdGUpO1xuICB9XG5cbiAgX2Zvcm1hdERhdGEoKTogYW55IHtcbiAgICBjb25zdCB7IGhlYWRlciwgdmFsdWUsIGRhdGEgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihoZWFkZXIuZm9ybWF0Q2VsbCkpIHtcbiAgICAgIHJldHVybiBoZWFkZXIuZm9ybWF0Q2VsbCh2YWx1ZSwgZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmVuZGVyKCk6IFJlYWN0LkVsZW1lbnQ8Kj4ge1xuICAgIGNvbnN0IHsgaGVhZGVyIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGNlbGwgPSBjb252ZXJ0KHRoaXMuX2Zvcm1hdERhdGEoKSwgaGVhZGVyLnR5cGUpO1xuXG4gICAgY29uc3Qgc3R5bGVzID0ge1xuICAgICAgLi4uQ0VMTF9DT05URU5UX1NUWUxFUyxcbiAgICAgIHdpZHRoOiBoZWFkZXIud2lkdGgsXG4gICAgfTtcblxuICAgIHN3aXRjaCAoaGVhZGVyLnRleHRPdmVyZmxvdykge1xuICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgc3R5bGVzLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJ1bmNhdGUnOlxuICAgICAgICBzdHlsZXMub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgc3R5bGVzLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgICAgICAgc3R5bGVzLndvcmRCcmVhayA9ICdicmVhay1hbGwnO1xuICAgICAgICBzdHlsZXMudGV4dE92ZXJmbG93ID0gJ2VsbGlwc2lzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGhlYWRlci50eXBlKSB7XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgc3R5bGVzLnRleHRBbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2N1cnJlbmN5JzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdwZXJjZW50JzpcbiAgICAgICAgc3R5bGVzLnRleHRBbGlnbiA9ICdyaWdodCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0ZFxuICAgICAgICBzdHlsZT17Q0VMTF9TVFlMRVN9XG4gICAgICA+XG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlc30+XG4gICAgICAgICAge2NlbGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZD5cbiAgICApO1xuICB9XG59XG4iXX0=